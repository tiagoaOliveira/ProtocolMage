function X0(r,n){for(var i=0;i<n.length;i++){const l=n[i];if(typeof l!="string"&&!Array.isArray(l)){for(const u in l)if(u!=="default"&&!(u in r)){const c=Object.getOwnPropertyDescriptor(l,u);c&&Object.defineProperty(r,u,c.get?c:{enumerable:!0,get:()=>l[u]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function i(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(u){if(u.ep)return;u.ep=!0;const c=i(u);fetch(u.href,c)}})();function J0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function I0(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var n=r.default;if(typeof n=="function"){var i=function l(){var u=!1;try{u=this instanceof l}catch{}return u?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};i.prototype=n.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(r).forEach(function(l){var u=Object.getOwnPropertyDescriptor(r,l);Object.defineProperty(i,l,u.get?u:{enumerable:!0,get:function(){return r[l]}})}),i}var ic={exports:{}},ks={};var av;function Z0(){if(av)return ks;av=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(l,u,c){var h=null;if(c!==void 0&&(h=""+c),u.key!==void 0&&(h=""+u.key),"key"in u){c={};for(var m in u)m!=="key"&&(c[m]=u[m])}else c=u;return u=c.ref,{$$typeof:r,type:l,key:h,ref:u!==void 0?u:null,props:c}}return ks.Fragment=n,ks.jsx=i,ks.jsxs=i,ks}var nv;function F0(){return nv||(nv=1,ic.exports=Z0()),ic.exports}var f=F0(),sc={exports:{}},me={};var iv;function W0(){if(iv)return me;iv=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),w=Symbol.iterator;function S(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,j={};function k(O,H,I){this.props=O,this.context=H,this.refs=j,this.updater=I||x}k.prototype.isReactComponent={},k.prototype.setState=function(O,H){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,H,"setState")},k.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function B(){}B.prototype=k.prototype;function z(O,H,I){this.props=O,this.context=H,this.refs=j,this.updater=I||x}var Q=z.prototype=new B;Q.constructor=z,N(Q,k.prototype),Q.isPureReactComponent=!0;var te=Array.isArray;function Z(){}var J={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function q(O,H,I){var ee=I.ref;return{$$typeof:r,type:O,key:H,ref:ee!==void 0?ee:null,props:I}}function K(O,H){return q(O.type,H,O.props)}function ce(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function pe(O){var H={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(I){return H[I]})}var Je=/\/+/g;function Ge(O,H){return typeof O=="object"&&O!==null&&O.key!=null?pe(""+O.key):H.toString(36)}function at(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Z,Z):(O.status="pending",O.then(function(H){O.status==="pending"&&(O.status="fulfilled",O.value=H)},function(H){O.status==="pending"&&(O.status="rejected",O.reason=H)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function R(O,H,I,ee,fe){var ve=typeof O;(ve==="undefined"||ve==="boolean")&&(O=null);var xe=!1;if(O===null)xe=!0;else switch(ve){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(O.$$typeof){case r:case n:xe=!0;break;case y:return xe=O._init,R(xe(O._payload),H,I,ee,fe)}}if(xe)return fe=fe(O),xe=ee===""?"."+Ge(O,0):ee,te(fe)?(I="",xe!=null&&(I=xe.replace(Je,"$&/")+"/"),R(fe,H,I,"",function(G){return G})):fe!=null&&(ce(fe)&&(fe=K(fe,I+(fe.key==null||O&&O.key===fe.key?"":(""+fe.key).replace(Je,"$&/")+"/")+xe)),H.push(fe)),1;xe=0;var nt=ee===""?".":ee+":";if(te(O))for(var ie=0;ie<O.length;ie++)ee=O[ie],ve=nt+Ge(ee,ie),xe+=R(ee,H,I,ve,fe);else if(ie=S(O),typeof ie=="function")for(O=ie.call(O),ie=0;!(ee=O.next()).done;)ee=ee.value,ve=nt+Ge(ee,ie++),xe+=R(ee,H,I,ve,fe);else if(ve==="object"){if(typeof O.then=="function")return R(at(O),H,I,ee,fe);throw H=String(O),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return xe}function P(O,H,I){if(O==null)return O;var ee=[],fe=0;return R(O,ee,"","",function(ve){return H.call(I,ve,fe++)}),ee}function W(O){if(O._status===-1){var H=O._result;H=H(),H.then(function(I){(O._status===0||O._status===-1)&&(O._status=1,O._result=I)},function(I){(O._status===0||O._status===-1)&&(O._status=2,O._result=I)}),O._status===-1&&(O._status=0,O._result=H)}if(O._status===1)return O._result.default;throw O._result}var F=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},se={map:P,forEach:function(O,H,I){P(O,function(){H.apply(this,arguments)},I)},count:function(O){var H=0;return P(O,function(){H++}),H},toArray:function(O){return P(O,function(H){return H})||[]},only:function(O){if(!ce(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return me.Activity=_,me.Children=se,me.Component=k,me.Fragment=i,me.Profiler=u,me.PureComponent=z,me.StrictMode=l,me.Suspense=v,me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,me.__COMPILER_RUNTIME={__proto__:null,c:function(O){return J.H.useMemoCache(O)}},me.cache=function(O){return function(){return O.apply(null,arguments)}},me.cacheSignal=function(){return null},me.cloneElement=function(O,H,I){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ee=N({},O.props),fe=O.key;if(H!=null)for(ve in H.key!==void 0&&(fe=""+H.key),H)!X.call(H,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&H.ref===void 0||(ee[ve]=H[ve]);var ve=arguments.length-2;if(ve===1)ee.children=I;else if(1<ve){for(var xe=Array(ve),nt=0;nt<ve;nt++)xe[nt]=arguments[nt+2];ee.children=xe}return q(O.type,fe,ee)},me.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},me.createElement=function(O,H,I){var ee,fe={},ve=null;if(H!=null)for(ee in H.key!==void 0&&(ve=""+H.key),H)X.call(H,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(fe[ee]=H[ee]);var xe=arguments.length-2;if(xe===1)fe.children=I;else if(1<xe){for(var nt=Array(xe),ie=0;ie<xe;ie++)nt[ie]=arguments[ie+2];fe.children=nt}if(O&&O.defaultProps)for(ee in xe=O.defaultProps,xe)fe[ee]===void 0&&(fe[ee]=xe[ee]);return q(O,ve,fe)},me.createRef=function(){return{current:null}},me.forwardRef=function(O){return{$$typeof:m,render:O}},me.isValidElement=ce,me.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:W}},me.memo=function(O,H){return{$$typeof:p,type:O,compare:H===void 0?null:H}},me.startTransition=function(O){var H=J.T,I={};J.T=I;try{var ee=O(),fe=J.S;fe!==null&&fe(I,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(Z,F)}catch(ve){F(ve)}finally{H!==null&&I.types!==null&&(H.types=I.types),J.T=H}},me.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},me.use=function(O){return J.H.use(O)},me.useActionState=function(O,H,I){return J.H.useActionState(O,H,I)},me.useCallback=function(O,H){return J.H.useCallback(O,H)},me.useContext=function(O){return J.H.useContext(O)},me.useDebugValue=function(){},me.useDeferredValue=function(O,H){return J.H.useDeferredValue(O,H)},me.useEffect=function(O,H){return J.H.useEffect(O,H)},me.useEffectEvent=function(O){return J.H.useEffectEvent(O)},me.useId=function(){return J.H.useId()},me.useImperativeHandle=function(O,H,I){return J.H.useImperativeHandle(O,H,I)},me.useInsertionEffect=function(O,H){return J.H.useInsertionEffect(O,H)},me.useLayoutEffect=function(O,H){return J.H.useLayoutEffect(O,H)},me.useMemo=function(O,H){return J.H.useMemo(O,H)},me.useOptimistic=function(O,H){return J.H.useOptimistic(O,H)},me.useReducer=function(O,H,I){return J.H.useReducer(O,H,I)},me.useRef=function(O){return J.H.useRef(O)},me.useState=function(O){return J.H.useState(O)},me.useSyncExternalStore=function(O,H,I){return J.H.useSyncExternalStore(O,H,I)},me.useTransition=function(){return J.H.useTransition()},me.version="19.2.1",me}var sv;function qc(){return sv||(sv=1,sc.exports=W0()),sc.exports}var T=qc(),rc={exports:{}},Us={},lc={exports:{}},oc={};var rv;function eb(){return rv||(rv=1,(function(r){function n(R,P){var W=R.length;R.push(P);e:for(;0<W;){var F=W-1>>>1,se=R[F];if(0<u(se,P))R[F]=P,R[W]=se,W=F;else break e}}function i(R){return R.length===0?null:R[0]}function l(R){if(R.length===0)return null;var P=R[0],W=R.pop();if(W!==P){R[0]=W;e:for(var F=0,se=R.length,O=se>>>1;F<O;){var H=2*(F+1)-1,I=R[H],ee=H+1,fe=R[ee];if(0>u(I,W))ee<se&&0>u(fe,I)?(R[F]=fe,R[ee]=W,F=ee):(R[F]=I,R[H]=W,F=H);else if(ee<se&&0>u(fe,W))R[F]=fe,R[ee]=W,F=ee;else break e}}return P}function u(R,P){var W=R.sortIndex-P.sortIndex;return W!==0?W:R.id-P.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var v=[],p=[],y=1,_=null,w=3,S=!1,x=!1,N=!1,j=!1,k=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function Q(R){for(var P=i(p);P!==null;){if(P.callback===null)l(p);else if(P.startTime<=R)l(p),P.sortIndex=P.expirationTime,n(v,P);else break;P=i(p)}}function te(R){if(N=!1,Q(R),!x)if(i(v)!==null)x=!0,Z||(Z=!0,pe());else{var P=i(p);P!==null&&at(te,P.startTime-R)}}var Z=!1,J=-1,X=5,q=-1;function K(){return j?!0:!(r.unstable_now()-q<X)}function ce(){if(j=!1,Z){var R=r.unstable_now();q=R;var P=!0;try{e:{x=!1,N&&(N=!1,B(J),J=-1),S=!0;var W=w;try{t:{for(Q(R),_=i(v);_!==null&&!(_.expirationTime>R&&K());){var F=_.callback;if(typeof F=="function"){_.callback=null,w=_.priorityLevel;var se=F(_.expirationTime<=R);if(R=r.unstable_now(),typeof se=="function"){_.callback=se,Q(R),P=!0;break t}_===i(v)&&l(v),Q(R)}else l(v);_=i(v)}if(_!==null)P=!0;else{var O=i(p);O!==null&&at(te,O.startTime-R),P=!1}}break e}finally{_=null,w=W,S=!1}P=void 0}}finally{P?pe():Z=!1}}}var pe;if(typeof z=="function")pe=function(){z(ce)};else if(typeof MessageChannel<"u"){var Je=new MessageChannel,Ge=Je.port2;Je.port1.onmessage=ce,pe=function(){Ge.postMessage(null)}}else pe=function(){k(ce,0)};function at(R,P){J=k(function(){R(r.unstable_now())},P)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(R){R.callback=null},r.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<R?Math.floor(1e3/R):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(R){switch(w){case 1:case 2:case 3:var P=3;break;default:P=w}var W=w;w=P;try{return R()}finally{w=W}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function(R,P){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var W=w;w=R;try{return P()}finally{w=W}},r.unstable_scheduleCallback=function(R,P,W){var F=r.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?F+W:F):W=F,R){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=W+se,R={id:y++,callback:P,priorityLevel:R,startTime:W,expirationTime:se,sortIndex:-1},W>F?(R.sortIndex=W,n(p,R),i(v)===null&&R===i(p)&&(N?(B(J),J=-1):N=!0,at(te,W-F))):(R.sortIndex=se,n(v,R),x||S||(x=!0,Z||(Z=!0,pe()))),R},r.unstable_shouldYield=K,r.unstable_wrapCallback=function(R){var P=w;return function(){var W=w;w=P;try{return R.apply(this,arguments)}finally{w=W}}}})(oc)),oc}var lv;function tb(){return lv||(lv=1,lc.exports=eb()),lc.exports}var uc={exports:{}},mt={};var ov;function ab(){if(ov)return mt;ov=1;var r=qc();function n(v){var p="https://react.dev/errors/"+v;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+v+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function c(v,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:_==null?null:""+_,children:v,containerInfo:p,implementation:y}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(v,p){if(v==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,mt.createPortal=function(v,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return c(v,p,null,y)},mt.flushSync=function(v){var p=h.T,y=l.p;try{if(h.T=null,l.p=2,v)return v()}finally{h.T=p,l.p=y,l.d.f()}},mt.preconnect=function(v,p){typeof v=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(v,p))},mt.prefetchDNS=function(v){typeof v=="string"&&l.d.D(v)},mt.preinit=function(v,p){if(typeof v=="string"&&p&&typeof p.as=="string"){var y=p.as,_=m(y,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?l.d.S(v,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:S}):y==="script"&&l.d.X(v,{crossOrigin:_,integrity:w,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},mt.preinitModule=function(v,p){if(typeof v=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=m(p.as,p.crossOrigin);l.d.M(v,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(v)},mt.preload=function(v,p){if(typeof v=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=m(y,p.crossOrigin);l.d.L(v,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},mt.preloadModule=function(v,p){if(typeof v=="string")if(p){var y=m(p.as,p.crossOrigin);l.d.m(v,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(v)},mt.requestFormReset=function(v){l.d.r(v)},mt.unstable_batchedUpdates=function(v,p){return v(p)},mt.useFormState=function(v,p,y){return h.H.useFormState(v,p,y)},mt.useFormStatus=function(){return h.H.useHostTransitionStatus()},mt.version="19.2.1",mt}var uv;function nb(){if(uv)return uc.exports;uv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),uc.exports=ab(),uc.exports}var cv;function ib(){if(cv)return Us;cv=1;var r=tb(),n=qc(),i=nb();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(l(188))}function p(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,s=t;;){var o=a.return;if(o===null)break;var d=o.alternate;if(d===null){if(s=o.return,s!==null){a=s;continue}break}if(o.child===d.child){for(d=o.child;d;){if(d===a)return v(o),e;if(d===s)return v(o),t;d=d.sibling}throw Error(l(188))}if(a.return!==s.return)a=o,s=d;else{for(var g=!1,b=o.child;b;){if(b===a){g=!0,a=o,s=d;break}if(b===s){g=!0,s=o,a=d;break}b=b.sibling}if(!g){for(b=d.child;b;){if(b===a){g=!0,a=d,s=o;break}if(b===s){g=!0,s=d,a=o;break}b=b.sibling}if(!g)throw Error(l(189))}}if(a.alternate!==s)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),z=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function pe(e){return e===null||typeof e!="object"?null:(e=ce&&e[ce]||e["@@iterator"],typeof e=="function"?e:null)}var Je=Symbol.for("react.client.reference");function Ge(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Je?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case k:return"Profiler";case j:return"StrictMode";case te:return"Suspense";case Z:return"SuspenseList";case q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case z:return e.displayName||"Context";case B:return(e._context.displayName||"Context")+".Consumer";case Q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J:return t=e.displayName||null,t!==null?t:Ge(e.type)||"Memo";case X:t=e._payload,e=e._init;try{return Ge(e(t))}catch{}}return null}var at=Array.isArray,R=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},F=[],se=-1;function O(e){return{current:e}}function H(e){0>se||(e.current=F[se],F[se]=null,se--)}function I(e,t){se++,F[se]=e.current,e.current=t}var ee=O(null),fe=O(null),ve=O(null),xe=O(null);function nt(e,t){switch(I(ve,t),I(fe,e),I(ee,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?xm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=xm(t),e=Tm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(ee),I(ee,e)}function ie(){H(ee),H(fe),H(ve)}function G(e){e.memoizedState!==null&&I(xe,e);var t=ee.current,a=Tm(t,e.type);t!==a&&(I(fe,e),I(ee,a))}function oe(e){fe.current===e&&(H(ee),H(fe)),xe.current===e&&(H(xe),Ns._currentValue=W)}var Ce,Te;function ta(e){if(Ce===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Ce=t&&t[1]||"",Te=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ce+e+Te}var Li=!1;function Hl(e,t){if(!e||Li)return"";Li=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(L){var M=L}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(L){M=L}e.call(Y.prototype)}}else{try{throw Error()}catch(L){M=L}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(L){if(L&&M&&typeof L.stack=="string")return[L.stack,M.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=s.DetermineComponentFrameRoot(),g=d[0],b=d[1];if(g&&b){var E=g.split(`
`),D=b.split(`
`);for(o=s=0;s<E.length&&!E[s].includes("DetermineComponentFrameRoot");)s++;for(;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;if(s===E.length||o===D.length)for(s=E.length-1,o=D.length-1;1<=s&&0<=o&&E[s]!==D[o];)o--;for(;1<=s&&0<=o;s--,o--)if(E[s]!==D[o]){if(s!==1||o!==1)do if(s--,o--,0>o||E[s]!==D[o]){var $=`
`+E[s].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=s&&0<=o);break}}}finally{Li=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ta(a):""}function xp(e,t){switch(e.tag){case 26:case 27:case 5:return ta(e.type);case 16:return ta("Lazy");case 13:return e.child!==t&&t!==null?ta("Suspense Fallback"):ta("Suspense");case 19:return ta("SuspenseList");case 0:case 15:return Hl(e.type,!1);case 11:return Hl(e.type.render,!1);case 1:return Hl(e.type,!0);case 31:return ta("Activity");default:return""}}function td(e){try{var t="",a=null;do t+=xp(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Vl=Object.prototype.hasOwnProperty,Gl=r.unstable_scheduleCallback,Yl=r.unstable_cancelCallback,Tp=r.unstable_shouldYield,Op=r.unstable_requestPaint,xt=r.unstable_now,Np=r.unstable_getCurrentPriorityLevel,ad=r.unstable_ImmediatePriority,nd=r.unstable_UserBlockingPriority,Is=r.unstable_NormalPriority,Ap=r.unstable_LowPriority,id=r.unstable_IdlePriority,Cp=r.log,Rp=r.unstable_setDisableYieldValue,$i=null,Tt=null;function ka(e){if(typeof Cp=="function"&&Rp(e),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode($i,e)}catch{}}var Ot=Math.clz32?Math.clz32:Dp,kp=Math.log,Up=Math.LN2;function Dp(e){return e>>>=0,e===0?32:31-(kp(e)/Up|0)|0}var Zs=256,Fs=262144,Ws=4194304;function on(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function er(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var o=0,d=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var b=s&134217727;return b!==0?(s=b&~d,s!==0?o=on(s):(g&=b,g!==0?o=on(g):a||(a=b&~e,a!==0&&(o=on(a))))):(b=s&~d,b!==0?o=on(b):g!==0?o=on(g):a||(a=s&~e,a!==0&&(o=on(a)))),o===0?0:t!==0&&t!==o&&(t&d)===0&&(d=o&-o,a=t&-t,d>=a||d===32&&(a&4194048)!==0)?t:o}function Hi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function zp(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sd(){var e=Ws;return Ws<<=1,(Ws&62914560)===0&&(Ws=4194304),e}function Kl(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Vi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Mp(e,t,a,s,o,d){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,E=e.expirationTimes,D=e.hiddenUpdates;for(a=g&~a;0<a;){var $=31-Ot(a),Y=1<<$;b[$]=0,E[$]=-1;var M=D[$];if(M!==null)for(D[$]=null,$=0;$<M.length;$++){var L=M[$];L!==null&&(L.lane&=-536870913)}a&=~Y}s!==0&&rd(e,s,0),d!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=d&~(g&~t))}function rd(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Ot(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function ld(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-Ot(a),o=1<<s;o&t|e[s]&t&&(e[s]|=t),a&=~o}}function od(e,t){var a=t&-t;return a=(a&42)!==0?1:Pl(a),(a&(e.suspendedLanes|t))!==0?0:a}function Pl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ql(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ud(){var e=P.p;return e!==0?e:(e=window.event,e===void 0?32:Jm(e.type))}function cd(e,t){var a=P.p;try{return P.p=e,t()}finally{P.p=a}}var Ua=Math.random().toString(36).slice(2),lt="__reactFiber$"+Ua,pt="__reactProps$"+Ua,qn="__reactContainer$"+Ua,Xl="__reactEvents$"+Ua,Bp="__reactListeners$"+Ua,qp="__reactHandles$"+Ua,dd="__reactResources$"+Ua,Gi="__reactMarker$"+Ua;function Jl(e){delete e[lt],delete e[pt],delete e[Xl],delete e[Bp],delete e[qp]}function Ln(e){var t=e[lt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[qn]||a[lt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Um(e);e!==null;){if(a=e[lt])return a;e=Um(e)}return t}e=a,a=e.parentNode}return null}function $n(e){if(e=e[lt]||e[qn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Yi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Hn(e){var t=e[dd];return t||(t=e[dd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function st(e){e[Gi]=!0}var hd=new Set,fd={};function un(e,t){Vn(e,t),Vn(e+"Capture",t)}function Vn(e,t){for(fd[e]=t,e=0;e<t.length;e++)hd.add(t[e])}var Lp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),md={},vd={};function $p(e){return Vl.call(vd,e)?!0:Vl.call(md,e)?!1:Lp.test(e)?vd[e]=!0:(md[e]=!0,!1)}function tr(e,t,a){if($p(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function ar(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ca(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function Bt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Hp(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,d=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(g){a=""+g,d.call(this,g)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Il(e){if(!e._valueTracker){var t=gd(e)?"checked":"value";e._valueTracker=Hp(e,t,""+e[t])}}function pd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=gd(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function nr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Vp=/[\n"\\]/g;function qt(e){return e.replace(Vp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Zl(e,t,a,s,o,d,g,b){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Bt(t)):e.value!==""+Bt(t)&&(e.value=""+Bt(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?Fl(e,g,Bt(t)):a!=null?Fl(e,g,Bt(a)):s!=null&&e.removeAttribute("value"),o==null&&d!=null&&(e.defaultChecked=!!d),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Bt(b):e.removeAttribute("name")}function yd(e,t,a,s,o,d,g,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){Il(e);return}a=a!=null?""+Bt(a):"",t=t!=null?""+Bt(t):a,b||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=b?e.checked:!!s,e.defaultChecked=!!s,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Il(e)}function Fl(e,t,a){t==="number"&&nr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Gn(e,t,a,s){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&s&&(e[a].defaultSelected=!0)}else{for(a=""+Bt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function bd(e,t,a){if(t!=null&&(t=""+Bt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Bt(a):""}function _d(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(l(92));if(at(s)){if(1<s.length)throw Error(l(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=Bt(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),Il(e)}function Yn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Gp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wd(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||Gp.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Sd(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&a[o]!==s&&wd(e,o,s)}else for(var d in t)t.hasOwnProperty(d)&&wd(e,d,t[d])}function Wl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ir(e){return Kp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function da(){}var eo=null;function to(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Kn=null,Pn=null;function Ed(e){var t=$n(e);if(t&&(e=t.stateNode)){var a=e[pt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Zl(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+qt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var o=s[pt]||null;if(!o)throw Error(l(90));Zl(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&pd(s)}break e;case"textarea":bd(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Gn(e,!!a.multiple,t,!1)}}}var ao=!1;function jd(e,t,a){if(ao)return e(t,a);ao=!0;try{var s=e(t);return s}finally{if(ao=!1,(Kn!==null||Pn!==null)&&(Kr(),Kn&&(t=Kn,e=Pn,Pn=Kn=null,Ed(t),e)))for(t=0;t<e.length;t++)Ed(e[t])}}function Ki(e,t){var a=e.stateNode;if(a===null)return null;var s=a[pt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var ha=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),no=!1;if(ha)try{var Pi={};Object.defineProperty(Pi,"passive",{get:function(){no=!0}}),window.addEventListener("test",Pi,Pi),window.removeEventListener("test",Pi,Pi)}catch{no=!1}var Da=null,io=null,sr=null;function xd(){if(sr)return sr;var e,t=io,a=t.length,s,o="value"in Da?Da.value:Da.textContent,d=o.length;for(e=0;e<a&&t[e]===o[e];e++);var g=a-e;for(s=1;s<=g&&t[a-s]===o[d-s];s++);return sr=o.slice(e,1<s?1-s:void 0)}function rr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function lr(){return!0}function Td(){return!1}function yt(e){function t(a,s,o,d,g){this._reactName=a,this._targetInst=o,this.type=s,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?lr:Td,this.isPropagationStopped=Td,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=lr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=lr)},persist:function(){},isPersistent:lr}),t}var cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},or=yt(cn),Qi=_({},cn,{view:0,detail:0}),Pp=yt(Qi),so,ro,Xi,ur=_({},Qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xi&&(Xi&&e.type==="mousemove"?(so=e.screenX-Xi.screenX,ro=e.screenY-Xi.screenY):ro=so=0,Xi=e),so)},movementY:function(e){return"movementY"in e?e.movementY:ro}}),Od=yt(ur),Qp=_({},ur,{dataTransfer:0}),Xp=yt(Qp),Jp=_({},Qi,{relatedTarget:0}),lo=yt(Jp),Ip=_({},cn,{animationName:0,elapsedTime:0,pseudoElement:0}),Zp=yt(Ip),Fp=_({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wp=yt(Fp),ey=_({},cn,{data:0}),Nd=yt(ey),ty={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ay={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ny={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ny[e])?!!t[e]:!1}function oo(){return iy}var sy=_({},Qi,{key:function(e){if(e.key){var t=ty[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ay[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oo,charCode:function(e){return e.type==="keypress"?rr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ry=yt(sy),ly=_({},ur,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ad=yt(ly),oy=_({},Qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oo}),uy=yt(oy),cy=_({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),dy=yt(cy),hy=_({},ur,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fy=yt(hy),my=_({},cn,{newState:0,oldState:0}),vy=yt(my),gy=[9,13,27,32],uo=ha&&"CompositionEvent"in window,Ji=null;ha&&"documentMode"in document&&(Ji=document.documentMode);var py=ha&&"TextEvent"in window&&!Ji,Cd=ha&&(!uo||Ji&&8<Ji&&11>=Ji),Rd=" ",kd=!1;function Ud(e,t){switch(e){case"keyup":return gy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qn=!1;function yy(e,t){switch(e){case"compositionend":return Dd(t);case"keypress":return t.which!==32?null:(kd=!0,Rd);case"textInput":return e=t.data,e===Rd&&kd?null:e;default:return null}}function by(e,t){if(Qn)return e==="compositionend"||!uo&&Ud(e,t)?(e=xd(),sr=io=Da=null,Qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cd&&t.locale!=="ko"?null:t.data;default:return null}}var _y={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_y[e.type]:t==="textarea"}function Md(e,t,a,s){Kn?Pn?Pn.push(s):Pn=[s]:Kn=s,t=Fr(t,"onChange"),0<t.length&&(a=new or("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var Ii=null,Zi=null;function wy(e){bm(e,0)}function cr(e){var t=Yi(e);if(pd(t))return e}function Bd(e,t){if(e==="change")return t}var qd=!1;if(ha){var co;if(ha){var ho="oninput"in document;if(!ho){var Ld=document.createElement("div");Ld.setAttribute("oninput","return;"),ho=typeof Ld.oninput=="function"}co=ho}else co=!1;qd=co&&(!document.documentMode||9<document.documentMode)}function $d(){Ii&&(Ii.detachEvent("onpropertychange",Hd),Zi=Ii=null)}function Hd(e){if(e.propertyName==="value"&&cr(Zi)){var t=[];Md(t,Zi,e,to(e)),jd(wy,t)}}function Sy(e,t,a){e==="focusin"?($d(),Ii=t,Zi=a,Ii.attachEvent("onpropertychange",Hd)):e==="focusout"&&$d()}function Ey(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cr(Zi)}function jy(e,t){if(e==="click")return cr(t)}function xy(e,t){if(e==="input"||e==="change")return cr(t)}function Ty(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nt=typeof Object.is=="function"?Object.is:Ty;function Fi(e,t){if(Nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var o=a[s];if(!Vl.call(t,o)||!Nt(e[o],t[o]))return!1}return!0}function Vd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gd(e,t){var a=Vd(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Vd(a)}}function Yd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Kd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=nr(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=nr(e.document)}return t}function fo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Oy=ha&&"documentMode"in document&&11>=document.documentMode,Xn=null,mo=null,Wi=null,vo=!1;function Pd(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vo||Xn==null||Xn!==nr(s)||(s=Xn,"selectionStart"in s&&fo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Wi&&Fi(Wi,s)||(Wi=s,s=Fr(mo,"onSelect"),0<s.length&&(t=new or("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=Xn)))}function dn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Jn={animationend:dn("Animation","AnimationEnd"),animationiteration:dn("Animation","AnimationIteration"),animationstart:dn("Animation","AnimationStart"),transitionrun:dn("Transition","TransitionRun"),transitionstart:dn("Transition","TransitionStart"),transitioncancel:dn("Transition","TransitionCancel"),transitionend:dn("Transition","TransitionEnd")},go={},Qd={};ha&&(Qd=document.createElement("div").style,"AnimationEvent"in window||(delete Jn.animationend.animation,delete Jn.animationiteration.animation,delete Jn.animationstart.animation),"TransitionEvent"in window||delete Jn.transitionend.transition);function hn(e){if(go[e])return go[e];if(!Jn[e])return e;var t=Jn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Qd)return go[e]=t[a];return e}var Xd=hn("animationend"),Jd=hn("animationiteration"),Id=hn("animationstart"),Ny=hn("transitionrun"),Ay=hn("transitionstart"),Cy=hn("transitioncancel"),Zd=hn("transitionend"),Fd=new Map,po="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");po.push("scrollEnd");function Jt(e,t){Fd.set(e,t),un(t,[e])}var dr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Lt=[],In=0,yo=0;function hr(){for(var e=In,t=yo=In=0;t<e;){var a=Lt[t];Lt[t++]=null;var s=Lt[t];Lt[t++]=null;var o=Lt[t];Lt[t++]=null;var d=Lt[t];if(Lt[t++]=null,s!==null&&o!==null){var g=s.pending;g===null?o.next=o:(o.next=g.next,g.next=o),s.pending=o}d!==0&&Wd(a,o,d)}}function fr(e,t,a,s){Lt[In++]=e,Lt[In++]=t,Lt[In++]=a,Lt[In++]=s,yo|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function bo(e,t,a,s){return fr(e,t,a,s),mr(e)}function fn(e,t){return fr(e,null,null,t),mr(e)}function Wd(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var o=!1,d=e.return;d!==null;)d.childLanes|=a,s=d.alternate,s!==null&&(s.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(o=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,o&&t!==null&&(o=31-Ot(a),e=d.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=a|536870912),d):null}function mr(e){if(50<ws)throw ws=0,Nu=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Zn={};function Ry(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(e,t,a,s){return new Ry(e,t,a,s)}function _o(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fa(e,t){var a=e.alternate;return a===null?(a=At(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function eh(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function vr(e,t,a,s,o,d){var g=0;if(s=e,typeof e=="function")_o(e)&&(g=1);else if(typeof e=="string")g=M0(e,a,ee.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case q:return e=At(31,a,t,o),e.elementType=q,e.lanes=d,e;case N:return mn(a.children,o,d,t);case j:g=8,o|=24;break;case k:return e=At(12,a,t,o|2),e.elementType=k,e.lanes=d,e;case te:return e=At(13,a,t,o),e.elementType=te,e.lanes=d,e;case Z:return e=At(19,a,t,o),e.elementType=Z,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case z:g=10;break e;case B:g=9;break e;case Q:g=11;break e;case J:g=14;break e;case X:g=16,s=null;break e}g=29,a=Error(l(130,e===null?"null":typeof e,"")),s=null}return t=At(g,a,t,o),t.elementType=e,t.type=s,t.lanes=d,t}function mn(e,t,a,s){return e=At(7,e,s,t),e.lanes=a,e}function wo(e,t,a){return e=At(6,e,null,t),e.lanes=a,e}function th(e){var t=At(18,null,null,0);return t.stateNode=e,t}function So(e,t,a){return t=At(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ah=new WeakMap;function $t(e,t){if(typeof e=="object"&&e!==null){var a=ah.get(e);return a!==void 0?a:(t={value:e,source:t,stack:td(t)},ah.set(e,t),t)}return{value:e,source:t,stack:td(t)}}var Fn=[],Wn=0,gr=null,es=0,Ht=[],Vt=0,za=null,aa=1,na="";function ma(e,t){Fn[Wn++]=es,Fn[Wn++]=gr,gr=e,es=t}function nh(e,t,a){Ht[Vt++]=aa,Ht[Vt++]=na,Ht[Vt++]=za,za=e;var s=aa;e=na;var o=32-Ot(s)-1;s&=~(1<<o),a+=1;var d=32-Ot(t)+o;if(30<d){var g=o-o%5;d=(s&(1<<g)-1).toString(32),s>>=g,o-=g,aa=1<<32-Ot(t)+o|a<<o|s,na=d+e}else aa=1<<d|a<<o|s,na=e}function Eo(e){e.return!==null&&(ma(e,1),nh(e,1,0))}function jo(e){for(;e===gr;)gr=Fn[--Wn],Fn[Wn]=null,es=Fn[--Wn],Fn[Wn]=null;for(;e===za;)za=Ht[--Vt],Ht[Vt]=null,na=Ht[--Vt],Ht[Vt]=null,aa=Ht[--Vt],Ht[Vt]=null}function ih(e,t){Ht[Vt++]=aa,Ht[Vt++]=na,Ht[Vt++]=za,aa=t.id,na=t.overflow,za=e}var ot=null,Le=null,je=!1,Ma=null,Gt=!1,xo=Error(l(519));function Ba(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ts($t(t,e)),xo}function sh(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[lt]=e,t[pt]=s,a){case"dialog":we("cancel",t),we("close",t);break;case"iframe":case"object":case"embed":we("load",t);break;case"video":case"audio":for(a=0;a<Es.length;a++)we(Es[a],t);break;case"source":we("error",t);break;case"img":case"image":case"link":we("error",t),we("load",t);break;case"details":we("toggle",t);break;case"input":we("invalid",t),yd(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":we("invalid",t);break;case"textarea":we("invalid",t),_d(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||Em(t.textContent,a)?(s.popover!=null&&(we("beforetoggle",t),we("toggle",t)),s.onScroll!=null&&we("scroll",t),s.onScrollEnd!=null&&we("scrollend",t),s.onClick!=null&&(t.onclick=da),t=!0):t=!1,t||Ba(e,!0)}function rh(e){for(ot=e.return;ot;)switch(ot.tag){case 5:case 31:case 13:Gt=!1;return;case 27:case 3:Gt=!0;return;default:ot=ot.return}}function ei(e){if(e!==ot)return!1;if(!je)return rh(e),je=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Gu(e.type,e.memoizedProps)),a=!a),a&&Le&&Ba(e),rh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Le=km(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Le=km(e)}else t===27?(t=Le,Za(e.type)?(e=Xu,Xu=null,Le=e):Le=t):Le=ot?Kt(e.stateNode.nextSibling):null;return!0}function vn(){Le=ot=null,je=!1}function To(){var e=Ma;return e!==null&&(St===null?St=e:St.push.apply(St,e),Ma=null),e}function ts(e){Ma===null?Ma=[e]:Ma.push(e)}var Oo=O(null),gn=null,va=null;function qa(e,t,a){I(Oo,t._currentValue),t._currentValue=a}function ga(e){e._currentValue=Oo.current,H(Oo)}function No(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function Ao(e,t,a,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){var g=o.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=o;for(var E=0;E<t.length;E++)if(b.context===t[E]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),No(d.return,a,e),s||(g=null);break e}d=b.next}}else if(o.tag===18){if(g=o.return,g===null)throw Error(l(341));g.lanes|=a,d=g.alternate,d!==null&&(d.lanes|=a),No(g,a,e),g=null}else g=o.child;if(g!==null)g.return=o;else for(g=o;g!==null;){if(g===e){g=null;break}if(o=g.sibling,o!==null){o.return=g.return,g=o;break}g=g.return}o=g}}function ti(e,t,a,s){e=null;for(var o=t,d=!1;o!==null;){if(!d){if((o.flags&524288)!==0)d=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var g=o.alternate;if(g===null)throw Error(l(387));if(g=g.memoizedProps,g!==null){var b=o.type;Nt(o.pendingProps.value,g.value)||(e!==null?e.push(b):e=[b])}}else if(o===xe.current){if(g=o.alternate,g===null)throw Error(l(387));g.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Ns):e=[Ns])}o=o.return}e!==null&&Ao(t,e,a,s),t.flags|=262144}function pr(e){for(e=e.firstContext;e!==null;){if(!Nt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function pn(e){gn=e,va=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ut(e){return lh(gn,e)}function yr(e,t){return gn===null&&pn(e),lh(e,t)}function lh(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},va===null){if(e===null)throw Error(l(308));va=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else va=va.next=t;return a}var ky=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Uy=r.unstable_scheduleCallback,Dy=r.unstable_NormalPriority,Ie={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Co(){return{controller:new ky,data:new Map,refCount:0}}function as(e){e.refCount--,e.refCount===0&&Uy(Dy,function(){e.controller.abort()})}var ns=null,Ro=0,ai=0,ni=null;function zy(e,t){if(ns===null){var a=ns=[];Ro=0,ai=Du(),ni={status:"pending",value:void 0,then:function(s){a.push(s)}}}return Ro++,t.then(oh,oh),t}function oh(){if(--Ro===0&&ns!==null){ni!==null&&(ni.status="fulfilled");var e=ns;ns=null,ai=0,ni=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function My(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),s}var uh=R.S;R.S=function(e,t){Qf=xt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&zy(e,t),uh!==null&&uh(e,t)};var yn=O(null);function ko(){var e=yn.current;return e!==null?e:Be.pooledCache}function br(e,t){t===null?I(yn,yn.current):I(yn,t.pool)}function ch(){var e=ko();return e===null?null:{parent:Ie._currentValue,pool:e}}var ii=Error(l(460)),Uo=Error(l(474)),_r=Error(l(542)),wr={then:function(){}};function dh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function hh(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(da,da),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,mh(e),e;default:if(typeof t.status=="string")t.then(da,da);else{if(e=Be,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,mh(e),e}throw _n=t,ii}}function bn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(_n=a,ii):a}}var _n=null;function fh(){if(_n===null)throw Error(l(459));var e=_n;return _n=null,e}function mh(e){if(e===ii||e===_r)throw Error(l(483))}var si=null,is=0;function Sr(e){var t=is;return is+=1,si===null&&(si=[]),hh(si,e,t)}function ss(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Er(e,t){throw t.$$typeof===w?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function vh(e){function t(C,A){if(e){var U=C.deletions;U===null?(C.deletions=[A],C.flags|=16):U.push(A)}}function a(C,A){if(!e)return null;for(;A!==null;)t(C,A),A=A.sibling;return null}function s(C){for(var A=new Map;C!==null;)C.key!==null?A.set(C.key,C):A.set(C.index,C),C=C.sibling;return A}function o(C,A){return C=fa(C,A),C.index=0,C.sibling=null,C}function d(C,A,U){return C.index=U,e?(U=C.alternate,U!==null?(U=U.index,U<A?(C.flags|=67108866,A):U):(C.flags|=67108866,A)):(C.flags|=1048576,A)}function g(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function b(C,A,U,V){return A===null||A.tag!==6?(A=wo(U,C.mode,V),A.return=C,A):(A=o(A,U),A.return=C,A)}function E(C,A,U,V){var ue=U.type;return ue===N?$(C,A,U.props.children,V,U.key):A!==null&&(A.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===X&&bn(ue)===A.type)?(A=o(A,U.props),ss(A,U),A.return=C,A):(A=vr(U.type,U.key,U.props,null,C.mode,V),ss(A,U),A.return=C,A)}function D(C,A,U,V){return A===null||A.tag!==4||A.stateNode.containerInfo!==U.containerInfo||A.stateNode.implementation!==U.implementation?(A=So(U,C.mode,V),A.return=C,A):(A=o(A,U.children||[]),A.return=C,A)}function $(C,A,U,V,ue){return A===null||A.tag!==7?(A=mn(U,C.mode,V,ue),A.return=C,A):(A=o(A,U),A.return=C,A)}function Y(C,A,U){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=wo(""+A,C.mode,U),A.return=C,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case S:return U=vr(A.type,A.key,A.props,null,C.mode,U),ss(U,A),U.return=C,U;case x:return A=So(A,C.mode,U),A.return=C,A;case X:return A=bn(A),Y(C,A,U)}if(at(A)||pe(A))return A=mn(A,C.mode,U,null),A.return=C,A;if(typeof A.then=="function")return Y(C,Sr(A),U);if(A.$$typeof===z)return Y(C,yr(C,A),U);Er(C,A)}return null}function M(C,A,U,V){var ue=A!==null?A.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ue!==null?null:b(C,A,""+U,V);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case S:return U.key===ue?E(C,A,U,V):null;case x:return U.key===ue?D(C,A,U,V):null;case X:return U=bn(U),M(C,A,U,V)}if(at(U)||pe(U))return ue!==null?null:$(C,A,U,V,null);if(typeof U.then=="function")return M(C,A,Sr(U),V);if(U.$$typeof===z)return M(C,A,yr(C,U),V);Er(C,U)}return null}function L(C,A,U,V,ue){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return C=C.get(U)||null,b(A,C,""+V,ue);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case S:return C=C.get(V.key===null?U:V.key)||null,E(A,C,V,ue);case x:return C=C.get(V.key===null?U:V.key)||null,D(A,C,V,ue);case X:return V=bn(V),L(C,A,U,V,ue)}if(at(V)||pe(V))return C=C.get(U)||null,$(A,C,V,ue,null);if(typeof V.then=="function")return L(C,A,U,Sr(V),ue);if(V.$$typeof===z)return L(C,A,U,yr(A,V),ue);Er(A,V)}return null}function ne(C,A,U,V){for(var ue=null,Oe=null,re=A,ye=A=0,Ee=null;re!==null&&ye<U.length;ye++){re.index>ye?(Ee=re,re=null):Ee=re.sibling;var Ne=M(C,re,U[ye],V);if(Ne===null){re===null&&(re=Ee);break}e&&re&&Ne.alternate===null&&t(C,re),A=d(Ne,A,ye),Oe===null?ue=Ne:Oe.sibling=Ne,Oe=Ne,re=Ee}if(ye===U.length)return a(C,re),je&&ma(C,ye),ue;if(re===null){for(;ye<U.length;ye++)re=Y(C,U[ye],V),re!==null&&(A=d(re,A,ye),Oe===null?ue=re:Oe.sibling=re,Oe=re);return je&&ma(C,ye),ue}for(re=s(re);ye<U.length;ye++)Ee=L(re,C,ye,U[ye],V),Ee!==null&&(e&&Ee.alternate!==null&&re.delete(Ee.key===null?ye:Ee.key),A=d(Ee,A,ye),Oe===null?ue=Ee:Oe.sibling=Ee,Oe=Ee);return e&&re.forEach(function(an){return t(C,an)}),je&&ma(C,ye),ue}function de(C,A,U,V){if(U==null)throw Error(l(151));for(var ue=null,Oe=null,re=A,ye=A=0,Ee=null,Ne=U.next();re!==null&&!Ne.done;ye++,Ne=U.next()){re.index>ye?(Ee=re,re=null):Ee=re.sibling;var an=M(C,re,Ne.value,V);if(an===null){re===null&&(re=Ee);break}e&&re&&an.alternate===null&&t(C,re),A=d(an,A,ye),Oe===null?ue=an:Oe.sibling=an,Oe=an,re=Ee}if(Ne.done)return a(C,re),je&&ma(C,ye),ue;if(re===null){for(;!Ne.done;ye++,Ne=U.next())Ne=Y(C,Ne.value,V),Ne!==null&&(A=d(Ne,A,ye),Oe===null?ue=Ne:Oe.sibling=Ne,Oe=Ne);return je&&ma(C,ye),ue}for(re=s(re);!Ne.done;ye++,Ne=U.next())Ne=L(re,C,ye,Ne.value,V),Ne!==null&&(e&&Ne.alternate!==null&&re.delete(Ne.key===null?ye:Ne.key),A=d(Ne,A,ye),Oe===null?ue=Ne:Oe.sibling=Ne,Oe=Ne);return e&&re.forEach(function(Q0){return t(C,Q0)}),je&&ma(C,ye),ue}function ze(C,A,U,V){if(typeof U=="object"&&U!==null&&U.type===N&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case S:e:{for(var ue=U.key;A!==null;){if(A.key===ue){if(ue=U.type,ue===N){if(A.tag===7){a(C,A.sibling),V=o(A,U.props.children),V.return=C,C=V;break e}}else if(A.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===X&&bn(ue)===A.type){a(C,A.sibling),V=o(A,U.props),ss(V,U),V.return=C,C=V;break e}a(C,A);break}else t(C,A);A=A.sibling}U.type===N?(V=mn(U.props.children,C.mode,V,U.key),V.return=C,C=V):(V=vr(U.type,U.key,U.props,null,C.mode,V),ss(V,U),V.return=C,C=V)}return g(C);case x:e:{for(ue=U.key;A!==null;){if(A.key===ue)if(A.tag===4&&A.stateNode.containerInfo===U.containerInfo&&A.stateNode.implementation===U.implementation){a(C,A.sibling),V=o(A,U.children||[]),V.return=C,C=V;break e}else{a(C,A);break}else t(C,A);A=A.sibling}V=So(U,C.mode,V),V.return=C,C=V}return g(C);case X:return U=bn(U),ze(C,A,U,V)}if(at(U))return ne(C,A,U,V);if(pe(U)){if(ue=pe(U),typeof ue!="function")throw Error(l(150));return U=ue.call(U),de(C,A,U,V)}if(typeof U.then=="function")return ze(C,A,Sr(U),V);if(U.$$typeof===z)return ze(C,A,yr(C,U),V);Er(C,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,A!==null&&A.tag===6?(a(C,A.sibling),V=o(A,U),V.return=C,C=V):(a(C,A),V=wo(U,C.mode,V),V.return=C,C=V),g(C)):a(C,A)}return function(C,A,U,V){try{is=0;var ue=ze(C,A,U,V);return si=null,ue}catch(re){if(re===ii||re===_r)throw re;var Oe=At(29,re,null,C.mode);return Oe.lanes=V,Oe.return=C,Oe}finally{}}}var wn=vh(!0),gh=vh(!1),La=!1;function Do(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function $a(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ha(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ae&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=mr(e),Wd(e,null,a),t}return fr(e,s,t,a),mr(e)}function rs(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,ld(e,a)}}function Mo(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var o=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?o=d=g:d=d.next=g,a=a.next}while(a!==null);d===null?o=d=t:d=d.next=t}else o=d=t;a={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:d,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Bo=!1;function ls(){if(Bo){var e=ni;if(e!==null)throw e}}function os(e,t,a,s){Bo=!1;var o=e.updateQueue;La=!1;var d=o.firstBaseUpdate,g=o.lastBaseUpdate,b=o.shared.pending;if(b!==null){o.shared.pending=null;var E=b,D=E.next;E.next=null,g===null?d=D:g.next=D,g=E;var $=e.alternate;$!==null&&($=$.updateQueue,b=$.lastBaseUpdate,b!==g&&(b===null?$.firstBaseUpdate=D:b.next=D,$.lastBaseUpdate=E))}if(d!==null){var Y=o.baseState;g=0,$=D=E=null,b=d;do{var M=b.lane&-536870913,L=M!==b.lane;if(L?(Se&M)===M:(s&M)===M){M!==0&&M===ai&&(Bo=!0),$!==null&&($=$.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ne=e,de=b;M=t;var ze=a;switch(de.tag){case 1:if(ne=de.payload,typeof ne=="function"){Y=ne.call(ze,Y,M);break e}Y=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=de.payload,M=typeof ne=="function"?ne.call(ze,Y,M):ne,M==null)break e;Y=_({},Y,M);break e;case 2:La=!0}}M=b.callback,M!==null&&(e.flags|=64,L&&(e.flags|=8192),L=o.callbacks,L===null?o.callbacks=[M]:L.push(M))}else L={lane:M,tag:b.tag,payload:b.payload,callback:b.callback,next:null},$===null?(D=$=L,E=Y):$=$.next=L,g|=M;if(b=b.next,b===null){if(b=o.shared.pending,b===null)break;L=b,b=L.next,L.next=null,o.lastBaseUpdate=L,o.shared.pending=null}}while(!0);$===null&&(E=Y),o.baseState=E,o.firstBaseUpdate=D,o.lastBaseUpdate=$,d===null&&(o.shared.lanes=0),Pa|=g,e.lanes=g,e.memoizedState=Y}}function ph(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function yh(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ph(a[e],t)}var ri=O(null),jr=O(0);function bh(e,t){e=xa,I(jr,e),I(ri,t),xa=e|t.baseLanes}function qo(){I(jr,xa),I(ri,ri.current)}function Lo(){xa=jr.current,H(ri),H(jr)}var Ct=O(null),Yt=null;function Va(e){var t=e.alternate;I(Qe,Qe.current&1),I(Ct,e),Yt===null&&(t===null||ri.current!==null||t.memoizedState!==null)&&(Yt=e)}function $o(e){I(Qe,Qe.current),I(Ct,e),Yt===null&&(Yt=e)}function _h(e){e.tag===22?(I(Qe,Qe.current),I(Ct,e),Yt===null&&(Yt=e)):Ga()}function Ga(){I(Qe,Qe.current),I(Ct,Ct.current)}function Rt(e){H(Ct),Yt===e&&(Yt=null),H(Qe)}var Qe=O(0);function xr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Pu(a)||Qu(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pa=0,ge=null,Ue=null,Ze=null,Tr=!1,li=!1,Sn=!1,Or=0,us=0,oi=null,By=0;function Ke(){throw Error(l(321))}function Ho(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Nt(e[a],t[a]))return!1;return!0}function Vo(e,t,a,s,o,d){return pa=d,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=e===null||e.memoizedState===null?nf:nu,Sn=!1,d=a(s,o),Sn=!1,li&&(d=Sh(t,a,s,o)),wh(e),d}function wh(e){R.H=hs;var t=Ue!==null&&Ue.next!==null;if(pa=0,Ze=Ue=ge=null,Tr=!1,us=0,oi=null,t)throw Error(l(300));e===null||Fe||(e=e.dependencies,e!==null&&pr(e)&&(Fe=!0))}function Sh(e,t,a,s){ge=e;var o=0;do{if(li&&(oi=null),us=0,li=!1,25<=o)throw Error(l(301));if(o+=1,Ze=Ue=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}R.H=sf,d=t(a,s)}while(li);return d}function qy(){var e=R.H,t=e.useState()[0];return t=typeof t.then=="function"?cs(t):t,e=e.useState()[0],(Ue!==null?Ue.memoizedState:null)!==e&&(ge.flags|=1024),t}function Go(){var e=Or!==0;return Or=0,e}function Yo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Ko(e){if(Tr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Tr=!1}pa=0,Ze=Ue=ge=null,li=!1,us=Or=0,oi=null}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?ge.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function Xe(){if(Ue===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=Ze===null?ge.memoizedState:Ze.next;if(t!==null)Ze=t,Ue=e;else{if(e===null)throw ge.alternate===null?Error(l(467)):Error(l(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Ze===null?ge.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function Nr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cs(e){var t=us;return us+=1,oi===null&&(oi=[]),e=hh(oi,e,t),t=ge,(Ze===null?t.memoizedState:Ze.next)===null&&(t=t.alternate,R.H=t===null||t.memoizedState===null?nf:nu),e}function Ar(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return cs(e);if(e.$$typeof===z)return ut(e)}throw Error(l(438,String(e)))}function Po(e){var t=null,a=ge.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=ge.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Nr(),ge.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=K;return t.index++,a}function ya(e,t){return typeof t=="function"?t(e):t}function Cr(e){var t=Xe();return Qo(t,Ue,e)}function Qo(e,t,a){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=a;var o=e.baseQueue,d=s.pending;if(d!==null){if(o!==null){var g=o.next;o.next=d.next,d.next=g}t.baseQueue=o=d,s.pending=null}if(d=e.baseState,o===null)e.memoizedState=d;else{t=o.next;var b=g=null,E=null,D=t,$=!1;do{var Y=D.lane&-536870913;if(Y!==D.lane?(Se&Y)===Y:(pa&Y)===Y){var M=D.revertLane;if(M===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),Y===ai&&($=!0);else if((pa&M)===M){D=D.next,M===ai&&($=!0);continue}else Y={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},E===null?(b=E=Y,g=d):E=E.next=Y,ge.lanes|=M,Pa|=M;Y=D.action,Sn&&a(d,Y),d=D.hasEagerState?D.eagerState:a(d,Y)}else M={lane:Y,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},E===null?(b=E=M,g=d):E=E.next=M,ge.lanes|=Y,Pa|=Y;D=D.next}while(D!==null&&D!==t);if(E===null?g=d:E.next=b,!Nt(d,e.memoizedState)&&(Fe=!0,$&&(a=ni,a!==null)))throw a;e.memoizedState=d,e.baseState=g,e.baseQueue=E,s.lastRenderedState=d}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Xo(e){var t=Xe(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var s=a.dispatch,o=a.pending,d=t.memoizedState;if(o!==null){a.pending=null;var g=o=o.next;do d=e(d,g.action),g=g.next;while(g!==o);Nt(d,t.memoizedState)||(Fe=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),a.lastRenderedState=d}return[d,s]}function Eh(e,t,a){var s=ge,o=Xe(),d=je;if(d){if(a===void 0)throw Error(l(407));a=a()}else a=t();var g=!Nt((Ue||o).memoizedState,a);if(g&&(o.memoizedState=a,Fe=!0),o=o.queue,Zo(Th.bind(null,s,o,e),[e]),o.getSnapshot!==t||g||Ze!==null&&Ze.memoizedState.tag&1){if(s.flags|=2048,ui(9,{destroy:void 0},xh.bind(null,s,o,a,t),null),Be===null)throw Error(l(349));d||(pa&127)!==0||jh(s,t,a)}return a}function jh(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ge.updateQueue,t===null?(t=Nr(),ge.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function xh(e,t,a,s){t.value=a,t.getSnapshot=s,Oh(t)&&Nh(e)}function Th(e,t,a){return a(function(){Oh(t)&&Nh(e)})}function Oh(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Nt(e,a)}catch{return!0}}function Nh(e){var t=fn(e,2);t!==null&&Et(t,e,2)}function Jo(e){var t=gt();if(typeof e=="function"){var a=e;if(e=a(),Sn){ka(!0);try{a()}finally{ka(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:e},t}function Ah(e,t,a,s){return e.baseState=a,Qo(e,Ue,typeof s=="function"?s:ya)}function Ly(e,t,a,s,o){if(Ur(e))throw Error(l(485));if(e=t.action,e!==null){var d={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};R.T!==null?a(!0):d.isTransition=!1,s(d),a=t.pending,a===null?(d.next=t.pending=d,Ch(t,d)):(d.next=a.next,t.pending=a.next=d)}}function Ch(e,t){var a=t.action,s=t.payload,o=e.state;if(t.isTransition){var d=R.T,g={};R.T=g;try{var b=a(o,s),E=R.S;E!==null&&E(g,b),Rh(e,t,b)}catch(D){Io(e,t,D)}finally{d!==null&&g.types!==null&&(d.types=g.types),R.T=d}}else try{d=a(o,s),Rh(e,t,d)}catch(D){Io(e,t,D)}}function Rh(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){kh(e,t,s)},function(s){return Io(e,t,s)}):kh(e,t,a)}function kh(e,t,a){t.status="fulfilled",t.value=a,Uh(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Ch(e,a)))}function Io(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,Uh(t),t=t.next;while(t!==s)}e.action=null}function Uh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Dh(e,t){return t}function zh(e,t){if(je){var a=Be.formState;if(a!==null){e:{var s=ge;if(je){if(Le){t:{for(var o=Le,d=Gt;o.nodeType!==8;){if(!d){o=null;break t}if(o=Kt(o.nextSibling),o===null){o=null;break t}}d=o.data,o=d==="F!"||d==="F"?o:null}if(o){Le=Kt(o.nextSibling),s=o.data==="F!";break e}}Ba(s)}s=!1}s&&(t=a[0])}}return a=gt(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dh,lastRenderedState:t},a.queue=s,a=ef.bind(null,ge,s),s.dispatch=a,s=Jo(!1),d=au.bind(null,ge,!1,s.queue),s=gt(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,a=Ly.bind(null,ge,o,d,a),o.dispatch=a,s.memoizedState=e,[t,a,!1]}function Mh(e){var t=Xe();return Bh(t,Ue,e)}function Bh(e,t,a){if(t=Qo(e,t,Dh)[0],e=Cr(ya)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=cs(t)}catch(g){throw g===ii?_r:g}else s=t;t=Xe();var o=t.queue,d=o.dispatch;return a!==t.memoizedState&&(ge.flags|=2048,ui(9,{destroy:void 0},$y.bind(null,o,a),null)),[s,d,e]}function $y(e,t){e.action=t}function qh(e){var t=Xe(),a=Ue;if(a!==null)return Bh(t,a,e);Xe(),t=t.memoizedState,a=Xe();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function ui(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=ge.updateQueue,t===null&&(t=Nr(),ge.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function Lh(){return Xe().memoizedState}function Rr(e,t,a,s){var o=gt();ge.flags|=e,o.memoizedState=ui(1|t,{destroy:void 0},a,s===void 0?null:s)}function kr(e,t,a,s){var o=Xe();s=s===void 0?null:s;var d=o.memoizedState.inst;Ue!==null&&s!==null&&Ho(s,Ue.memoizedState.deps)?o.memoizedState=ui(t,d,a,s):(ge.flags|=e,o.memoizedState=ui(1|t,d,a,s))}function $h(e,t){Rr(8390656,8,e,t)}function Zo(e,t){kr(2048,8,e,t)}function Hy(e){ge.flags|=4;var t=ge.updateQueue;if(t===null)t=Nr(),ge.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Hh(e){var t=Xe().memoizedState;return Hy({ref:t,nextImpl:e}),function(){if((Ae&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Vh(e,t){return kr(4,2,e,t)}function Gh(e,t){return kr(4,4,e,t)}function Yh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Kh(e,t,a){a=a!=null?a.concat([e]):null,kr(4,4,Yh.bind(null,t,e),a)}function Fo(){}function Ph(e,t){var a=Xe();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&Ho(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function Qh(e,t){var a=Xe();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&Ho(t,s[1]))return s[0];if(s=e(),Sn){ka(!0);try{e()}finally{ka(!1)}}return a.memoizedState=[s,t],s}function Wo(e,t,a){return a===void 0||(pa&1073741824)!==0&&(Se&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Jf(),ge.lanes|=e,Pa|=e,a)}function Xh(e,t,a,s){return Nt(a,t)?a:ri.current!==null?(e=Wo(e,a,s),Nt(e,t)||(Fe=!0),e):(pa&42)===0||(pa&1073741824)!==0&&(Se&261930)===0?(Fe=!0,e.memoizedState=a):(e=Jf(),ge.lanes|=e,Pa|=e,t)}function Jh(e,t,a,s,o){var d=P.p;P.p=d!==0&&8>d?d:8;var g=R.T,b={};R.T=b,au(e,!1,t,a);try{var E=o(),D=R.S;if(D!==null&&D(b,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var $=My(E,s);ds(e,t,$,Dt(e))}else ds(e,t,s,Dt(e))}catch(Y){ds(e,t,{then:function(){},status:"rejected",reason:Y},Dt())}finally{P.p=d,g!==null&&b.types!==null&&(g.types=b.types),R.T=g}}function Vy(){}function eu(e,t,a,s){if(e.tag!==5)throw Error(l(476));var o=Ih(e).queue;Jh(e,o,t,W,a===null?Vy:function(){return Zh(e),a(s)})}function Ih(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:W},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Zh(e){var t=Ih(e);t.next===null&&(t=e.alternate.memoizedState),ds(e,t.next.queue,{},Dt())}function tu(){return ut(Ns)}function Fh(){return Xe().memoizedState}function Wh(){return Xe().memoizedState}function Gy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Dt();e=$a(a);var s=Ha(t,e,a);s!==null&&(Et(s,t,a),rs(s,t,a)),t={cache:Co()},e.payload=t;return}t=t.return}}function Yy(e,t,a){var s=Dt();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ur(e)?tf(t,a):(a=bo(e,t,a,s),a!==null&&(Et(a,e,s),af(a,t,s)))}function ef(e,t,a){var s=Dt();ds(e,t,a,s)}function ds(e,t,a,s){var o={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ur(e))tf(t,o);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var g=t.lastRenderedState,b=d(g,a);if(o.hasEagerState=!0,o.eagerState=b,Nt(b,g))return fr(e,t,o,0),Be===null&&hr(),!1}catch{}finally{}if(a=bo(e,t,o,s),a!==null)return Et(a,e,s),af(a,t,s),!0}return!1}function au(e,t,a,s){if(s={lane:2,revertLane:Du(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ur(e)){if(t)throw Error(l(479))}else t=bo(e,a,s,2),t!==null&&Et(t,e,2)}function Ur(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function tf(e,t){li=Tr=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function af(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,ld(e,a)}}var hs={readContext:ut,use:Ar,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke};hs.useEffectEvent=Ke;var nf={readContext:ut,use:Ar,useCallback:function(e,t){return gt().memoizedState=[e,t===void 0?null:t],e},useContext:ut,useEffect:$h,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Rr(4194308,4,Yh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Rr(4194308,4,e,t)},useInsertionEffect:function(e,t){Rr(4,2,e,t)},useMemo:function(e,t){var a=gt();t=t===void 0?null:t;var s=e();if(Sn){ka(!0);try{e()}finally{ka(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=gt();if(a!==void 0){var o=a(t);if(Sn){ka(!0);try{a(t)}finally{ka(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=Yy.bind(null,ge,e),[s.memoizedState,e]},useRef:function(e){var t=gt();return e={current:e},t.memoizedState=e},useState:function(e){e=Jo(e);var t=e.queue,a=ef.bind(null,ge,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Fo,useDeferredValue:function(e,t){var a=gt();return Wo(a,e,t)},useTransition:function(){var e=Jo(!1);return e=Jh.bind(null,ge,e.queue,!0,!1),gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=ge,o=gt();if(je){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),Be===null)throw Error(l(349));(Se&127)!==0||jh(s,t,a)}o.memoizedState=a;var d={value:a,getSnapshot:t};return o.queue=d,$h(Th.bind(null,s,d,e),[e]),s.flags|=2048,ui(9,{destroy:void 0},xh.bind(null,s,d,a,t),null),a},useId:function(){var e=gt(),t=Be.identifierPrefix;if(je){var a=na,s=aa;a=(s&~(1<<32-Ot(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Or++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=By++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:tu,useFormState:zh,useActionState:zh,useOptimistic:function(e){var t=gt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=au.bind(null,ge,!0,a),a.dispatch=t,[e,t]},useMemoCache:Po,useCacheRefresh:function(){return gt().memoizedState=Gy.bind(null,ge)},useEffectEvent:function(e){var t=gt(),a={impl:e};return t.memoizedState=a,function(){if((Ae&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},nu={readContext:ut,use:Ar,useCallback:Ph,useContext:ut,useEffect:Zo,useImperativeHandle:Kh,useInsertionEffect:Vh,useLayoutEffect:Gh,useMemo:Qh,useReducer:Cr,useRef:Lh,useState:function(){return Cr(ya)},useDebugValue:Fo,useDeferredValue:function(e,t){var a=Xe();return Xh(a,Ue.memoizedState,e,t)},useTransition:function(){var e=Cr(ya)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:cs(e),t]},useSyncExternalStore:Eh,useId:Fh,useHostTransitionStatus:tu,useFormState:Mh,useActionState:Mh,useOptimistic:function(e,t){var a=Xe();return Ah(a,Ue,e,t)},useMemoCache:Po,useCacheRefresh:Wh};nu.useEffectEvent=Hh;var sf={readContext:ut,use:Ar,useCallback:Ph,useContext:ut,useEffect:Zo,useImperativeHandle:Kh,useInsertionEffect:Vh,useLayoutEffect:Gh,useMemo:Qh,useReducer:Xo,useRef:Lh,useState:function(){return Xo(ya)},useDebugValue:Fo,useDeferredValue:function(e,t){var a=Xe();return Ue===null?Wo(a,e,t):Xh(a,Ue.memoizedState,e,t)},useTransition:function(){var e=Xo(ya)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:cs(e),t]},useSyncExternalStore:Eh,useId:Fh,useHostTransitionStatus:tu,useFormState:qh,useActionState:qh,useOptimistic:function(e,t){var a=Xe();return Ue!==null?Ah(a,Ue,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Po,useCacheRefresh:Wh};sf.useEffectEvent=Hh;function iu(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:_({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var su={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=Dt(),o=$a(s);o.payload=t,a!=null&&(o.callback=a),t=Ha(e,o,s),t!==null&&(Et(t,e,s),rs(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=Dt(),o=$a(s);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=Ha(e,o,s),t!==null&&(Et(t,e,s),rs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Dt(),s=$a(a);s.tag=2,t!=null&&(s.callback=t),t=Ha(e,s,a),t!==null&&(Et(t,e,a),rs(t,e,a))}};function rf(e,t,a,s,o,d,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,d,g):t.prototype&&t.prototype.isPureReactComponent?!Fi(a,s)||!Fi(o,d):!0}function lf(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&su.enqueueReplaceState(t,t.state,null)}function En(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=_({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function of(e){dr(e)}function uf(e){console.error(e)}function cf(e){dr(e)}function Dr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function df(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function ru(e,t,a){return a=$a(a),a.tag=3,a.payload={element:null},a.callback=function(){Dr(e,t)},a}function hf(e){return e=$a(e),e.tag=3,e}function ff(e,t,a,s){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var d=s.value;e.payload=function(){return o(d)},e.callback=function(){df(t,a,s)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){df(t,a,s),typeof o!="function"&&(Qa===null?Qa=new Set([this]):Qa.add(this));var b=s.stack;this.componentDidCatch(s.value,{componentStack:b!==null?b:""})})}function Ky(e,t,a,s,o){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&ti(t,a,o,!0),a=Ct.current,a!==null){switch(a.tag){case 31:case 13:return Yt===null?Pr():a.alternate===null&&Pe===0&&(Pe=3),a.flags&=-257,a.flags|=65536,a.lanes=o,s===wr?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),Ru(e,s,o)),!1;case 22:return a.flags|=65536,s===wr?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),Ru(e,s,o)),!1}throw Error(l(435,a.tag))}return Ru(e,s,o),Pr(),!1}if(je)return t=Ct.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==xo&&(e=Error(l(422),{cause:s}),ts($t(e,a)))):(s!==xo&&(t=Error(l(423),{cause:s}),ts($t(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=$t(s,a),o=ru(e.stateNode,s,o),Mo(e,o),Pe!==4&&(Pe=2)),!1;var d=Error(l(520),{cause:s});if(d=$t(d,a),_s===null?_s=[d]:_s.push(d),Pe!==4&&(Pe=2),t===null)return!0;s=$t(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=ru(a.stateNode,s,e),Mo(a,e),!1;case 1:if(t=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Qa===null||!Qa.has(d))))return a.flags|=65536,o&=-o,a.lanes|=o,o=hf(o),ff(o,e,a,s),Mo(a,o),!1}a=a.return}while(a!==null);return!1}var lu=Error(l(461)),Fe=!1;function ct(e,t,a,s){t.child=e===null?gh(t,null,a,s):wn(t,e.child,a,s)}function mf(e,t,a,s,o){a=a.render;var d=t.ref;if("ref"in s){var g={};for(var b in s)b!=="ref"&&(g[b]=s[b])}else g=s;return pn(t),s=Vo(e,t,a,g,d,o),b=Go(),e!==null&&!Fe?(Yo(e,t,o),ba(e,t,o)):(je&&b&&Eo(t),t.flags|=1,ct(e,t,s,o),t.child)}function vf(e,t,a,s,o){if(e===null){var d=a.type;return typeof d=="function"&&!_o(d)&&d.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=d,gf(e,t,d,s,o)):(e=vr(a.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!vu(e,o)){var g=d.memoizedProps;if(a=a.compare,a=a!==null?a:Fi,a(g,s)&&e.ref===t.ref)return ba(e,t,o)}return t.flags|=1,e=fa(d,s),e.ref=t.ref,e.return=t,t.child=e}function gf(e,t,a,s,o){if(e!==null){var d=e.memoizedProps;if(Fi(d,s)&&e.ref===t.ref)if(Fe=!1,t.pendingProps=s=d,vu(e,o))(e.flags&131072)!==0&&(Fe=!0);else return t.lanes=e.lanes,ba(e,t,o)}return ou(e,t,a,s,o)}function pf(e,t,a,s){var o=s.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;s=o&~d}else s=0,t.child=null;return yf(e,t,d,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&br(t,d!==null?d.cachePool:null),d!==null?bh(t,d):qo(),_h(t);else return s=t.lanes=536870912,yf(e,t,d!==null?d.baseLanes|a:a,a,s)}else d!==null?(br(t,d.cachePool),bh(t,d),Ga(),t.memoizedState=null):(e!==null&&br(t,null),qo(),Ga());return ct(e,t,o,a),t.child}function fs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function yf(e,t,a,s,o){var d=ko();return d=d===null?null:{parent:Ie._currentValue,pool:d},t.memoizedState={baseLanes:a,cachePool:d},e!==null&&br(t,null),qo(),_h(t),e!==null&&ti(e,t,s,!0),t.childLanes=o,null}function zr(e,t){return t=Br({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function bf(e,t,a){return wn(t,e.child,null,a),e=zr(t,t.pendingProps),e.flags|=2,Rt(t),t.memoizedState=null,e}function Py(e,t,a){var s=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(je){if(s.mode==="hidden")return e=zr(t,s),t.lanes=536870912,fs(null,e);if($o(t),(e=Le)?(e=Rm(e,Gt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:za!==null?{id:aa,overflow:na}:null,retryLane:536870912,hydrationErrors:null},a=th(e),a.return=t,t.child=a,ot=t,Le=null)):e=null,e===null)throw Ba(t);return t.lanes=536870912,null}return zr(t,s)}var d=e.memoizedState;if(d!==null){var g=d.dehydrated;if($o(t),o)if(t.flags&256)t.flags&=-257,t=bf(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(Fe||ti(e,t,a,!1),o=(a&e.childLanes)!==0,Fe||o){if(s=Be,s!==null&&(g=od(s,a),g!==0&&g!==d.retryLane))throw d.retryLane=g,fn(e,g),Et(s,e,g),lu;Pr(),t=bf(e,t,a)}else e=d.treeContext,Le=Kt(g.nextSibling),ot=t,je=!0,Ma=null,Gt=!1,e!==null&&ih(t,e),t=zr(t,s),t.flags|=4096;return t}return e=fa(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Mr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function ou(e,t,a,s,o){return pn(t),a=Vo(e,t,a,s,void 0,o),s=Go(),e!==null&&!Fe?(Yo(e,t,o),ba(e,t,o)):(je&&s&&Eo(t),t.flags|=1,ct(e,t,a,o),t.child)}function _f(e,t,a,s,o,d){return pn(t),t.updateQueue=null,a=Sh(t,s,a,o),wh(e),s=Go(),e!==null&&!Fe?(Yo(e,t,d),ba(e,t,d)):(je&&s&&Eo(t),t.flags|=1,ct(e,t,a,d),t.child)}function wf(e,t,a,s,o){if(pn(t),t.stateNode===null){var d=Zn,g=a.contextType;typeof g=="object"&&g!==null&&(d=ut(g)),d=new a(s,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=su,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=s,d.state=t.memoizedState,d.refs={},Do(t),g=a.contextType,d.context=typeof g=="object"&&g!==null?ut(g):Zn,d.state=t.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(iu(t,a,g,s),d.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&su.enqueueReplaceState(d,d.state,null),os(t,s,d,o),ls(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){d=t.stateNode;var b=t.memoizedProps,E=En(a,b);d.props=E;var D=d.context,$=a.contextType;g=Zn,typeof $=="object"&&$!==null&&(g=ut($));var Y=a.getDerivedStateFromProps;$=typeof Y=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||D!==g)&&lf(t,d,s,g),La=!1;var M=t.memoizedState;d.state=M,os(t,s,d,o),ls(),D=t.memoizedState,b||M!==D||La?(typeof Y=="function"&&(iu(t,a,Y,s),D=t.memoizedState),(E=La||rf(t,a,E,s,M,D,g))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=D),d.props=s,d.state=D,d.context=g,s=E):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{d=t.stateNode,zo(e,t),g=t.memoizedProps,$=En(a,g),d.props=$,Y=t.pendingProps,M=d.context,D=a.contextType,E=Zn,typeof D=="object"&&D!==null&&(E=ut(D)),b=a.getDerivedStateFromProps,(D=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==Y||M!==E)&&lf(t,d,s,E),La=!1,M=t.memoizedState,d.state=M,os(t,s,d,o),ls();var L=t.memoizedState;g!==Y||M!==L||La||e!==null&&e.dependencies!==null&&pr(e.dependencies)?(typeof b=="function"&&(iu(t,a,b,s),L=t.memoizedState),($=La||rf(t,a,$,s,M,L,E)||e!==null&&e.dependencies!==null&&pr(e.dependencies))?(D||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(s,L,E),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(s,L,E)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=L),d.props=s,d.state=L,d.context=E,s=$):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),s=!1)}return d=s,Mr(e,t),s=(t.flags&128)!==0,d||s?(d=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&s?(t.child=wn(t,e.child,null,o),t.child=wn(t,null,a,o)):ct(e,t,a,o),t.memoizedState=d.state,e=t.child):e=ba(e,t,o),e}function Sf(e,t,a,s){return vn(),t.flags|=256,ct(e,t,a,s),t.child}var uu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cu(e){return{baseLanes:e,cachePool:ch()}}function du(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Ut),e}function Ef(e,t,a){var s=t.pendingProps,o=!1,d=(t.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(Qe.current&2)!==0),g&&(o=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(je){if(o?Va(t):Ga(),(e=Le)?(e=Rm(e,Gt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:za!==null?{id:aa,overflow:na}:null,retryLane:536870912,hydrationErrors:null},a=th(e),a.return=t,t.child=a,ot=t,Le=null)):e=null,e===null)throw Ba(t);return Qu(e)?t.lanes=32:t.lanes=536870912,null}var b=s.children;return s=s.fallback,o?(Ga(),o=t.mode,b=Br({mode:"hidden",children:b},o),s=mn(s,o,a,null),b.return=t,s.return=t,b.sibling=s,t.child=b,s=t.child,s.memoizedState=cu(a),s.childLanes=du(e,g,a),t.memoizedState=uu,fs(null,s)):(Va(t),hu(t,b))}var E=e.memoizedState;if(E!==null&&(b=E.dehydrated,b!==null)){if(d)t.flags&256?(Va(t),t.flags&=-257,t=fu(e,t,a)):t.memoizedState!==null?(Ga(),t.child=e.child,t.flags|=128,t=null):(Ga(),b=s.fallback,o=t.mode,s=Br({mode:"visible",children:s.children},o),b=mn(b,o,a,null),b.flags|=2,s.return=t,b.return=t,s.sibling=b,t.child=s,wn(t,e.child,null,a),s=t.child,s.memoizedState=cu(a),s.childLanes=du(e,g,a),t.memoizedState=uu,t=fs(null,s));else if(Va(t),Qu(b)){if(g=b.nextSibling&&b.nextSibling.dataset,g)var D=g.dgst;g=D,s=Error(l(419)),s.stack="",s.digest=g,ts({value:s,source:null,stack:null}),t=fu(e,t,a)}else if(Fe||ti(e,t,a,!1),g=(a&e.childLanes)!==0,Fe||g){if(g=Be,g!==null&&(s=od(g,a),s!==0&&s!==E.retryLane))throw E.retryLane=s,fn(e,s),Et(g,e,s),lu;Pu(b)||Pr(),t=fu(e,t,a)}else Pu(b)?(t.flags|=192,t.child=e.child,t=null):(e=E.treeContext,Le=Kt(b.nextSibling),ot=t,je=!0,Ma=null,Gt=!1,e!==null&&ih(t,e),t=hu(t,s.children),t.flags|=4096);return t}return o?(Ga(),b=s.fallback,o=t.mode,E=e.child,D=E.sibling,s=fa(E,{mode:"hidden",children:s.children}),s.subtreeFlags=E.subtreeFlags&65011712,D!==null?b=fa(D,b):(b=mn(b,o,a,null),b.flags|=2),b.return=t,s.return=t,s.sibling=b,t.child=s,fs(null,s),s=t.child,b=e.child.memoizedState,b===null?b=cu(a):(o=b.cachePool,o!==null?(E=Ie._currentValue,o=o.parent!==E?{parent:E,pool:E}:o):o=ch(),b={baseLanes:b.baseLanes|a,cachePool:o}),s.memoizedState=b,s.childLanes=du(e,g,a),t.memoizedState=uu,fs(e.child,s)):(Va(t),a=e.child,e=a.sibling,a=fa(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=a,t.memoizedState=null,a)}function hu(e,t){return t=Br({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Br(e,t){return e=At(22,e,null,t),e.lanes=0,e}function fu(e,t,a){return wn(t,e.child,null,a),e=hu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jf(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),No(e.return,t,a)}function mu(e,t,a,s,o,d){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:o,treeForkCount:d}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=s,g.tail=a,g.tailMode=o,g.treeForkCount=d)}function xf(e,t,a){var s=t.pendingProps,o=s.revealOrder,d=s.tail;s=s.children;var g=Qe.current,b=(g&2)!==0;if(b?(g=g&1|2,t.flags|=128):g&=1,I(Qe,g),ct(e,t,s,a),s=je?es:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jf(e,a,t);else if(e.tag===19)jf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&xr(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),mu(t,!1,o,a,d,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&xr(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}mu(t,!0,a,null,d,s);break;case"together":mu(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function ba(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Pa|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(ti(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=fa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=fa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function vu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&pr(e)))}function Qy(e,t,a){switch(t.tag){case 3:nt(t,t.stateNode.containerInfo),qa(t,Ie,e.memoizedState.cache),vn();break;case 27:case 5:G(t);break;case 4:nt(t,t.stateNode.containerInfo);break;case 10:qa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,$o(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Va(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Ef(e,t,a):(Va(t),e=ba(e,t,a),e!==null?e.sibling:null);Va(t);break;case 19:var o=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(ti(e,t,a,!1),s=(a&t.childLanes)!==0),o){if(s)return xf(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),I(Qe,Qe.current),s)break;return null;case 22:return t.lanes=0,pf(e,t,a,t.pendingProps);case 24:qa(t,Ie,e.memoizedState.cache)}return ba(e,t,a)}function Tf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Fe=!0;else{if(!vu(e,a)&&(t.flags&128)===0)return Fe=!1,Qy(e,t,a);Fe=(e.flags&131072)!==0}else Fe=!1,je&&(t.flags&1048576)!==0&&nh(t,es,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=bn(t.elementType),t.type=e,typeof e=="function")_o(e)?(s=En(e,s),t.tag=1,t=wf(null,t,e,s,a)):(t.tag=0,t=ou(null,t,e,s,a));else{if(e!=null){var o=e.$$typeof;if(o===Q){t.tag=11,t=mf(null,t,e,s,a);break e}else if(o===J){t.tag=14,t=vf(null,t,e,s,a);break e}}throw t=Ge(e)||e,Error(l(306,t,""))}}return t;case 0:return ou(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,o=En(s,t.pendingProps),wf(e,t,s,o,a);case 3:e:{if(nt(t,t.stateNode.containerInfo),e===null)throw Error(l(387));s=t.pendingProps;var d=t.memoizedState;o=d.element,zo(e,t),os(t,s,null,a);var g=t.memoizedState;if(s=g.cache,qa(t,Ie,s),s!==d.cache&&Ao(t,[Ie],a,!0),ls(),s=g.element,d.isDehydrated)if(d={element:s,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=Sf(e,t,s,a);break e}else if(s!==o){o=$t(Error(l(424)),t),ts(o),t=Sf(e,t,s,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Le=Kt(e.firstChild),ot=t,je=!0,Ma=null,Gt=!0,a=gh(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(vn(),s===o){t=ba(e,t,a);break e}ct(e,t,s,a)}t=t.child}return t;case 26:return Mr(e,t),e===null?(a=Bm(t.type,null,t.pendingProps,null))?t.memoizedState=a:je||(a=t.type,e=t.pendingProps,s=Wr(ve.current).createElement(a),s[lt]=t,s[pt]=e,dt(s,a,e),st(s),t.stateNode=s):t.memoizedState=Bm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return G(t),e===null&&je&&(s=t.stateNode=Dm(t.type,t.pendingProps,ve.current),ot=t,Gt=!0,o=Le,Za(t.type)?(Xu=o,Le=Kt(s.firstChild)):Le=o),ct(e,t,t.pendingProps.children,a),Mr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&je&&((o=s=Le)&&(s=E0(s,t.type,t.pendingProps,Gt),s!==null?(t.stateNode=s,ot=t,Le=Kt(s.firstChild),Gt=!1,o=!0):o=!1),o||Ba(t)),G(t),o=t.type,d=t.pendingProps,g=e!==null?e.memoizedProps:null,s=d.children,Gu(o,d)?s=null:g!==null&&Gu(o,g)&&(t.flags|=32),t.memoizedState!==null&&(o=Vo(e,t,qy,null,null,a),Ns._currentValue=o),Mr(e,t),ct(e,t,s,a),t.child;case 6:return e===null&&je&&((e=a=Le)&&(a=j0(a,t.pendingProps,Gt),a!==null?(t.stateNode=a,ot=t,Le=null,e=!0):e=!1),e||Ba(t)),null;case 13:return Ef(e,t,a);case 4:return nt(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=wn(t,null,s,a):ct(e,t,s,a),t.child;case 11:return mf(e,t,t.type,t.pendingProps,a);case 7:return ct(e,t,t.pendingProps,a),t.child;case 8:return ct(e,t,t.pendingProps.children,a),t.child;case 12:return ct(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,qa(t,t.type,s.value),ct(e,t,s.children,a),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,pn(t),o=ut(o),s=s(o),t.flags|=1,ct(e,t,s,a),t.child;case 14:return vf(e,t,t.type,t.pendingProps,a);case 15:return gf(e,t,t.type,t.pendingProps,a);case 19:return xf(e,t,a);case 31:return Py(e,t,a);case 22:return pf(e,t,a,t.pendingProps);case 24:return pn(t),s=ut(Ie),e===null?(o=ko(),o===null&&(o=Be,d=Co(),o.pooledCache=d,d.refCount++,d!==null&&(o.pooledCacheLanes|=a),o=d),t.memoizedState={parent:s,cache:o},Do(t),qa(t,Ie,o)):((e.lanes&a)!==0&&(zo(e,t),os(t,null,null,a),ls()),o=e.memoizedState,d=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),qa(t,Ie,s)):(s=d.cache,qa(t,Ie,s),s!==o.cache&&Ao(t,[Ie],a,!0))),ct(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function _a(e){e.flags|=4}function gu(e,t,a,s,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Wf())e.flags|=8192;else throw _n=wr,Uo}else e.flags&=-16777217}function Of(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Vm(t))if(Wf())e.flags|=8192;else throw _n=wr,Uo}function qr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?sd():536870912,e.lanes|=t,fi|=t)}function ms(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function Xy(e,t,a){var s=t.pendingProps;switch(jo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return $e(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),ga(Ie),ie(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ei(t)?_a(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,To())),$e(t),null;case 26:var o=t.type,d=t.memoizedState;return e===null?(_a(t),d!==null?($e(t),Of(t,d)):($e(t),gu(t,o,null,s,a))):d?d!==e.memoizedState?(_a(t),$e(t),Of(t,d)):($e(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&_a(t),$e(t),gu(t,o,e,s,a)),null;case 27:if(oe(t),a=ve.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&_a(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return $e(t),null}e=ee.current,ei(t)?sh(t):(e=Dm(o,s,a),t.stateNode=e,_a(t))}return $e(t),null;case 5:if(oe(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&_a(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return $e(t),null}if(d=ee.current,ei(t))sh(t);else{var g=Wr(ve.current);switch(d){case 1:d=g.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:d=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":d=g.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":d=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":d=g.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof s.is=="string"?g.createElement("select",{is:s.is}):g.createElement("select"),s.multiple?d.multiple=!0:s.size&&(d.size=s.size);break;default:d=typeof s.is=="string"?g.createElement(o,{is:s.is}):g.createElement(o)}}d[lt]=t,d[pt]=s;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)d.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=d;e:switch(dt(d,o,s),o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&_a(t)}}return $e(t),gu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&_a(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(l(166));if(e=ve.current,ei(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,o=ot,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[lt]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||Em(e.nodeValue,a)),e||Ba(t,!0)}else e=Wr(e).createTextNode(s),e[lt]=t,t.stateNode=e}return $e(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=ei(t),a!==null){if(e===null){if(!s)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[lt]=t}else vn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;$e(t),e=!1}else a=To(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Rt(t),t):(Rt(t),null);if((t.flags&128)!==0)throw Error(l(558))}return $e(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=ei(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[lt]=t}else vn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;$e(t),o=!1}else o=To(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Rt(t),t):(Rt(t),null)}return Rt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==o&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),qr(t,t.updateQueue),$e(t),null);case 4:return ie(),e===null&&qu(t.stateNode.containerInfo),$e(t),null;case 10:return ga(t.type),$e(t),null;case 19:if(H(Qe),s=t.memoizedState,s===null)return $e(t),null;if(o=(t.flags&128)!==0,d=s.rendering,d===null)if(o)ms(s,!1);else{if(Pe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=xr(e),d!==null){for(t.flags|=128,ms(s,!1),e=d.updateQueue,t.updateQueue=e,qr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)eh(a,e),a=a.sibling;return I(Qe,Qe.current&1|2),je&&ma(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&xt()>Gr&&(t.flags|=128,o=!0,ms(s,!1),t.lanes=4194304)}else{if(!o)if(e=xr(d),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,qr(t,e),ms(s,!0),s.tail===null&&s.tailMode==="hidden"&&!d.alternate&&!je)return $e(t),null}else 2*xt()-s.renderingStartTime>Gr&&a!==536870912&&(t.flags|=128,o=!0,ms(s,!1),t.lanes=4194304);s.isBackwards?(d.sibling=t.child,t.child=d):(e=s.last,e!==null?e.sibling=d:t.child=d,s.last=d)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=xt(),e.sibling=null,a=Qe.current,I(Qe,o?a&1|2:a&1),je&&ma(t,s.treeForkCount),e):($e(t),null);case 22:case 23:return Rt(t),Lo(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),a=t.updateQueue,a!==null&&qr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&H(yn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ga(Ie),$e(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Jy(e,t){switch(jo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ga(Ie),ie(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return oe(t),null;case 31:if(t.memoizedState!==null){if(Rt(t),t.alternate===null)throw Error(l(340));vn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Rt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));vn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return H(Qe),null;case 4:return ie(),null;case 10:return ga(t.type),null;case 22:case 23:return Rt(t),Lo(),e!==null&&H(yn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ga(Ie),null;case 25:return null;default:return null}}function Nf(e,t){switch(jo(t),t.tag){case 3:ga(Ie),ie();break;case 26:case 27:case 5:oe(t);break;case 4:ie();break;case 31:t.memoizedState!==null&&Rt(t);break;case 13:Rt(t);break;case 19:H(Qe);break;case 10:ga(t.type);break;case 22:case 23:Rt(t),Lo(),e!==null&&H(yn);break;case 24:ga(Ie)}}function vs(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var o=s.next;a=o;do{if((a.tag&e)===e){s=void 0;var d=a.create,g=a.inst;s=d(),g.destroy=s}a=a.next}while(a!==o)}}catch(b){ke(t,t.return,b)}}function Ya(e,t,a){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var d=o.next;s=d;do{if((s.tag&e)===e){var g=s.inst,b=g.destroy;if(b!==void 0){g.destroy=void 0,o=t;var E=a,D=b;try{D()}catch($){ke(o,E,$)}}}s=s.next}while(s!==d)}}catch($){ke(t,t.return,$)}}function Af(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{yh(t,a)}catch(s){ke(e,e.return,s)}}}function Cf(e,t,a){a.props=En(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){ke(e,t,s)}}function gs(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(o){ke(e,t,o)}}function ia(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(o){ke(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){ke(e,t,o)}else a.current=null}function Rf(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(o){ke(e,e.return,o)}}function pu(e,t,a){try{var s=e.stateNode;p0(s,e.type,a,t),s[pt]=t}catch(o){ke(e,e.return,o)}}function kf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Za(e.type)||e.tag===4}function yu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Za(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bu(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=da));else if(s!==4&&(s===27&&Za(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(bu(e,t,a),e=e.sibling;e!==null;)bu(e,t,a),e=e.sibling}function Lr(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&Za(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Lr(e,t,a),e=e.sibling;e!==null;)Lr(e,t,a),e=e.sibling}function Uf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);dt(t,s,a),t[lt]=e,t[pt]=a}catch(d){ke(e,e.return,d)}}var wa=!1,We=!1,_u=!1,Df=typeof WeakSet=="function"?WeakSet:Set,rt=null;function Iy(e,t){if(e=e.containerInfo,Hu=rl,e=Kd(e),fo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var o=s.anchorOffset,d=s.focusNode;s=s.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var g=0,b=-1,E=-1,D=0,$=0,Y=e,M=null;t:for(;;){for(var L;Y!==a||o!==0&&Y.nodeType!==3||(b=g+o),Y!==d||s!==0&&Y.nodeType!==3||(E=g+s),Y.nodeType===3&&(g+=Y.nodeValue.length),(L=Y.firstChild)!==null;)M=Y,Y=L;for(;;){if(Y===e)break t;if(M===a&&++D===o&&(b=g),M===d&&++$===s&&(E=g),(L=Y.nextSibling)!==null)break;Y=M,M=Y.parentNode}Y=L}a=b===-1||E===-1?null:{start:b,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(Vu={focusedElem:e,selectionRange:a},rl=!1,rt=t;rt!==null;)if(t=rt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,rt=e;else for(;rt!==null;){switch(t=rt,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=t,o=d.memoizedProps,d=d.memoizedState,s=a.stateNode;try{var ne=En(a.type,o);e=s.getSnapshotBeforeUpdate(ne,d),s.__reactInternalSnapshotBeforeUpdate=e}catch(de){ke(a,a.return,de)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Ku(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ku(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,rt=e;break}rt=t.return}}function zf(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:Ea(e,a),s&4&&vs(5,a);break;case 1:if(Ea(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(g){ke(a,a.return,g)}else{var o=En(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){ke(a,a.return,g)}}s&64&&Af(a),s&512&&gs(a,a.return);break;case 3:if(Ea(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{yh(e,t)}catch(g){ke(a,a.return,g)}}break;case 27:t===null&&s&4&&Uf(a);case 26:case 5:Ea(e,a),t===null&&s&4&&Rf(a),s&512&&gs(a,a.return);break;case 12:Ea(e,a);break;case 31:Ea(e,a),s&4&&qf(e,a);break;case 13:Ea(e,a),s&4&&Lf(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=s0.bind(null,a),x0(e,a))));break;case 22:if(s=a.memoizedState!==null||wa,!s){t=t!==null&&t.memoizedState!==null||We,o=wa;var d=We;wa=s,(We=t)&&!d?ja(e,a,(a.subtreeFlags&8772)!==0):Ea(e,a),wa=o,We=d}break;case 30:break;default:Ea(e,a)}}function Mf(e){var t=e.alternate;t!==null&&(e.alternate=null,Mf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Jl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,bt=!1;function Sa(e,t,a){for(a=a.child;a!==null;)Bf(e,t,a),a=a.sibling}function Bf(e,t,a){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount($i,a)}catch{}switch(a.tag){case 26:We||ia(a,t),Sa(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:We||ia(a,t);var s=He,o=bt;Za(a.type)&&(He=a.stateNode,bt=!1),Sa(e,t,a),xs(a.stateNode),He=s,bt=o;break;case 5:We||ia(a,t);case 6:if(s=He,o=bt,He=null,Sa(e,t,a),He=s,bt=o,He!==null)if(bt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(a.stateNode)}catch(d){ke(a,t,d)}else try{He.removeChild(a.stateNode)}catch(d){ke(a,t,d)}break;case 18:He!==null&&(bt?(e=He,Am(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),wi(e)):Am(He,a.stateNode));break;case 4:s=He,o=bt,He=a.stateNode.containerInfo,bt=!0,Sa(e,t,a),He=s,bt=o;break;case 0:case 11:case 14:case 15:Ya(2,a,t),We||Ya(4,a,t),Sa(e,t,a);break;case 1:We||(ia(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&Cf(a,t,s)),Sa(e,t,a);break;case 21:Sa(e,t,a);break;case 22:We=(s=We)||a.memoizedState!==null,Sa(e,t,a),We=s;break;default:Sa(e,t,a)}}function qf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{wi(e)}catch(a){ke(t,t.return,a)}}}function Lf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{wi(e)}catch(a){ke(t,t.return,a)}}function Zy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Df),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Df),t;default:throw Error(l(435,e.tag))}}function $r(e,t){var a=Zy(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var o=r0.bind(null,e,s);s.then(o,o)}})}function _t(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var o=a[s],d=e,g=t,b=g;e:for(;b!==null;){switch(b.tag){case 27:if(Za(b.type)){He=b.stateNode,bt=!1;break e}break;case 5:He=b.stateNode,bt=!1;break e;case 3:case 4:He=b.stateNode.containerInfo,bt=!0;break e}b=b.return}if(He===null)throw Error(l(160));Bf(d,g,o),He=null,bt=!1,d=o.alternate,d!==null&&(d.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)$f(t,e),t=t.sibling}var It=null;function $f(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_t(t,e),wt(e),s&4&&(Ya(3,e,e.return),vs(3,e),Ya(5,e,e.return));break;case 1:_t(t,e),wt(e),s&512&&(We||a===null||ia(a,a.return)),s&64&&wa&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var o=It;if(_t(t,e),wt(e),s&512&&(We||a===null||ia(a,a.return)),s&4){var d=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":d=o.getElementsByTagName("title")[0],(!d||d[Gi]||d[lt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=o.createElement(s),o.head.insertBefore(d,o.querySelector("head > title"))),dt(d,s,a),d[lt]=e,st(d),s=d;break e;case"link":var g=$m("link","href",o).get(s+(a.href||""));if(g){for(var b=0;b<g.length;b++)if(d=g[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(b,1);break t}}d=o.createElement(s),dt(d,s,a),o.head.appendChild(d);break;case"meta":if(g=$m("meta","content",o).get(s+(a.content||""))){for(b=0;b<g.length;b++)if(d=g[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(b,1);break t}}d=o.createElement(s),dt(d,s,a),o.head.appendChild(d);break;default:throw Error(l(468,s))}d[lt]=e,st(d),s=d}e.stateNode=s}else Hm(o,e.type,e.stateNode);else e.stateNode=Lm(o,s,e.memoizedProps);else d!==s?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,s===null?Hm(o,e.type,e.stateNode):Lm(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&pu(e,e.memoizedProps,a.memoizedProps)}break;case 27:_t(t,e),wt(e),s&512&&(We||a===null||ia(a,a.return)),a!==null&&s&4&&pu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(_t(t,e),wt(e),s&512&&(We||a===null||ia(a,a.return)),e.flags&32){o=e.stateNode;try{Yn(o,"")}catch(ne){ke(e,e.return,ne)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,pu(e,o,a!==null?a.memoizedProps:o)),s&1024&&(_u=!0);break;case 6:if(_t(t,e),wt(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(ne){ke(e,e.return,ne)}}break;case 3:if(al=null,o=It,It=el(t.containerInfo),_t(t,e),It=o,wt(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{wi(t.containerInfo)}catch(ne){ke(e,e.return,ne)}_u&&(_u=!1,Hf(e));break;case 4:s=It,It=el(e.stateNode.containerInfo),_t(t,e),wt(e),It=s;break;case 12:_t(t,e),wt(e);break;case 31:_t(t,e),wt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,$r(e,s)));break;case 13:_t(t,e),wt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vr=xt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,$r(e,s)));break;case 22:o=e.memoizedState!==null;var E=a!==null&&a.memoizedState!==null,D=wa,$=We;if(wa=D||o,We=$||E,_t(t,e),We=$,wa=D,wt(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||E||wa||We||jn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){E=a=t;try{if(d=E.stateNode,o)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{b=E.stateNode;var Y=E.memoizedProps.style,M=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;b.style.display=M==null||typeof M=="boolean"?"":(""+M).trim()}}catch(ne){ke(E,E.return,ne)}}}else if(t.tag===6){if(a===null){E=t;try{E.stateNode.nodeValue=o?"":E.memoizedProps}catch(ne){ke(E,E.return,ne)}}}else if(t.tag===18){if(a===null){E=t;try{var L=E.stateNode;o?Cm(L,!0):Cm(E.stateNode,!1)}catch(ne){ke(E,E.return,ne)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,$r(e,a))));break;case 19:_t(t,e),wt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,$r(e,s)));break;case 30:break;case 21:break;default:_t(t,e),wt(e)}}function wt(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(kf(s)){a=s;break}s=s.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var o=a.stateNode,d=yu(e);Lr(e,d,o);break;case 5:var g=a.stateNode;a.flags&32&&(Yn(g,""),a.flags&=-33);var b=yu(e);Lr(e,b,g);break;case 3:case 4:var E=a.stateNode.containerInfo,D=yu(e);bu(e,D,E);break;default:throw Error(l(161))}}catch($){ke(e,e.return,$)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Hf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Hf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ea(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)zf(e,t.alternate,t),t=t.sibling}function jn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ya(4,t,t.return),jn(t);break;case 1:ia(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Cf(t,t.return,a),jn(t);break;case 27:xs(t.stateNode);case 26:case 5:ia(t,t.return),jn(t);break;case 22:t.memoizedState===null&&jn(t);break;case 30:jn(t);break;default:jn(t)}e=e.sibling}}function ja(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,d=t,g=d.flags;switch(d.tag){case 0:case 11:case 15:ja(o,d,a),vs(4,d);break;case 1:if(ja(o,d,a),s=d,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(D){ke(s,s.return,D)}if(s=d,o=s.updateQueue,o!==null){var b=s.stateNode;try{var E=o.shared.hiddenCallbacks;if(E!==null)for(o.shared.hiddenCallbacks=null,o=0;o<E.length;o++)ph(E[o],b)}catch(D){ke(s,s.return,D)}}a&&g&64&&Af(d),gs(d,d.return);break;case 27:Uf(d);case 26:case 5:ja(o,d,a),a&&s===null&&g&4&&Rf(d),gs(d,d.return);break;case 12:ja(o,d,a);break;case 31:ja(o,d,a),a&&g&4&&qf(o,d);break;case 13:ja(o,d,a),a&&g&4&&Lf(o,d);break;case 22:d.memoizedState===null&&ja(o,d,a),gs(d,d.return);break;case 30:break;default:ja(o,d,a)}t=t.sibling}}function wu(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&as(a))}function Su(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&as(e))}function Zt(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Vf(e,t,a,s),t=t.sibling}function Vf(e,t,a,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Zt(e,t,a,s),o&2048&&vs(9,t);break;case 1:Zt(e,t,a,s);break;case 3:Zt(e,t,a,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&as(e)));break;case 12:if(o&2048){Zt(e,t,a,s),e=t.stateNode;try{var d=t.memoizedProps,g=d.id,b=d.onPostCommit;typeof b=="function"&&b(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){ke(t,t.return,E)}}else Zt(e,t,a,s);break;case 31:Zt(e,t,a,s);break;case 13:Zt(e,t,a,s);break;case 23:break;case 22:d=t.stateNode,g=t.alternate,t.memoizedState!==null?d._visibility&2?Zt(e,t,a,s):ps(e,t):d._visibility&2?Zt(e,t,a,s):(d._visibility|=2,ci(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),o&2048&&wu(g,t);break;case 24:Zt(e,t,a,s),o&2048&&Su(t.alternate,t);break;default:Zt(e,t,a,s)}}function ci(e,t,a,s,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,g=t,b=a,E=s,D=g.flags;switch(g.tag){case 0:case 11:case 15:ci(d,g,b,E,o),vs(8,g);break;case 23:break;case 22:var $=g.stateNode;g.memoizedState!==null?$._visibility&2?ci(d,g,b,E,o):ps(d,g):($._visibility|=2,ci(d,g,b,E,o)),o&&D&2048&&wu(g.alternate,g);break;case 24:ci(d,g,b,E,o),o&&D&2048&&Su(g.alternate,g);break;default:ci(d,g,b,E,o)}t=t.sibling}}function ps(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,o=s.flags;switch(s.tag){case 22:ps(a,s),o&2048&&wu(s.alternate,s);break;case 24:ps(a,s),o&2048&&Su(s.alternate,s);break;default:ps(a,s)}t=t.sibling}}var ys=8192;function di(e,t,a){if(e.subtreeFlags&ys)for(e=e.child;e!==null;)Gf(e,t,a),e=e.sibling}function Gf(e,t,a){switch(e.tag){case 26:di(e,t,a),e.flags&ys&&e.memoizedState!==null&&B0(a,It,e.memoizedState,e.memoizedProps);break;case 5:di(e,t,a);break;case 3:case 4:var s=It;It=el(e.stateNode.containerInfo),di(e,t,a),It=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=ys,ys=16777216,di(e,t,a),ys=s):di(e,t,a));break;default:di(e,t,a)}}function Yf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function bs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];rt=s,Pf(s,e)}Yf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Kf(e),e=e.sibling}function Kf(e){switch(e.tag){case 0:case 11:case 15:bs(e),e.flags&2048&&Ya(9,e,e.return);break;case 3:bs(e);break;case 12:bs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Hr(e)):bs(e);break;default:bs(e)}}function Hr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];rt=s,Pf(s,e)}Yf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ya(8,t,t.return),Hr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Hr(t));break;default:Hr(t)}e=e.sibling}}function Pf(e,t){for(;rt!==null;){var a=rt;switch(a.tag){case 0:case 11:case 15:Ya(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:as(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,rt=s;else e:for(a=e;rt!==null;){s=rt;var o=s.sibling,d=s.return;if(Mf(s),s===a){rt=null;break e}if(o!==null){o.return=d,rt=o;break e}rt=d}}}var Fy={getCacheForType:function(e){var t=ut(Ie),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return ut(Ie).controller.signal}},Wy=typeof WeakMap=="function"?WeakMap:Map,Ae=0,Be=null,_e=null,Se=0,Re=0,kt=null,Ka=!1,hi=!1,Eu=!1,xa=0,Pe=0,Pa=0,xn=0,ju=0,Ut=0,fi=0,_s=null,St=null,xu=!1,Vr=0,Qf=0,Gr=1/0,Yr=null,Qa=null,it=0,Xa=null,mi=null,Ta=0,Tu=0,Ou=null,Xf=null,ws=0,Nu=null;function Dt(){return(Ae&2)!==0&&Se!==0?Se&-Se:R.T!==null?Du():ud()}function Jf(){if(Ut===0)if((Se&536870912)===0||je){var e=Fs;Fs<<=1,(Fs&3932160)===0&&(Fs=262144),Ut=e}else Ut=536870912;return e=Ct.current,e!==null&&(e.flags|=32),Ut}function Et(e,t,a){(e===Be&&(Re===2||Re===9)||e.cancelPendingCommit!==null)&&(vi(e,0),Ja(e,Se,Ut,!1)),Vi(e,a),((Ae&2)===0||e!==Be)&&(e===Be&&((Ae&2)===0&&(xn|=a),Pe===4&&Ja(e,Se,Ut,!1)),sa(e))}function If(e,t,a){if((Ae&6)!==0)throw Error(l(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Hi(e,t),o=s?a0(e,t):Cu(e,t,!0),d=s;do{if(o===0){hi&&!s&&Ja(e,t,0,!1);break}else{if(a=e.current.alternate,d&&!e0(a)){o=Cu(e,t,!1),d=!1;continue}if(o===2){if(d=t,e.errorRecoveryDisabledLanes&d)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var b=e;o=_s;var E=b.current.memoizedState.isDehydrated;if(E&&(vi(b,g).flags|=256),g=Cu(b,g,!1),g!==2){if(Eu&&!E){b.errorRecoveryDisabledLanes|=d,xn|=d,o=4;break e}d=St,St=o,d!==null&&(St===null?St=d:St.push.apply(St,d))}o=g}if(d=!1,o!==2)continue}}if(o===1){vi(e,0),Ja(e,t,0,!0);break}e:{switch(s=e,d=o,d){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Ja(s,t,Ut,!Ka);break e;case 2:St=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=Vr+300-xt(),10<o)){if(Ja(s,t,Ut,!Ka),er(s,0,!0)!==0)break e;Ta=t,s.timeoutHandle=Om(Zf.bind(null,s,a,St,Yr,xu,t,Ut,xn,fi,Ka,d,"Throttled",-0,0),o);break e}Zf(s,a,St,Yr,xu,t,Ut,xn,fi,Ka,d,null,-0,0)}}break}while(!0);sa(e)}function Zf(e,t,a,s,o,d,g,b,E,D,$,Y,M,L){if(e.timeoutHandle=-1,Y=t.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:da},Gf(t,d,Y);var ne=(d&62914560)===d?Vr-xt():(d&4194048)===d?Qf-xt():0;if(ne=q0(Y,ne),ne!==null){Ta=d,e.cancelPendingCommit=ne(sm.bind(null,e,t,d,a,s,o,g,b,E,$,Y,null,M,L)),Ja(e,d,g,!D);return}}sm(e,t,d,a,s,o,g,b,E)}function e0(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var o=a[s],d=o.getSnapshot;o=o.value;try{if(!Nt(d(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ja(e,t,a,s){t&=~ju,t&=~xn,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var d=31-Ot(o),g=1<<d;s[d]=-1,o&=~g}a!==0&&rd(e,a,t)}function Kr(){return(Ae&6)===0?(Ss(0),!1):!0}function Au(){if(_e!==null){if(Re===0)var e=_e.return;else e=_e,va=gn=null,Ko(e),si=null,is=0,e=_e;for(;e!==null;)Nf(e.alternate,e),e=e.return;_e=null}}function vi(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,_0(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ta=0,Au(),Be=e,_e=a=fa(e.current,null),Se=t,Re=0,kt=null,Ka=!1,hi=Hi(e,t),Eu=!1,fi=Ut=ju=xn=Pa=Pe=0,St=_s=null,xu=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-Ot(s),d=1<<o;t|=e[o],s&=~d}return xa=t,hr(),a}function Ff(e,t){ge=null,R.H=hs,t===ii||t===_r?(t=fh(),Re=3):t===Uo?(t=fh(),Re=4):Re=t===lu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,kt=t,_e===null&&(Pe=1,Dr(e,$t(t,e.current)))}function Wf(){var e=Ct.current;return e===null?!0:(Se&4194048)===Se?Yt===null:(Se&62914560)===Se||(Se&536870912)!==0?e===Yt:!1}function em(){var e=R.H;return R.H=hs,e===null?hs:e}function tm(){var e=R.A;return R.A=Fy,e}function Pr(){Pe=4,Ka||(Se&4194048)!==Se&&Ct.current!==null||(hi=!0),(Pa&134217727)===0&&(xn&134217727)===0||Be===null||Ja(Be,Se,Ut,!1)}function Cu(e,t,a){var s=Ae;Ae|=2;var o=em(),d=tm();(Be!==e||Se!==t)&&(Yr=null,vi(e,t)),t=!1;var g=Pe;e:do try{if(Re!==0&&_e!==null){var b=_e,E=kt;switch(Re){case 8:Au(),g=6;break e;case 3:case 2:case 9:case 6:Ct.current===null&&(t=!0);var D=Re;if(Re=0,kt=null,gi(e,b,E,D),a&&hi){g=0;break e}break;default:D=Re,Re=0,kt=null,gi(e,b,E,D)}}t0(),g=Pe;break}catch($){Ff(e,$)}while(!0);return t&&e.shellSuspendCounter++,va=gn=null,Ae=s,R.H=o,R.A=d,_e===null&&(Be=null,Se=0,hr()),g}function t0(){for(;_e!==null;)am(_e)}function a0(e,t){var a=Ae;Ae|=2;var s=em(),o=tm();Be!==e||Se!==t?(Yr=null,Gr=xt()+500,vi(e,t)):hi=Hi(e,t);e:do try{if(Re!==0&&_e!==null){t=_e;var d=kt;t:switch(Re){case 1:Re=0,kt=null,gi(e,t,d,1);break;case 2:case 9:if(dh(d)){Re=0,kt=null,nm(t);break}t=function(){Re!==2&&Re!==9||Be!==e||(Re=7),sa(e)},d.then(t,t);break e;case 3:Re=7;break e;case 4:Re=5;break e;case 7:dh(d)?(Re=0,kt=null,nm(t)):(Re=0,kt=null,gi(e,t,d,7));break;case 5:var g=null;switch(_e.tag){case 26:g=_e.memoizedState;case 5:case 27:var b=_e;if(g?Vm(g):b.stateNode.complete){Re=0,kt=null;var E=b.sibling;if(E!==null)_e=E;else{var D=b.return;D!==null?(_e=D,Qr(D)):_e=null}break t}}Re=0,kt=null,gi(e,t,d,5);break;case 6:Re=0,kt=null,gi(e,t,d,6);break;case 8:Au(),Pe=6;break e;default:throw Error(l(462))}}n0();break}catch($){Ff(e,$)}while(!0);return va=gn=null,R.H=s,R.A=o,Ae=a,_e!==null?0:(Be=null,Se=0,hr(),Pe)}function n0(){for(;_e!==null&&!Tp();)am(_e)}function am(e){var t=Tf(e.alternate,e,xa);e.memoizedProps=e.pendingProps,t===null?Qr(e):_e=t}function nm(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=_f(a,t,t.pendingProps,t.type,void 0,Se);break;case 11:t=_f(a,t,t.pendingProps,t.type.render,t.ref,Se);break;case 5:Ko(t);default:Nf(a,t),t=_e=eh(t,xa),t=Tf(a,t,xa)}e.memoizedProps=e.pendingProps,t===null?Qr(e):_e=t}function gi(e,t,a,s){va=gn=null,Ko(t),si=null,is=0;var o=t.return;try{if(Ky(e,o,t,a,Se)){Pe=1,Dr(e,$t(a,e.current)),_e=null;return}}catch(d){if(o!==null)throw _e=o,d;Pe=1,Dr(e,$t(a,e.current)),_e=null;return}t.flags&32768?(je||s===1?e=!0:hi||(Se&536870912)!==0?e=!1:(Ka=e=!0,(s===2||s===9||s===3||s===6)&&(s=Ct.current,s!==null&&s.tag===13&&(s.flags|=16384))),im(t,e)):Qr(t)}function Qr(e){var t=e;do{if((t.flags&32768)!==0){im(t,Ka);return}e=t.return;var a=Xy(t.alternate,t,xa);if(a!==null){_e=a;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);Pe===0&&(Pe=5)}function im(e,t){do{var a=Jy(e.alternate,e);if(a!==null){a.flags&=32767,_e=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){_e=e;return}_e=e=a}while(e!==null);Pe=6,_e=null}function sm(e,t,a,s,o,d,g,b,E){e.cancelPendingCommit=null;do Xr();while(it!==0);if((Ae&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(d=t.lanes|t.childLanes,d|=yo,Mp(e,a,d,g,b,E),e===Be&&(_e=Be=null,Se=0),mi=t,Xa=e,Ta=a,Tu=d,Ou=o,Xf=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,l0(Is,function(){return cm(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=R.T,R.T=null,o=P.p,P.p=2,g=Ae,Ae|=4;try{Iy(e,t,a)}finally{Ae=g,P.p=o,R.T=s}}it=1,rm(),lm(),om()}}function rm(){if(it===1){it=0;var e=Xa,t=mi,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=R.T,R.T=null;var s=P.p;P.p=2;var o=Ae;Ae|=4;try{$f(t,e);var d=Vu,g=Kd(e.containerInfo),b=d.focusedElem,E=d.selectionRange;if(g!==b&&b&&b.ownerDocument&&Yd(b.ownerDocument.documentElement,b)){if(E!==null&&fo(b)){var D=E.start,$=E.end;if($===void 0&&($=D),"selectionStart"in b)b.selectionStart=D,b.selectionEnd=Math.min($,b.value.length);else{var Y=b.ownerDocument||document,M=Y&&Y.defaultView||window;if(M.getSelection){var L=M.getSelection(),ne=b.textContent.length,de=Math.min(E.start,ne),ze=E.end===void 0?de:Math.min(E.end,ne);!L.extend&&de>ze&&(g=ze,ze=de,de=g);var C=Gd(b,de),A=Gd(b,ze);if(C&&A&&(L.rangeCount!==1||L.anchorNode!==C.node||L.anchorOffset!==C.offset||L.focusNode!==A.node||L.focusOffset!==A.offset)){var U=Y.createRange();U.setStart(C.node,C.offset),L.removeAllRanges(),de>ze?(L.addRange(U),L.extend(A.node,A.offset)):(U.setEnd(A.node,A.offset),L.addRange(U))}}}}for(Y=[],L=b;L=L.parentNode;)L.nodeType===1&&Y.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Y.length;b++){var V=Y[b];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}rl=!!Hu,Vu=Hu=null}finally{Ae=o,P.p=s,R.T=a}}e.current=t,it=2}}function lm(){if(it===2){it=0;var e=Xa,t=mi,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=R.T,R.T=null;var s=P.p;P.p=2;var o=Ae;Ae|=4;try{zf(e,t.alternate,t)}finally{Ae=o,P.p=s,R.T=a}}it=3}}function om(){if(it===4||it===3){it=0,Op();var e=Xa,t=mi,a=Ta,s=Xf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?it=5:(it=0,mi=Xa=null,um(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Qa=null),Ql(a),t=t.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot($i,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=R.T,o=P.p,P.p=2,R.T=null;try{for(var d=e.onRecoverableError,g=0;g<s.length;g++){var b=s[g];d(b.value,{componentStack:b.stack})}}finally{R.T=t,P.p=o}}(Ta&3)!==0&&Xr(),sa(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===Nu?ws++:(ws=0,Nu=e):ws=0,Ss(0)}}function um(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,as(t)))}function Xr(){return rm(),lm(),om(),cm()}function cm(){if(it!==5)return!1;var e=Xa,t=Tu;Tu=0;var a=Ql(Ta),s=R.T,o=P.p;try{P.p=32>a?32:a,R.T=null,a=Ou,Ou=null;var d=Xa,g=Ta;if(it=0,mi=Xa=null,Ta=0,(Ae&6)!==0)throw Error(l(331));var b=Ae;if(Ae|=4,Kf(d.current),Vf(d,d.current,g,a),Ae=b,Ss(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot($i,d)}catch{}return!0}finally{P.p=o,R.T=s,um(e,t)}}function dm(e,t,a){t=$t(a,t),t=ru(e.stateNode,t,2),e=Ha(e,t,2),e!==null&&(Vi(e,2),sa(e))}function ke(e,t,a){if(e.tag===3)dm(e,e,a);else for(;t!==null;){if(t.tag===3){dm(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Qa===null||!Qa.has(s))){e=$t(a,e),a=hf(2),s=Ha(t,a,2),s!==null&&(ff(a,s,t,e),Vi(s,2),sa(s));break}}t=t.return}}function Ru(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new Wy;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(a)||(Eu=!0,o.add(a),e=i0.bind(null,e,t,a),t.then(e,e))}function i0(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Be===e&&(Se&a)===a&&(Pe===4||Pe===3&&(Se&62914560)===Se&&300>xt()-Vr?(Ae&2)===0&&vi(e,0):ju|=a,fi===Se&&(fi=0)),sa(e)}function hm(e,t){t===0&&(t=sd()),e=fn(e,t),e!==null&&(Vi(e,t),sa(e))}function s0(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),hm(e,a)}function r0(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(t),hm(e,a)}function l0(e,t){return Gl(e,t)}var Jr=null,pi=null,ku=!1,Ir=!1,Uu=!1,Ia=0;function sa(e){e!==pi&&e.next===null&&(pi===null?Jr=pi=e:pi=pi.next=e),Ir=!0,ku||(ku=!0,u0())}function Ss(e,t){if(!Uu&&Ir){Uu=!0;do for(var a=!1,s=Jr;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var d=0;else{var g=s.suspendedLanes,b=s.pingedLanes;d=(1<<31-Ot(42|e)+1)-1,d&=o&~(g&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,gm(s,d))}else d=Se,d=er(s,s===Be?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(d&3)===0||Hi(s,d)||(a=!0,gm(s,d));s=s.next}while(a);Uu=!1}}function o0(){fm()}function fm(){Ir=ku=!1;var e=0;Ia!==0&&b0()&&(e=Ia);for(var t=xt(),a=null,s=Jr;s!==null;){var o=s.next,d=mm(s,t);d===0?(s.next=null,a===null?Jr=o:a.next=o,o===null&&(pi=a)):(a=s,(e!==0||(d&3)!==0)&&(Ir=!0)),s=o}it!==0&&it!==5||Ss(e),Ia!==0&&(Ia=0)}function mm(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var g=31-Ot(d),b=1<<g,E=o[g];E===-1?((b&a)===0||(b&s)!==0)&&(o[g]=zp(b,t)):E<=t&&(e.expiredLanes|=b),d&=~b}if(t=Be,a=Se,a=er(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(Re===2||Re===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Yl(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Hi(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&Yl(s),Ql(a)){case 2:case 8:a=nd;break;case 32:a=Is;break;case 268435456:a=id;break;default:a=Is}return s=vm.bind(null,e),a=Gl(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&Yl(s),e.callbackPriority=2,e.callbackNode=null,2}function vm(e,t){if(it!==0&&it!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Xr()&&e.callbackNode!==a)return null;var s=Se;return s=er(e,e===Be?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(If(e,s,t),mm(e,xt()),e.callbackNode!=null&&e.callbackNode===a?vm.bind(null,e):null)}function gm(e,t){if(Xr())return null;If(e,t,!0)}function u0(){w0(function(){(Ae&6)!==0?Gl(ad,o0):fm()})}function Du(){if(Ia===0){var e=ai;e===0&&(e=Zs,Zs<<=1,(Zs&261888)===0&&(Zs=256)),Ia=e}return Ia}function pm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ir(""+e)}function ym(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function c0(e,t,a,s,o){if(t==="submit"&&a&&a.stateNode===o){var d=pm((o[pt]||null).action),g=s.submitter;g&&(t=(t=g[pt]||null)?pm(t.formAction):g.getAttribute("formAction"),t!==null&&(d=t,g=null));var b=new or("action","action",null,s,o);e.push({event:b,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Ia!==0){var E=g?ym(o,g):new FormData(o);eu(a,{pending:!0,data:E,method:o.method,action:d},null,E)}}else typeof d=="function"&&(b.preventDefault(),E=g?ym(o,g):new FormData(o),eu(a,{pending:!0,data:E,method:o.method,action:d},d,E))},currentTarget:o}]})}}for(var zu=0;zu<po.length;zu++){var Mu=po[zu],d0=Mu.toLowerCase(),h0=Mu[0].toUpperCase()+Mu.slice(1);Jt(d0,"on"+h0)}Jt(Xd,"onAnimationEnd"),Jt(Jd,"onAnimationIteration"),Jt(Id,"onAnimationStart"),Jt("dblclick","onDoubleClick"),Jt("focusin","onFocus"),Jt("focusout","onBlur"),Jt(Ny,"onTransitionRun"),Jt(Ay,"onTransitionStart"),Jt(Cy,"onTransitionCancel"),Jt(Zd,"onTransitionEnd"),Vn("onMouseEnter",["mouseout","mouseover"]),Vn("onMouseLeave",["mouseout","mouseover"]),Vn("onPointerEnter",["pointerout","pointerover"]),Vn("onPointerLeave",["pointerout","pointerover"]),un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),un("onBeforeInput",["compositionend","keypress","textInput","paste"]),un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Es));function bm(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],o=s.event;s=s.listeners;e:{var d=void 0;if(t)for(var g=s.length-1;0<=g;g--){var b=s[g],E=b.instance,D=b.currentTarget;if(b=b.listener,E!==d&&o.isPropagationStopped())break e;d=b,o.currentTarget=D;try{d(o)}catch($){dr($)}o.currentTarget=null,d=E}else for(g=0;g<s.length;g++){if(b=s[g],E=b.instance,D=b.currentTarget,b=b.listener,E!==d&&o.isPropagationStopped())break e;d=b,o.currentTarget=D;try{d(o)}catch($){dr($)}o.currentTarget=null,d=E}}}}function we(e,t){var a=t[Xl];a===void 0&&(a=t[Xl]=new Set);var s=e+"__bubble";a.has(s)||(_m(t,e,2,!1),a.add(s))}function Bu(e,t,a){var s=0;t&&(s|=4),_m(a,e,s,t)}var Zr="_reactListening"+Math.random().toString(36).slice(2);function qu(e){if(!e[Zr]){e[Zr]=!0,hd.forEach(function(a){a!=="selectionchange"&&(f0.has(a)||Bu(a,!1,e),Bu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zr]||(t[Zr]=!0,Bu("selectionchange",!1,t))}}function _m(e,t,a,s){switch(Jm(t)){case 2:var o=H0;break;case 8:o=V0;break;default:o=Wu}a=o.bind(null,t,a,e),o=void 0,!no||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function Lu(e,t,a,s,o){var d=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var g=s.tag;if(g===3||g===4){var b=s.stateNode.containerInfo;if(b===o)break;if(g===4)for(g=s.return;g!==null;){var E=g.tag;if((E===3||E===4)&&g.stateNode.containerInfo===o)return;g=g.return}for(;b!==null;){if(g=Ln(b),g===null)return;if(E=g.tag,E===5||E===6||E===26||E===27){s=d=g;continue e}b=b.parentNode}}s=s.return}jd(function(){var D=d,$=to(a),Y=[];e:{var M=Fd.get(e);if(M!==void 0){var L=or,ne=e;switch(e){case"keypress":if(rr(a)===0)break e;case"keydown":case"keyup":L=ry;break;case"focusin":ne="focus",L=lo;break;case"focusout":ne="blur",L=lo;break;case"beforeblur":case"afterblur":L=lo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Od;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=Xp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=uy;break;case Xd:case Jd:case Id:L=Zp;break;case Zd:L=dy;break;case"scroll":case"scrollend":L=Pp;break;case"wheel":L=fy;break;case"copy":case"cut":case"paste":L=Wp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Ad;break;case"toggle":case"beforetoggle":L=vy}var de=(t&4)!==0,ze=!de&&(e==="scroll"||e==="scrollend"),C=de?M!==null?M+"Capture":null:M;de=[];for(var A=D,U;A!==null;){var V=A;if(U=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||U===null||C===null||(V=Ki(A,C),V!=null&&de.push(js(A,V,U))),ze)break;A=A.return}0<de.length&&(M=new L(M,ne,null,a,$),Y.push({event:M,listeners:de}))}}if((t&7)===0){e:{if(M=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",M&&a!==eo&&(ne=a.relatedTarget||a.fromElement)&&(Ln(ne)||ne[qn]))break e;if((L||M)&&(M=$.window===$?$:(M=$.ownerDocument)?M.defaultView||M.parentWindow:window,L?(ne=a.relatedTarget||a.toElement,L=D,ne=ne?Ln(ne):null,ne!==null&&(ze=c(ne),de=ne.tag,ne!==ze||de!==5&&de!==27&&de!==6)&&(ne=null)):(L=null,ne=D),L!==ne)){if(de=Od,V="onMouseLeave",C="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(de=Ad,V="onPointerLeave",C="onPointerEnter",A="pointer"),ze=L==null?M:Yi(L),U=ne==null?M:Yi(ne),M=new de(V,A+"leave",L,a,$),M.target=ze,M.relatedTarget=U,V=null,Ln($)===D&&(de=new de(C,A+"enter",ne,a,$),de.target=U,de.relatedTarget=ze,V=de),ze=V,L&&ne)t:{for(de=m0,C=L,A=ne,U=0,V=C;V;V=de(V))U++;V=0;for(var ue=A;ue;ue=de(ue))V++;for(;0<U-V;)C=de(C),U--;for(;0<V-U;)A=de(A),V--;for(;U--;){if(C===A||A!==null&&C===A.alternate){de=C;break t}C=de(C),A=de(A)}de=null}else de=null;L!==null&&wm(Y,M,L,de,!1),ne!==null&&ze!==null&&wm(Y,ze,ne,de,!0)}}e:{if(M=D?Yi(D):window,L=M.nodeName&&M.nodeName.toLowerCase(),L==="select"||L==="input"&&M.type==="file")var Oe=Bd;else if(zd(M))if(qd)Oe=xy;else{Oe=Ey;var re=Sy}else L=M.nodeName,!L||L.toLowerCase()!=="input"||M.type!=="checkbox"&&M.type!=="radio"?D&&Wl(D.elementType)&&(Oe=Bd):Oe=jy;if(Oe&&(Oe=Oe(e,D))){Md(Y,Oe,a,$);break e}re&&re(e,M,D),e==="focusout"&&D&&M.type==="number"&&D.memoizedProps.value!=null&&Fl(M,"number",M.value)}switch(re=D?Yi(D):window,e){case"focusin":(zd(re)||re.contentEditable==="true")&&(Xn=re,mo=D,Wi=null);break;case"focusout":Wi=mo=Xn=null;break;case"mousedown":vo=!0;break;case"contextmenu":case"mouseup":case"dragend":vo=!1,Pd(Y,a,$);break;case"selectionchange":if(Oy)break;case"keydown":case"keyup":Pd(Y,a,$)}var ye;if(uo)e:{switch(e){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Qn?Ud(e,a)&&(Ee="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(Cd&&a.locale!=="ko"&&(Qn||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Qn&&(ye=xd()):(Da=$,io="value"in Da?Da.value:Da.textContent,Qn=!0)),re=Fr(D,Ee),0<re.length&&(Ee=new Nd(Ee,e,null,a,$),Y.push({event:Ee,listeners:re}),ye?Ee.data=ye:(ye=Dd(a),ye!==null&&(Ee.data=ye)))),(ye=py?yy(e,a):by(e,a))&&(Ee=Fr(D,"onBeforeInput"),0<Ee.length&&(re=new Nd("onBeforeInput","beforeinput",null,a,$),Y.push({event:re,listeners:Ee}),re.data=ye)),c0(Y,e,D,a,$)}bm(Y,t)})}function js(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Fr(e,t){for(var a=t+"Capture",s=[];e!==null;){var o=e,d=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||d===null||(o=Ki(e,a),o!=null&&s.unshift(js(e,o,d)),o=Ki(e,t),o!=null&&s.push(js(e,o,d))),e.tag===3)return s;e=e.return}return[]}function m0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function wm(e,t,a,s,o){for(var d=t._reactName,g=[];a!==null&&a!==s;){var b=a,E=b.alternate,D=b.stateNode;if(b=b.tag,E!==null&&E===s)break;b!==5&&b!==26&&b!==27||D===null||(E=D,o?(D=Ki(a,d),D!=null&&g.unshift(js(a,D,E))):o||(D=Ki(a,d),D!=null&&g.push(js(a,D,E)))),a=a.return}g.length!==0&&e.push({event:t,listeners:g})}var v0=/\r\n?/g,g0=/\u0000|\uFFFD/g;function Sm(e){return(typeof e=="string"?e:""+e).replace(v0,`
`).replace(g0,"")}function Em(e,t){return t=Sm(t),Sm(e)===t}function De(e,t,a,s,o,d){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Yn(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Yn(e,""+s);break;case"className":ar(e,"class",s);break;case"tabIndex":ar(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":ar(e,a,s);break;case"style":Sd(e,s,d);break;case"data":if(t!=="object"){ar(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=ir(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(t!=="input"&&De(e,t,"name",o.name,o,null),De(e,t,"formEncType",o.formEncType,o,null),De(e,t,"formMethod",o.formMethod,o,null),De(e,t,"formTarget",o.formTarget,o,null)):(De(e,t,"encType",o.encType,o,null),De(e,t,"method",o.method,o,null),De(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=ir(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=da);break;case"onScroll":s!=null&&we("scroll",e);break;case"onScrollEnd":s!=null&&we("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=ir(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":we("beforetoggle",e),we("toggle",e),tr(e,"popover",s);break;case"xlinkActuate":ca(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":ca(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":ca(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":ca(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":ca(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":ca(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":ca(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":ca(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":ca(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":tr(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Yp.get(a)||a,tr(e,a,s))}}function $u(e,t,a,s,o,d){switch(a){case"style":Sd(e,s,d);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof s=="string"?Yn(e,s):(typeof s=="number"||typeof s=="bigint")&&Yn(e,""+s);break;case"onScroll":s!=null&&we("scroll",e);break;case"onScrollEnd":s!=null&&we("scrollend",e);break;case"onClick":s!=null&&(e.onclick=da);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fd.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),d=e[pt]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(t,d,o),typeof s=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,o);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):tr(e,a,s)}}}function dt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",e),we("load",e);var s=!1,o=!1,d;for(d in a)if(a.hasOwnProperty(d)){var g=a[d];if(g!=null)switch(d){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:De(e,t,d,g,a,null)}}o&&De(e,t,"srcSet",a.srcSet,a,null),s&&De(e,t,"src",a.src,a,null);return;case"input":we("invalid",e);var b=d=g=o=null,E=null,D=null;for(s in a)if(a.hasOwnProperty(s)){var $=a[s];if($!=null)switch(s){case"name":o=$;break;case"type":g=$;break;case"checked":E=$;break;case"defaultChecked":D=$;break;case"value":d=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(l(137,t));break;default:De(e,t,s,$,a,null)}}yd(e,d,b,E,D,g,o,!1);return;case"select":we("invalid",e),s=g=d=null;for(o in a)if(a.hasOwnProperty(o)&&(b=a[o],b!=null))switch(o){case"value":d=b;break;case"defaultValue":g=b;break;case"multiple":s=b;default:De(e,t,o,b,a,null)}t=d,a=g,e.multiple=!!s,t!=null?Gn(e,!!s,t,!1):a!=null&&Gn(e,!!s,a,!0);return;case"textarea":we("invalid",e),d=o=s=null;for(g in a)if(a.hasOwnProperty(g)&&(b=a[g],b!=null))switch(g){case"value":s=b;break;case"defaultValue":o=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(l(91));break;default:De(e,t,g,b,a,null)}_d(e,s,o,d);return;case"option":for(E in a)if(a.hasOwnProperty(E)&&(s=a[E],s!=null))switch(E){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:De(e,t,E,s,a,null)}return;case"dialog":we("beforetoggle",e),we("toggle",e),we("cancel",e),we("close",e);break;case"iframe":case"object":we("load",e);break;case"video":case"audio":for(s=0;s<Es.length;s++)we(Es[s],e);break;case"image":we("error",e),we("load",e);break;case"details":we("toggle",e);break;case"embed":case"source":case"link":we("error",e),we("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in a)if(a.hasOwnProperty(D)&&(s=a[D],s!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:De(e,t,D,s,a,null)}return;default:if(Wl(t)){for($ in a)a.hasOwnProperty($)&&(s=a[$],s!==void 0&&$u(e,t,$,s,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(s=a[b],s!=null&&De(e,t,b,s,a,null))}function p0(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,d=null,g=null,b=null,E=null,D=null,$=null;for(L in a){var Y=a[L];if(a.hasOwnProperty(L)&&Y!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":E=Y;default:s.hasOwnProperty(L)||De(e,t,L,null,s,Y)}}for(var M in s){var L=s[M];if(Y=a[M],s.hasOwnProperty(M)&&(L!=null||Y!=null))switch(M){case"type":d=L;break;case"name":o=L;break;case"checked":D=L;break;case"defaultChecked":$=L;break;case"value":g=L;break;case"defaultValue":b=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(l(137,t));break;default:L!==Y&&De(e,t,M,L,s,Y)}}Zl(e,g,b,E,D,$,d,o);return;case"select":L=g=b=M=null;for(d in a)if(E=a[d],a.hasOwnProperty(d)&&E!=null)switch(d){case"value":break;case"multiple":L=E;default:s.hasOwnProperty(d)||De(e,t,d,null,s,E)}for(o in s)if(d=s[o],E=a[o],s.hasOwnProperty(o)&&(d!=null||E!=null))switch(o){case"value":M=d;break;case"defaultValue":b=d;break;case"multiple":g=d;default:d!==E&&De(e,t,o,d,s,E)}t=b,a=g,s=L,M!=null?Gn(e,!!a,M,!1):!!s!=!!a&&(t!=null?Gn(e,!!a,t,!0):Gn(e,!!a,a?[]:"",!1));return;case"textarea":L=M=null;for(b in a)if(o=a[b],a.hasOwnProperty(b)&&o!=null&&!s.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:De(e,t,b,null,s,o)}for(g in s)if(o=s[g],d=a[g],s.hasOwnProperty(g)&&(o!=null||d!=null))switch(g){case"value":M=o;break;case"defaultValue":L=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==d&&De(e,t,g,o,s,d)}bd(e,M,L);return;case"option":for(var ne in a)if(M=a[ne],a.hasOwnProperty(ne)&&M!=null&&!s.hasOwnProperty(ne))switch(ne){case"selected":e.selected=!1;break;default:De(e,t,ne,null,s,M)}for(E in s)if(M=s[E],L=a[E],s.hasOwnProperty(E)&&M!==L&&(M!=null||L!=null))switch(E){case"selected":e.selected=M&&typeof M!="function"&&typeof M!="symbol";break;default:De(e,t,E,M,s,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in a)M=a[de],a.hasOwnProperty(de)&&M!=null&&!s.hasOwnProperty(de)&&De(e,t,de,null,s,M);for(D in s)if(M=s[D],L=a[D],s.hasOwnProperty(D)&&M!==L&&(M!=null||L!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(l(137,t));break;default:De(e,t,D,M,s,L)}return;default:if(Wl(t)){for(var ze in a)M=a[ze],a.hasOwnProperty(ze)&&M!==void 0&&!s.hasOwnProperty(ze)&&$u(e,t,ze,void 0,s,M);for($ in s)M=s[$],L=a[$],!s.hasOwnProperty($)||M===L||M===void 0&&L===void 0||$u(e,t,$,M,s,L);return}}for(var C in a)M=a[C],a.hasOwnProperty(C)&&M!=null&&!s.hasOwnProperty(C)&&De(e,t,C,null,s,M);for(Y in s)M=s[Y],L=a[Y],!s.hasOwnProperty(Y)||M===L||M==null&&L==null||De(e,t,Y,M,s,L)}function jm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function y0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var o=a[s],d=o.transferSize,g=o.initiatorType,b=o.duration;if(d&&b&&jm(g)){for(g=0,b=o.responseEnd,s+=1;s<a.length;s++){var E=a[s],D=E.startTime;if(D>b)break;var $=E.transferSize,Y=E.initiatorType;$&&jm(Y)&&(E=E.responseEnd,g+=$*(E<b?1:(b-D)/(E-D)))}if(--s,t+=8*(d+g)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Hu=null,Vu=null;function Wr(e){return e.nodeType===9?e:e.ownerDocument}function xm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Gu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yu=null;function b0(){var e=window.event;return e&&e.type==="popstate"?e===Yu?!1:(Yu=e,!0):(Yu=null,!1)}var Om=typeof setTimeout=="function"?setTimeout:void 0,_0=typeof clearTimeout=="function"?clearTimeout:void 0,Nm=typeof Promise=="function"?Promise:void 0,w0=typeof queueMicrotask=="function"?queueMicrotask:typeof Nm<"u"?function(e){return Nm.resolve(null).then(e).catch(S0)}:Om;function S0(e){setTimeout(function(){throw e})}function Za(e){return e==="head"}function Am(e,t){var a=t,s=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(o),wi(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")xs(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,xs(a);for(var d=a.firstChild;d;){var g=d.nextSibling,b=d.nodeName;d[Gi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=g}}else a==="body"&&xs(e.ownerDocument.body);a=o}while(a);wi(t)}function Cm(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function Ku(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ku(a),Jl(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function E0(e,t,a,s){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Gi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Kt(e.nextSibling),e===null)break}return null}function j0(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Kt(e.nextSibling),e===null))return null;return e}function Rm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Kt(e.nextSibling),e===null))return null;return e}function Pu(e){return e.data==="$?"||e.data==="$~"}function Qu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function x0(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Xu=null;function km(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Kt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Um(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Dm(e,t,a){switch(t=Wr(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function xs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Jl(e)}var Pt=new Map,zm=new Set;function el(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Oa=P.d;P.d={f:T0,r:O0,D:N0,C:A0,L:C0,m:R0,X:U0,S:k0,M:D0};function T0(){var e=Oa.f(),t=Kr();return e||t}function O0(e){var t=$n(e);t!==null&&t.tag===5&&t.type==="form"?Zh(t):Oa.r(e)}var yi=typeof document>"u"?null:document;function Mm(e,t,a){var s=yi;if(s&&typeof t=="string"&&t){var o=qt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),zm.has(o)||(zm.add(o),e={rel:e,crossOrigin:a,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),dt(t,"link",e),st(t),s.head.appendChild(t)))}}function N0(e){Oa.D(e),Mm("dns-prefetch",e,null)}function A0(e,t){Oa.C(e,t),Mm("preconnect",e,t)}function C0(e,t,a){Oa.L(e,t,a);var s=yi;if(s&&e&&t){var o='link[rel="preload"][as="'+qt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+qt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+qt(a.imageSizes)+'"]')):o+='[href="'+qt(e)+'"]';var d=o;switch(t){case"style":d=bi(e);break;case"script":d=_i(e)}Pt.has(d)||(e=_({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Pt.set(d,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(Ts(d))||t==="script"&&s.querySelector(Os(d))||(t=s.createElement("link"),dt(t,"link",e),st(t),s.head.appendChild(t)))}}function R0(e,t){Oa.m(e,t);var a=yi;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+qt(s)+'"][href="'+qt(e)+'"]',d=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=_i(e)}if(!Pt.has(d)&&(e=_({rel:"modulepreload",href:e},t),Pt.set(d,e),a.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Os(d)))return}s=a.createElement("link"),dt(s,"link",e),st(s),a.head.appendChild(s)}}}function k0(e,t,a){Oa.S(e,t,a);var s=yi;if(s&&e){var o=Hn(s).hoistableStyles,d=bi(e);t=t||"default";var g=o.get(d);if(!g){var b={loading:0,preload:null};if(g=s.querySelector(Ts(d)))b.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Pt.get(d))&&Ju(e,a);var E=g=s.createElement("link");st(E),dt(E,"link",e),E._p=new Promise(function(D,$){E.onload=D,E.onerror=$}),E.addEventListener("load",function(){b.loading|=1}),E.addEventListener("error",function(){b.loading|=2}),b.loading|=4,tl(g,t,s)}g={type:"stylesheet",instance:g,count:1,state:b},o.set(d,g)}}}function U0(e,t){Oa.X(e,t);var a=yi;if(a&&e){var s=Hn(a).hoistableScripts,o=_i(e),d=s.get(o);d||(d=a.querySelector(Os(o)),d||(e=_({src:e,async:!0},t),(t=Pt.get(o))&&Iu(e,t),d=a.createElement("script"),st(d),dt(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(o,d))}}function D0(e,t){Oa.M(e,t);var a=yi;if(a&&e){var s=Hn(a).hoistableScripts,o=_i(e),d=s.get(o);d||(d=a.querySelector(Os(o)),d||(e=_({src:e,async:!0,type:"module"},t),(t=Pt.get(o))&&Iu(e,t),d=a.createElement("script"),st(d),dt(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(o,d))}}function Bm(e,t,a,s){var o=(o=ve.current)?el(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=bi(a.href),a=Hn(o).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=bi(a.href);var d=Hn(o).hoistableStyles,g=d.get(e);if(g||(o=o.ownerDocument||o,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,g),(d=o.querySelector(Ts(e)))&&!d._p&&(g.instance=d,g.state.loading=5),Pt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pt.set(e,a),d||z0(o,e,a,g.state))),t&&s===null)throw Error(l(528,""));return g}if(t&&s!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=_i(a),a=Hn(o).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function bi(e){return'href="'+qt(e)+'"'}function Ts(e){return'link[rel="stylesheet"]['+e+"]"}function qm(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function z0(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),dt(t,"link",a),st(t),e.head.appendChild(t))}function _i(e){return'[src="'+qt(e)+'"]'}function Os(e){return"script[async]"+e}function Lm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+qt(a.href)+'"]');if(s)return t.instance=s,st(s),s;var o=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),st(s),dt(s,"style",o),tl(s,a.precedence,e),t.instance=s;case"stylesheet":o=bi(a.href);var d=e.querySelector(Ts(o));if(d)return t.state.loading|=4,t.instance=d,st(d),d;s=qm(a),(o=Pt.get(o))&&Ju(s,o),d=(e.ownerDocument||e).createElement("link"),st(d);var g=d;return g._p=new Promise(function(b,E){g.onload=b,g.onerror=E}),dt(d,"link",s),t.state.loading|=4,tl(d,a.precedence,e),t.instance=d;case"script":return d=_i(a.src),(o=e.querySelector(Os(d)))?(t.instance=o,st(o),o):(s=a,(o=Pt.get(d))&&(s=_({},a),Iu(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),st(o),dt(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,tl(s,a.precedence,e));return t.instance}function tl(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,d=o,g=0;g<s.length;g++){var b=s[g];if(b.dataset.precedence===t)d=b;else if(d!==o)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Ju(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Iu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var al=null;function $m(e,t,a){if(al===null){var s=new Map,o=al=new Map;o.set(a,s)}else o=al,s=o.get(a),s||(s=new Map,o.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var d=a[o];if(!(d[Gi]||d[lt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(t)||"";g=e+g;var b=s.get(g);b?b.push(d):s.set(g,[d])}}return s}function Hm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function M0(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Vm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function B0(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=bi(s.href),d=t.querySelector(Ts(o));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=nl.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=d,st(d);return}d=t.ownerDocument||t,s=qm(s),(o=Pt.get(o))&&Ju(s,o),d=d.createElement("link"),st(d);var g=d;g._p=new Promise(function(b,E){g.onload=b,g.onerror=E}),dt(d,"link",s),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=nl.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Zu=0;function q0(e,t){return e.stylesheets&&e.count===0&&sl(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&sl(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&Zu===0&&(Zu=62500*y0());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&sl(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Zu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(o)}}:null}function nl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var il=null;function sl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,il=new Map,t.forEach(L0,e),il=null,nl.call(e))}function L0(e,t){if(!(t.state.loading&4)){var a=il.get(e);if(a)var s=a.get(null);else{a=new Map,il.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<o.length;d++){var g=o[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),s=g)}s&&a.set(null,s)}o=t.instance,g=o.getAttribute("data-precedence"),d=a.get(g)||s,d===s&&a.set(null,o),a.set(g,o),this.count++,s=nl.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),d?d.parentNode.insertBefore(o,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Ns={$$typeof:z,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function $0(e,t,a,s,o,d,g,b,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kl(0),this.hiddenUpdates=Kl(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Gm(e,t,a,s,o,d,g,b,E,D,$,Y){return e=new $0(e,t,a,g,E,D,$,Y,b),t=1,d===!0&&(t|=24),d=At(3,null,null,t),e.current=d,d.stateNode=e,t=Co(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:s,isDehydrated:a,cache:t},Do(d),e}function Ym(e){return e?(e=Zn,e):Zn}function Km(e,t,a,s,o,d){o=Ym(o),s.context===null?s.context=o:s.pendingContext=o,s=$a(t),s.payload={element:a},d=d===void 0?null:d,d!==null&&(s.callback=d),a=Ha(e,s,t),a!==null&&(Et(a,e,t),rs(a,e,t))}function Pm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Fu(e,t){Pm(e,t),(e=e.alternate)&&Pm(e,t)}function Qm(e){if(e.tag===13||e.tag===31){var t=fn(e,67108864);t!==null&&Et(t,e,67108864),Fu(e,67108864)}}function Xm(e){if(e.tag===13||e.tag===31){var t=Dt();t=Pl(t);var a=fn(e,t);a!==null&&Et(a,e,t),Fu(e,t)}}var rl=!0;function H0(e,t,a,s){var o=R.T;R.T=null;var d=P.p;try{P.p=2,Wu(e,t,a,s)}finally{P.p=d,R.T=o}}function V0(e,t,a,s){var o=R.T;R.T=null;var d=P.p;try{P.p=8,Wu(e,t,a,s)}finally{P.p=d,R.T=o}}function Wu(e,t,a,s){if(rl){var o=ec(s);if(o===null)Lu(e,t,s,ll,a),Im(e,s);else if(Y0(o,e,t,a,s))s.stopPropagation();else if(Im(e,s),t&4&&-1<G0.indexOf(e)){for(;o!==null;){var d=$n(o);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=on(d.pendingLanes);if(g!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;g;){var E=1<<31-Ot(g);b.entanglements[1]|=E,g&=~E}sa(d),(Ae&6)===0&&(Gr=xt()+500,Ss(0))}}break;case 31:case 13:b=fn(d,2),b!==null&&Et(b,d,2),Kr(),Fu(d,2)}if(d=ec(s),d===null&&Lu(e,t,s,ll,a),d===o)break;o=d}o!==null&&s.stopPropagation()}else Lu(e,t,s,null,a)}}function ec(e){return e=to(e),tc(e)}var ll=null;function tc(e){if(ll=null,e=Ln(e),e!==null){var t=c(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===31){if(e=m(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ll=e,null}function Jm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Np()){case ad:return 2;case nd:return 8;case Is:case Ap:return 32;case id:return 268435456;default:return 32}default:return 32}}var ac=!1,Fa=null,Wa=null,en=null,As=new Map,Cs=new Map,tn=[],G0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Im(e,t){switch(e){case"focusin":case"focusout":Fa=null;break;case"dragenter":case"dragleave":Wa=null;break;case"mouseover":case"mouseout":en=null;break;case"pointerover":case"pointerout":As.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cs.delete(t.pointerId)}}function Rs(e,t,a,s,o,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:d,targetContainers:[o]},t!==null&&(t=$n(t),t!==null&&Qm(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Y0(e,t,a,s,o){switch(t){case"focusin":return Fa=Rs(Fa,e,t,a,s,o),!0;case"dragenter":return Wa=Rs(Wa,e,t,a,s,o),!0;case"mouseover":return en=Rs(en,e,t,a,s,o),!0;case"pointerover":var d=o.pointerId;return As.set(d,Rs(As.get(d)||null,e,t,a,s,o)),!0;case"gotpointercapture":return d=o.pointerId,Cs.set(d,Rs(Cs.get(d)||null,e,t,a,s,o)),!0}return!1}function Zm(e){var t=Ln(e.target);if(t!==null){var a=c(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,cd(e.priority,function(){Xm(a)});return}}else if(t===31){if(t=m(a),t!==null){e.blockedOn=t,cd(e.priority,function(){Xm(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ol(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=ec(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);eo=s,a.target.dispatchEvent(s),eo=null}else return t=$n(a),t!==null&&Qm(t),e.blockedOn=a,!1;t.shift()}return!0}function Fm(e,t,a){ol(e)&&a.delete(t)}function K0(){ac=!1,Fa!==null&&ol(Fa)&&(Fa=null),Wa!==null&&ol(Wa)&&(Wa=null),en!==null&&ol(en)&&(en=null),As.forEach(Fm),Cs.forEach(Fm)}function ul(e,t){e.blockedOn===t&&(e.blockedOn=null,ac||(ac=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,K0)))}var cl=null;function Wm(e){cl!==e&&(cl=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){cl===e&&(cl=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(tc(s||a)===null)continue;break}var d=$n(a);d!==null&&(e.splice(t,3),t-=3,eu(d,{pending:!0,data:o,method:a.method,action:s},s,o))}}))}function wi(e){function t(E){return ul(E,e)}Fa!==null&&ul(Fa,e),Wa!==null&&ul(Wa,e),en!==null&&ul(en,e),As.forEach(t),Cs.forEach(t);for(var a=0;a<tn.length;a++){var s=tn[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<tn.length&&(a=tn[0],a.blockedOn===null);)Zm(a),a.blockedOn===null&&tn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var o=a[s],d=a[s+1],g=o[pt]||null;if(typeof d=="function")g||Wm(a);else if(g){var b=null;if(d&&d.hasAttribute("formAction")){if(o=d,g=d[pt]||null)b=g.formAction;else if(tc(o)!==null)continue}else b=g.action;typeof b=="function"?a[s+1]=b:(a.splice(s,3),s-=3),Wm(a)}}}function ev(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(g){return o=g})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function nc(e){this._internalRoot=e}dl.prototype.render=nc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,s=Dt();Km(a,s,e,t,null,null)},dl.prototype.unmount=nc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Km(e.current,2,null,e,null,null),Kr(),t[qn]=null}};function dl(e){this._internalRoot=e}dl.prototype.unstable_scheduleHydration=function(e){if(e){var t=ud();e={blockedOn:null,target:e,priority:t};for(var a=0;a<tn.length&&t!==0&&t<tn[a].priority;a++);tn.splice(a,0,e),a===0&&Zm(e)}};var tv=n.version;if(tv!=="19.2.1")throw Error(l(527,tv,"19.2.1"));P.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var P0={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hl.isDisabled&&hl.supportsFiber)try{$i=hl.inject(P0),Tt=hl}catch{}}return Us.createRoot=function(e,t){if(!u(e))throw Error(l(299));var a=!1,s="",o=of,d=uf,g=cf;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=Gm(e,1,!1,null,null,a,s,null,o,d,g,ev),e[qn]=t.current,qu(e),new nc(t)},Us.hydrateRoot=function(e,t,a){if(!u(e))throw Error(l(299));var s=!1,o="",d=of,g=uf,b=cf,E=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(E=a.formState)),t=Gm(e,1,!0,t,a??null,s,o,E,d,g,b,ev),t.context=Ym(null),a=t.current,s=Dt(),s=Pl(s),o=$a(s),o.callback=null,Ha(a,o,s),a=s,t.current.lanes=a,Vi(t,a),sa(t),e[qn]=t.current,qu(e),new dl(t)},Us.version="19.2.1",Us}var dv;function sb(){if(dv)return rc.exports;dv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),rc.exports=ib(),rc.exports}var rb=sb();var hv="popstate";function lb(r={}){function n(l,u){let{pathname:c,search:h,hash:m}=l.location;return _c("",{pathname:c,search:h,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(l,u){return typeof u=="string"?u:Vs(u)}return ub(n,i,null,r)}function Ve(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function Qt(r,n){if(!r){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function ob(){return Math.random().toString(36).substring(2,10)}function fv(r,n){return{usr:r.state,key:r.key,idx:n}}function _c(r,n,i=null,l){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof n=="string"?Di(n):n,state:i,key:n&&n.key||l||ob()}}function Vs({pathname:r="/",search:n="",hash:i=""}){return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Di(r){let n={};if(r){let i=r.indexOf("#");i>=0&&(n.hash=r.substring(i),r=r.substring(0,i));let l=r.indexOf("?");l>=0&&(n.search=r.substring(l),r=r.substring(0,l)),r&&(n.pathname=r)}return n}function ub(r,n,i,l={}){let{window:u=document.defaultView,v5Compat:c=!1}=l,h=u.history,m="POP",v=null,p=y();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function y(){return(h.state||{idx:null}).idx}function _(){m="POP";let j=y(),k=j==null?null:j-p;p=j,v&&v({action:m,location:N.location,delta:k})}function w(j,k){m="PUSH";let B=_c(N.location,j,k);p=y()+1;let z=fv(B,p),Q=N.createHref(B);try{h.pushState(z,"",Q)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;u.location.assign(Q)}c&&v&&v({action:m,location:N.location,delta:1})}function S(j,k){m="REPLACE";let B=_c(N.location,j,k);p=y();let z=fv(B,p),Q=N.createHref(B);h.replaceState(z,"",Q),c&&v&&v({action:m,location:N.location,delta:0})}function x(j){return cb(j)}let N={get action(){return m},get location(){return r(u,h)},listen(j){if(v)throw new Error("A history only accepts one active listener");return u.addEventListener(hv,_),v=j,()=>{u.removeEventListener(hv,_),v=null}},createHref(j){return n(u,j)},createURL:x,encodeLocation(j){let k=x(j);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:w,replace:S,go(j){return h.go(j)}};return N}function cb(r,n=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Ve(i,"No window.location.(origin|href) available to create URL");let l=typeof r=="string"?r:Vs(r);return l=l.replace(/ $/,"%20"),!n&&l.startsWith("//")&&(l=i+l),new URL(l,i)}function Xv(r,n,i="/"){return db(r,n,i,!1)}function db(r,n,i,l){let u=typeof n=="string"?Di(n):n,c=Aa(u.pathname||"/",i);if(c==null)return null;let h=Jv(r);hb(h);let m=null;for(let v=0;m==null&&v<h.length;++v){let p=Eb(c);m=wb(h[v],p,l)}return m}function Jv(r,n=[],i=[],l="",u=!1){let c=(h,m,v=u,p)=>{let y={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(l)&&v)return;Ve(y.relativePath.startsWith(l),`Absolute route path "${y.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(l.length)}let _=Na([l,y.relativePath]),w=i.concat(y);h.children&&h.children.length>0&&(Ve(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Jv(h.children,n,w,_,v)),!(h.path==null&&!h.index)&&n.push({path:_,score:bb(_,h.index),routesMeta:w})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))c(h,m);else for(let v of Iv(h.path))c(h,m,!0,v)}),n}function Iv(r){let n=r.split("/");if(n.length===0)return[];let[i,...l]=n,u=i.endsWith("?"),c=i.replace(/\?$/,"");if(l.length===0)return u?[c,""]:[c];let h=Iv(l.join("/")),m=[];return m.push(...h.map(v=>v===""?c:[c,v].join("/"))),u&&m.push(...h),m.map(v=>r.startsWith("/")&&v===""?"/":v)}function hb(r){r.sort((n,i)=>n.score!==i.score?i.score-n.score:_b(n.routesMeta.map(l=>l.childrenIndex),i.routesMeta.map(l=>l.childrenIndex)))}var fb=/^:[\w-]+$/,mb=3,vb=2,gb=1,pb=10,yb=-2,mv=r=>r==="*";function bb(r,n){let i=r.split("/"),l=i.length;return i.some(mv)&&(l+=yb),n&&(l+=vb),i.filter(u=>!mv(u)).reduce((u,c)=>u+(fb.test(c)?mb:c===""?gb:pb),l)}function _b(r,n){return r.length===n.length&&r.slice(0,-1).every((l,u)=>l===n[u])?r[r.length-1]-n[n.length-1]:0}function wb(r,n,i=!1){let{routesMeta:l}=r,u={},c="/",h=[];for(let m=0;m<l.length;++m){let v=l[m],p=m===l.length-1,y=c==="/"?n:n.slice(c.length)||"/",_=Tl({path:v.relativePath,caseSensitive:v.caseSensitive,end:p},y),w=v.route;if(!_&&p&&i&&!l[l.length-1].route.index&&(_=Tl({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},y)),!_)return null;Object.assign(u,_.params),h.push({params:u,pathname:Na([c,_.pathname]),pathnameBase:Nb(Na([c,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(c=Na([c,_.pathnameBase]))}return h}function Tl(r,n){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,l]=Sb(r.path,r.caseSensitive,r.end),u=n.match(i);if(!u)return null;let c=u[0],h=c.replace(/(.)\/+$/,"$1"),m=u.slice(1);return{params:l.reduce((p,{paramName:y,isOptional:_},w)=>{if(y==="*"){let x=m[w]||"";h=c.slice(0,c.length-x.length).replace(/(.)\/+$/,"$1")}const S=m[w];return _&&!S?p[y]=void 0:p[y]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:h,pattern:r}}function Sb(r,n=!1,i=!0){Qt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let l=[],u="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,v)=>(l.push({paramName:m,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(l.push({paramName:"*"}),u+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?u+="\\/*$":r!==""&&r!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,n?void 0:"i"),l]}function Eb(r){try{return r.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Qt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),r}}function Aa(r,n){if(n==="/")return r;if(!r.toLowerCase().startsWith(n.toLowerCase()))return null;let i=n.endsWith("/")?n.length-1:n.length,l=r.charAt(i);return l&&l!=="/"?null:r.slice(i)||"/"}var jb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xb=r=>jb.test(r);function Tb(r,n="/"){let{pathname:i,search:l="",hash:u=""}=typeof r=="string"?Di(r):r,c;if(i)if(xb(i))c=i;else{if(i.includes("//")){let h=i;i=i.replace(/\/\/+/g,"/"),Qt(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${i}`)}i.startsWith("/")?c=vv(i.substring(1),"/"):c=vv(i,n)}else c=n;return{pathname:c,search:Ab(l),hash:Cb(u)}}function vv(r,n){let i=n.replace(/\/+$/,"").split("/");return r.split("/").forEach(u=>{u===".."?i.length>1&&i.pop():u!=="."&&i.push(u)}),i.length>1?i.join("/"):"/"}function cc(r,n,i,l){return`Cannot include a '${r}' character in a manually specified \`to.${n}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ob(r){return r.filter((n,i)=>i===0||n.route.path&&n.route.path.length>0)}function Lc(r){let n=Ob(r);return n.map((i,l)=>l===n.length-1?i.pathname:i.pathnameBase)}function $c(r,n,i,l=!1){let u;typeof r=="string"?u=Di(r):(u={...r},Ve(!u.pathname||!u.pathname.includes("?"),cc("?","pathname","search",u)),Ve(!u.pathname||!u.pathname.includes("#"),cc("#","pathname","hash",u)),Ve(!u.search||!u.search.includes("#"),cc("#","search","hash",u)));let c=r===""||u.pathname==="",h=c?"/":u.pathname,m;if(h==null)m=i;else{let _=n.length-1;if(!l&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),_-=1;u.pathname=w.join("/")}m=_>=0?n[_]:"/"}let v=Tb(u,m),p=h&&h!=="/"&&h.endsWith("/"),y=(c||h===".")&&i.endsWith("/");return!v.pathname.endsWith("/")&&(p||y)&&(v.pathname+="/"),v}var Na=r=>r.join("/").replace(/\/\/+/g,"/"),Nb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Ab=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Cb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Rb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function kb(r){return r.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Zv=["POST","PUT","PATCH","DELETE"];new Set(Zv);var Ub=["GET",...Zv];new Set(Ub);var zi=T.createContext(null);zi.displayName="DataRouter";var zl=T.createContext(null);zl.displayName="DataRouterState";T.createContext(!1);var Fv=T.createContext({isTransitioning:!1});Fv.displayName="ViewTransition";var Db=T.createContext(new Map);Db.displayName="Fetchers";var zb=T.createContext(null);zb.displayName="Await";var Xt=T.createContext(null);Xt.displayName="Navigation";var Qs=T.createContext(null);Qs.displayName="Location";var oa=T.createContext({outlet:null,matches:[],isDataRoute:!1});oa.displayName="Route";var Hc=T.createContext(null);Hc.displayName="RouteError";function Mb(r,{relative:n}={}){Ve(Mi(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:l}=T.useContext(Xt),{hash:u,pathname:c,search:h}=Xs(r,{relative:n}),m=c;return i!=="/"&&(m=c==="/"?i:Na([i,c])),l.createHref({pathname:m,search:h,hash:u})}function Mi(){return T.useContext(Qs)!=null}function Ca(){return Ve(Mi(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Qs).location}var Wv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function eg(r){T.useContext(Xt).static||T.useLayoutEffect(r)}function Ra(){let{isDataRoute:r}=T.useContext(oa);return r?Jb():Bb()}function Bb(){Ve(Mi(),"useNavigate() may be used only in the context of a <Router> component.");let r=T.useContext(zi),{basename:n,navigator:i}=T.useContext(Xt),{matches:l}=T.useContext(oa),{pathname:u}=Ca(),c=JSON.stringify(Lc(l)),h=T.useRef(!1);return eg(()=>{h.current=!0}),T.useCallback((v,p={})=>{if(Qt(h.current,Wv),!h.current)return;if(typeof v=="number"){i.go(v);return}let y=$c(v,JSON.parse(c),u,p.relative==="path");r==null&&n!=="/"&&(y.pathname=y.pathname==="/"?n:Na([n,y.pathname])),(p.replace?i.replace:i.push)(y,p.state,p)},[n,i,c,u,r])}T.createContext(null);function Xs(r,{relative:n}={}){let{matches:i}=T.useContext(oa),{pathname:l}=Ca(),u=JSON.stringify(Lc(i));return T.useMemo(()=>$c(r,JSON.parse(u),l,n==="path"),[r,u,l,n])}function qb(r,n){return tg(r,n)}function tg(r,n,i,l,u){Ve(Mi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=T.useContext(Xt),{matches:h}=T.useContext(oa),m=h[h.length-1],v=m?m.params:{},p=m?m.pathname:"/",y=m?m.pathnameBase:"/",_=m&&m.route;{let B=_&&_.path||"";ag(p,!_||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let w=Ca(),S;if(n){let B=typeof n=="string"?Di(n):n;Ve(y==="/"||B.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${B.pathname}" was given in the \`location\` prop.`),S=B}else S=w;let x=S.pathname||"/",N=x;if(y!=="/"){let B=y.replace(/^\//,"").split("/");N="/"+x.replace(/^\//,"").split("/").slice(B.length).join("/")}let j=Xv(r,{pathname:N});Qt(_||j!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Qt(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=Gb(j&&j.map(B=>Object.assign({},B,{params:Object.assign({},v,B.params),pathname:Na([y,c.encodeLocation?c.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?y:Na([y,c.encodeLocation?c.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),h,i,l,u);return n&&k?T.createElement(Qs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},k):k}function Lb(){let r=Xb(),n=Rb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,l="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:l},c={padding:"2px 4px",backgroundColor:l},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:c},"ErrorBoundary")," or"," ",T.createElement("code",{style:c},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},n),i?T.createElement("pre",{style:u},i):null,h)}var $b=T.createElement(Lb,null),Hb=class extends T.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){this.props.onError?this.props.onError(r,n):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?T.createElement(oa.Provider,{value:this.props.routeContext},T.createElement(Hc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Vb({routeContext:r,match:n,children:i}){let l=T.useContext(zi);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(oa.Provider,{value:r},i)}function Gb(r,n=[],i=null,l=null,u=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(n.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let c=r,h=i?.errors;if(h!=null){let y=c.findIndex(_=>_.route.id&&h?.[_.route.id]!==void 0);Ve(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let m=!1,v=-1;if(i)for(let y=0;y<c.length;y++){let _=c[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(v=y),_.route.id){let{loaderData:w,errors:S}=i,x=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!S||S[_.route.id]===void 0);if(_.route.lazy||x){m=!0,v>=0?c=c.slice(0,v+1):c=[c[0]];break}}}let p=i&&l?(y,_)=>{l(y,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:kb(i.matches),errorInfo:_})}:void 0;return c.reduceRight((y,_,w)=>{let S,x=!1,N=null,j=null;i&&(S=h&&_.route.id?h[_.route.id]:void 0,N=_.route.errorElement||$b,m&&(v<0&&w===0?(ag("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,j=null):v===w&&(x=!0,j=_.route.hydrateFallbackElement||null)));let k=n.concat(c.slice(0,w+1)),B=()=>{let z;return S?z=N:x?z=j:_.route.Component?z=T.createElement(_.route.Component,null):_.route.element?z=_.route.element:z=y,T.createElement(Vb,{match:_,routeContext:{outlet:y,matches:k,isDataRoute:i!=null},children:z})};return i&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?T.createElement(Hb,{location:i.location,revalidation:i.revalidation,component:N,error:S,children:B(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:p}):B()},null)}function Vc(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yb(r){let n=T.useContext(zi);return Ve(n,Vc(r)),n}function Kb(r){let n=T.useContext(zl);return Ve(n,Vc(r)),n}function Pb(r){let n=T.useContext(oa);return Ve(n,Vc(r)),n}function Gc(r){let n=Pb(r),i=n.matches[n.matches.length-1];return Ve(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function Qb(){return Gc("useRouteId")}function Xb(){let r=T.useContext(Hc),n=Kb("useRouteError"),i=Gc("useRouteError");return r!==void 0?r:n.errors?.[i]}function Jb(){let{router:r}=Yb("useNavigate"),n=Gc("useNavigate"),i=T.useRef(!1);return eg(()=>{i.current=!0}),T.useCallback(async(u,c={})=>{Qt(i.current,Wv),i.current&&(typeof u=="number"?await r.navigate(u):await r.navigate(u,{fromRouteId:n,...c}))},[r,n])}var gv={};function ag(r,n,i){!n&&!gv[r]&&(gv[r]=!0,Qt(!1,i))}T.memo(Ib);function Ib({routes:r,future:n,state:i,unstable_onError:l}){return tg(r,void 0,i,l,n)}function ng({to:r,replace:n,state:i,relative:l}){Ve(Mi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=T.useContext(Xt);Qt(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=T.useContext(oa),{pathname:h}=Ca(),m=Ra(),v=$c(r,Lc(c),h,l==="path"),p=JSON.stringify(v);return T.useEffect(()=>{m(JSON.parse(p),{replace:n,state:i,relative:l})},[m,p,l,n,i]),null}function nn(r){Ve(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Zb({basename:r="/",children:n=null,location:i,navigationType:l="POP",navigator:u,static:c=!1,unstable_useTransitions:h}){Ve(!Mi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),v=T.useMemo(()=>({basename:m,navigator:u,static:c,unstable_useTransitions:h,future:{}}),[m,u,c,h]);typeof i=="string"&&(i=Di(i));let{pathname:p="/",search:y="",hash:_="",state:w=null,key:S="default"}=i,x=T.useMemo(()=>{let N=Aa(p,m);return N==null?null:{location:{pathname:N,search:y,hash:_,state:w,key:S},navigationType:l}},[m,p,y,_,w,S,l]);return Qt(x!=null,`<Router basename="${m}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:T.createElement(Xt.Provider,{value:v},T.createElement(Qs.Provider,{children:n,value:x}))}function Fb({children:r,location:n}){return qb(wc(r),n)}function wc(r,n=[]){let i=[];return T.Children.forEach(r,(l,u)=>{if(!T.isValidElement(l))return;let c=[...n,u];if(l.type===T.Fragment){i.push.apply(i,wc(l.props.children,c));return}Ve(l.type===nn,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ve(!l.props.index||!l.props.children,"An index route cannot have child routes.");let h={id:l.props.id||c.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(h.children=wc(l.props.children,c)),i.push(h)}),i}var Sl="get",El="application/x-www-form-urlencoded";function Ml(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function Wb(r){return Ml(r)&&r.tagName.toLowerCase()==="button"}function e_(r){return Ml(r)&&r.tagName.toLowerCase()==="form"}function t_(r){return Ml(r)&&r.tagName.toLowerCase()==="input"}function a_(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function n_(r,n){return r.button===0&&(!n||n==="_self")&&!a_(r)}var fl=null;function i_(){if(fl===null)try{new FormData(document.createElement("form"),0),fl=!1}catch{fl=!0}return fl}var s_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dc(r){return r!=null&&!s_.has(r)?(Qt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${El}"`),null):r}function r_(r,n){let i,l,u,c,h;if(e_(r)){let m=r.getAttribute("action");l=m?Aa(m,n):null,i=r.getAttribute("method")||Sl,u=dc(r.getAttribute("enctype"))||El,c=new FormData(r)}else if(Wb(r)||t_(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=r.getAttribute("formaction")||m.getAttribute("action");if(l=v?Aa(v,n):null,i=r.getAttribute("formmethod")||m.getAttribute("method")||Sl,u=dc(r.getAttribute("formenctype"))||dc(m.getAttribute("enctype"))||El,c=new FormData(m,r),!i_()){let{name:p,type:y,value:_}=r;if(y==="image"){let w=p?`${p}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else p&&c.append(p,_)}}else{if(Ml(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Sl,l=null,u=El,h=r}return c&&u==="text/plain"&&(h=c,c=void 0),{action:l,method:i.toLowerCase(),encType:u,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Yc(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function l_(r,n,i){let l=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return l.pathname==="/"?l.pathname=`_root.${i}`:n&&Aa(l.pathname,n)==="/"?l.pathname=`${n.replace(/\/$/,"")}/_root.${i}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${i}`,l}async function o_(r,n){if(r.id in n)return n[r.id];try{let i=await import(r.module);return n[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function u_(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function c_(r,n,i){let l=await Promise.all(r.map(async u=>{let c=n.routes[u.route.id];if(c){let h=await o_(c,i);return h.links?h.links():[]}return[]}));return m_(l.flat(1).filter(u_).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function pv(r,n,i,l,u,c){let h=(v,p)=>i[p]?v.route.id!==i[p].route.id:!0,m=(v,p)=>i[p].pathname!==v.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==v.params["*"];return c==="assets"?n.filter((v,p)=>h(v,p)||m(v,p)):c==="data"?n.filter((v,p)=>{let y=l.routes[v.route.id];if(!y||!y.hasLoader)return!1;if(h(v,p)||m(v,p))return!0;if(v.route.shouldRevalidate){let _=v.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function d_(r,n,{includeHydrateFallback:i}={}){return h_(r.map(l=>{let u=n.routes[l.route.id];if(!u)return[];let c=[u.module];return u.clientActionModule&&(c=c.concat(u.clientActionModule)),u.clientLoaderModule&&(c=c.concat(u.clientLoaderModule)),i&&u.hydrateFallbackModule&&(c=c.concat(u.hydrateFallbackModule)),u.imports&&(c=c.concat(u.imports)),c}).flat(1))}function h_(r){return[...new Set(r)]}function f_(r){let n={},i=Object.keys(r).sort();for(let l of i)n[l]=r[l];return n}function m_(r,n){let i=new Set;return new Set(n),r.reduce((l,u)=>{let c=JSON.stringify(f_(u));return i.has(c)||(i.add(c),l.push({key:c,link:u})),l},[])}function ig(){let r=T.useContext(zi);return Yc(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function v_(){let r=T.useContext(zl);return Yc(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Kc=T.createContext(void 0);Kc.displayName="FrameworkContext";function sg(){let r=T.useContext(Kc);return Yc(r,"You must render this element inside a <HydratedRouter> element"),r}function g_(r,n){let i=T.useContext(Kc),[l,u]=T.useState(!1),[c,h]=T.useState(!1),{onFocus:m,onBlur:v,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=n,w=T.useRef(null);T.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let N=k=>{k.forEach(B=>{h(B.isIntersecting)})},j=new IntersectionObserver(N,{threshold:.5});return w.current&&j.observe(w.current),()=>{j.disconnect()}}},[r]),T.useEffect(()=>{if(l){let N=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(N)}}},[l]);let S=()=>{u(!0)},x=()=>{u(!1),h(!1)};return i?r!=="intent"?[c,w,{}]:[c,w,{onFocus:Ds(m,S),onBlur:Ds(v,x),onMouseEnter:Ds(p,S),onMouseLeave:Ds(y,x),onTouchStart:Ds(_,S)}]:[!1,w,{}]}function Ds(r,n){return i=>{r&&r(i),i.defaultPrevented||n(i)}}function p_({page:r,...n}){let{router:i}=ig(),l=T.useMemo(()=>Xv(i.routes,r,i.basename),[i.routes,r,i.basename]);return l?T.createElement(b_,{page:r,matches:l,...n}):null}function y_(r){let{manifest:n,routeModules:i}=sg(),[l,u]=T.useState([]);return T.useEffect(()=>{let c=!1;return c_(r,n,i).then(h=>{c||u(h)}),()=>{c=!0}},[r,n,i]),l}function b_({page:r,matches:n,...i}){let l=Ca(),{manifest:u,routeModules:c}=sg(),{basename:h}=ig(),{loaderData:m,matches:v}=v_(),p=T.useMemo(()=>pv(r,n,v,u,l,"data"),[r,n,v,u,l]),y=T.useMemo(()=>pv(r,n,v,u,l,"assets"),[r,n,v,u,l]),_=T.useMemo(()=>{if(r===l.pathname+l.search+l.hash)return[];let x=new Set,N=!1;if(n.forEach(k=>{let B=u.routes[k.route.id];!B||!B.hasLoader||(!p.some(z=>z.route.id===k.route.id)&&k.route.id in m&&c[k.route.id]?.shouldRevalidate||B.hasClientLoader?N=!0:x.add(k.route.id))}),x.size===0)return[];let j=l_(r,h,"data");return N&&x.size>0&&j.searchParams.set("_routes",n.filter(k=>x.has(k.route.id)).map(k=>k.route.id).join(",")),[j.pathname+j.search]},[h,m,l,u,p,n,r,c]),w=T.useMemo(()=>d_(y,u),[y,u]),S=y_(y);return T.createElement(T.Fragment,null,_.map(x=>T.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...i})),w.map(x=>T.createElement("link",{key:x,rel:"modulepreload",href:x,...i})),S.map(({key:x,link:N})=>T.createElement("link",{key:x,nonce:i.nonce,...N})))}function __(...r){return n=>{r.forEach(i=>{typeof i=="function"?i(n):i!=null&&(i.current=n)})}}var rg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rg&&(window.__reactRouterVersion="7.10.1")}catch{}function w_({basename:r,children:n,unstable_useTransitions:i,window:l}){let u=T.useRef();u.current==null&&(u.current=lb({window:l,v5Compat:!0}));let c=u.current,[h,m]=T.useState({action:c.action,location:c.location}),v=T.useCallback(p=>{i===!1?m(p):T.startTransition(()=>m(p))},[i]);return T.useLayoutEffect(()=>c.listen(v),[c,v]),T.createElement(Zb,{basename:r,children:n,location:h.location,navigationType:h.action,navigator:c,unstable_useTransitions:i===!0})}var lg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,og=T.forwardRef(function({onClick:n,discover:i="render",prefetch:l="none",relative:u,reloadDocument:c,replace:h,state:m,target:v,to:p,preventScrollReset:y,viewTransition:_,...w},S){let{basename:x,unstable_useTransitions:N}=T.useContext(Xt),j=typeof p=="string"&&lg.test(p),k,B=!1;if(typeof p=="string"&&j&&(k=p,rg))try{let K=new URL(window.location.href),ce=p.startsWith("//")?new URL(K.protocol+p):new URL(p),pe=Aa(ce.pathname,x);ce.origin===K.origin&&pe!=null?p=pe+ce.search+ce.hash:B=!0}catch{Qt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=Mb(p,{relative:u}),[Q,te,Z]=g_(l,w),J=j_(p,{replace:h,state:m,target:v,preventScrollReset:y,relative:u,viewTransition:_,unstable_useTransitions:N});function X(K){n&&n(K),K.defaultPrevented||J(K)}let q=T.createElement("a",{...w,...Z,href:k||z,onClick:B||c?n:X,ref:__(S,te),target:v,"data-discover":!j&&i==="render"?"true":void 0});return Q&&!j?T.createElement(T.Fragment,null,q,T.createElement(p_,{page:z})):q});og.displayName="Link";var qs=T.forwardRef(function({"aria-current":n="page",caseSensitive:i=!1,className:l="",end:u=!1,style:c,to:h,viewTransition:m,children:v,...p},y){let _=Xs(h,{relative:p.relative}),w=Ca(),S=T.useContext(zl),{navigator:x,basename:N}=T.useContext(Xt),j=S!=null&&A_(_)&&m===!0,k=x.encodeLocation?x.encodeLocation(_).pathname:_.pathname,B=w.pathname,z=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;i||(B=B.toLowerCase(),z=z?z.toLowerCase():null,k=k.toLowerCase()),z&&N&&(z=Aa(z,N)||z);const Q=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let te=B===k||!u&&B.startsWith(k)&&B.charAt(Q)==="/",Z=z!=null&&(z===k||!u&&z.startsWith(k)&&z.charAt(k.length)==="/"),J={isActive:te,isPending:Z,isTransitioning:j},X=te?n:void 0,q;typeof l=="function"?q=l(J):q=[l,te?"active":null,Z?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let K=typeof c=="function"?c(J):c;return T.createElement(og,{...p,"aria-current":X,className:q,ref:y,style:K,to:h,viewTransition:m},typeof v=="function"?v(J):v)});qs.displayName="NavLink";var S_=T.forwardRef(({discover:r="render",fetcherKey:n,navigate:i,reloadDocument:l,replace:u,state:c,method:h=Sl,action:m,onSubmit:v,relative:p,preventScrollReset:y,viewTransition:_,...w},S)=>{let{unstable_useTransitions:x}=T.useContext(Xt),N=O_(),j=N_(m,{relative:p}),k=h.toLowerCase()==="get"?"get":"post",B=typeof m=="string"&&lg.test(m),z=Q=>{if(v&&v(Q),Q.defaultPrevented)return;Q.preventDefault();let te=Q.nativeEvent.submitter,Z=te?.getAttribute("formmethod")||h,J=()=>N(te||Q.currentTarget,{fetcherKey:n,method:Z,navigate:i,replace:u,state:c,relative:p,preventScrollReset:y,viewTransition:_});x&&i!==!1?T.startTransition(()=>J()):J()};return T.createElement("form",{ref:S,method:k,action:j,onSubmit:l?v:z,...w,"data-discover":!B&&r==="render"?"true":void 0})});S_.displayName="Form";function E_(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ug(r){let n=T.useContext(zi);return Ve(n,E_(r)),n}function j_(r,{target:n,replace:i,state:l,preventScrollReset:u,relative:c,viewTransition:h,unstable_useTransitions:m}={}){let v=Ra(),p=Ca(),y=Xs(r,{relative:c});return T.useCallback(_=>{if(n_(_,n)){_.preventDefault();let w=i!==void 0?i:Vs(p)===Vs(y),S=()=>v(r,{replace:w,state:l,preventScrollReset:u,relative:c,viewTransition:h});m?T.startTransition(()=>S()):S()}},[p,v,y,i,l,n,r,u,c,h,m])}var x_=0,T_=()=>`__${String(++x_)}__`;function O_(){let{router:r}=ug("useSubmit"),{basename:n}=T.useContext(Xt),i=Qb(),l=r.fetch,u=r.navigate;return T.useCallback(async(c,h={})=>{let{action:m,method:v,encType:p,formData:y,body:_}=r_(c,n);if(h.navigate===!1){let w=h.fetcherKey||T_();await l(w,i,h.action||m,{preventScrollReset:h.preventScrollReset,formData:y,body:_,formMethod:h.method||v,formEncType:h.encType||p,flushSync:h.flushSync})}else await u(h.action||m,{preventScrollReset:h.preventScrollReset,formData:y,body:_,formMethod:h.method||v,formEncType:h.encType||p,replace:h.replace,state:h.state,fromRouteId:i,flushSync:h.flushSync,viewTransition:h.viewTransition})},[l,u,n,i])}function N_(r,{relative:n}={}){let{basename:i}=T.useContext(Xt),l=T.useContext(oa);Ve(l,"useFormAction must be used inside a RouteContext");let[u]=l.matches.slice(-1),c={...Xs(r||".",{relative:n})},h=Ca();if(r==null){c.search=h.search;let m=new URLSearchParams(c.search),v=m.getAll("index");if(v.some(y=>y==="")){m.delete("index"),v.filter(_=>_).forEach(_=>m.append("index",_));let y=m.toString();c.search=y?`?${y}`:""}}return(!r||r===".")&&u.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Na([i,c.pathname])),Vs(c)}function A_(r,{relative:n}={}){let i=T.useContext(Fv);Ve(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=ug("useViewTransitionState"),u=Xs(r,{relative:n});if(!i.isTransitioning)return!1;let c=Aa(i.currentLocation.pathname,l)||i.currentLocation.pathname,h=Aa(i.nextLocation.pathname,l)||i.nextLocation.pathname;return Tl(u.pathname,h)!=null||Tl(u.pathname,c)!=null}var Sc=function(r,n){return Sc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(i[u]=l[u])},Sc(r,n)};function cg(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Sc(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}var Ol=function(){return Ol=Object.assign||function(n){for(var i,l=1,u=arguments.length;l<u;l++){i=arguments[l];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(n[c]=i[c])}return n},Ol.apply(this,arguments)};function Bi(r,n){var i={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&n.indexOf(l)<0&&(i[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(r);u<l.length;u++)n.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(r,l[u])&&(i[l[u]]=r[l[u]]);return i}function dg(r,n,i,l){var u=arguments.length,c=u<3?n:l===null?l=Object.getOwnPropertyDescriptor(n,i):l,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(r,n,i,l);else for(var m=r.length-1;m>=0;m--)(h=r[m])&&(c=(u<3?h(c):u>3?h(n,i,c):h(n,i))||c);return u>3&&c&&Object.defineProperty(n,i,c),c}function hg(r,n){return function(i,l){n(i,l,r)}}function fg(r,n,i,l,u,c){function h(k){if(k!==void 0&&typeof k!="function")throw new TypeError("Function expected");return k}for(var m=l.kind,v=m==="getter"?"get":m==="setter"?"set":"value",p=!n&&r?l.static?r:r.prototype:null,y=n||(p?Object.getOwnPropertyDescriptor(p,l.name):{}),_,w=!1,S=i.length-1;S>=0;S--){var x={};for(var N in l)x[N]=N==="access"?{}:l[N];for(var N in l.access)x.access[N]=l.access[N];x.addInitializer=function(k){if(w)throw new TypeError("Cannot add initializers after decoration has completed");c.push(h(k||null))};var j=(0,i[S])(m==="accessor"?{get:y.get,set:y.set}:y[v],x);if(m==="accessor"){if(j===void 0)continue;if(j===null||typeof j!="object")throw new TypeError("Object expected");(_=h(j.get))&&(y.get=_),(_=h(j.set))&&(y.set=_),(_=h(j.init))&&u.unshift(_)}else(_=h(j))&&(m==="field"?u.unshift(_):y[v]=_)}p&&Object.defineProperty(p,l.name,y),w=!0}function mg(r,n,i){for(var l=arguments.length>2,u=0;u<n.length;u++)i=l?n[u].call(r,i):n[u].call(r);return l?i:void 0}function vg(r){return typeof r=="symbol"?r:"".concat(r)}function gg(r,n,i){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(r,"name",{configurable:!0,value:i?"".concat(i," ",n):n})}function pg(r,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,n)}function ae(r,n,i,l){function u(c){return c instanceof i?c:new i(function(h){h(c)})}return new(i||(i=Promise))(function(c,h){function m(y){try{p(l.next(y))}catch(_){h(_)}}function v(y){try{p(l.throw(y))}catch(_){h(_)}}function p(y){y.done?c(y.value):u(y.value).then(m,v)}p((l=l.apply(r,n||[])).next())})}function yg(r,n){var i={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},l,u,c,h=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return h.next=m(0),h.throw=m(1),h.return=m(2),typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(p){return function(y){return v([p,y])}}function v(p){if(l)throw new TypeError("Generator is already executing.");for(;h&&(h=0,p[0]&&(i=0)),i;)try{if(l=1,u&&(c=p[0]&2?u.return:p[0]?u.throw||((c=u.return)&&c.call(u),0):u.next)&&!(c=c.call(u,p[1])).done)return c;switch(u=0,c&&(p=[p[0]&2,c.value]),p[0]){case 0:case 1:c=p;break;case 4:return i.label++,{value:p[1],done:!1};case 5:i.label++,u=p[1],p=[0];continue;case 7:p=i.ops.pop(),i.trys.pop();continue;default:if(c=i.trys,!(c=c.length>0&&c[c.length-1])&&(p[0]===6||p[0]===2)){i=0;continue}if(p[0]===3&&(!c||p[1]>c[0]&&p[1]<c[3])){i.label=p[1];break}if(p[0]===6&&i.label<c[1]){i.label=c[1],c=p;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(p);break}c[2]&&i.ops.pop(),i.trys.pop();continue}p=n.call(r,i)}catch(y){p=[6,y],u=0}finally{l=c=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var Bl=Object.create?(function(r,n,i,l){l===void 0&&(l=i);var u=Object.getOwnPropertyDescriptor(n,i);(!u||("get"in u?!n.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return n[i]}}),Object.defineProperty(r,l,u)}):(function(r,n,i,l){l===void 0&&(l=i),r[l]=n[i]});function bg(r,n){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(n,i)&&Bl(n,r,i)}function Nl(r){var n=typeof Symbol=="function"&&Symbol.iterator,i=n&&r[n],l=0;if(i)return i.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&l>=r.length&&(r=void 0),{value:r&&r[l++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pc(r,n){var i=typeof Symbol=="function"&&r[Symbol.iterator];if(!i)return r;var l=i.call(r),u,c=[],h;try{for(;(n===void 0||n-- >0)&&!(u=l.next()).done;)c.push(u.value)}catch(m){h={error:m}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(h)throw h.error}}return c}function _g(){for(var r=[],n=0;n<arguments.length;n++)r=r.concat(Pc(arguments[n]));return r}function wg(){for(var r=0,n=0,i=arguments.length;n<i;n++)r+=arguments[n].length;for(var l=Array(r),u=0,n=0;n<i;n++)for(var c=arguments[n],h=0,m=c.length;h<m;h++,u++)l[u]=c[h];return l}function Sg(r,n,i){if(i||arguments.length===2)for(var l=0,u=n.length,c;l<u;l++)(c||!(l in n))&&(c||(c=Array.prototype.slice.call(n,0,l)),c[l]=n[l]);return r.concat(c||Array.prototype.slice.call(n))}function Ri(r){return this instanceof Ri?(this.v=r,this):new Ri(r)}function Eg(r,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=i.apply(r,n||[]),u,c=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",h),u[Symbol.asyncIterator]=function(){return this},u;function h(S){return function(x){return Promise.resolve(x).then(S,_)}}function m(S,x){l[S]&&(u[S]=function(N){return new Promise(function(j,k){c.push([S,N,j,k])>1||v(S,N)})},x&&(u[S]=x(u[S])))}function v(S,x){try{p(l[S](x))}catch(N){w(c[0][3],N)}}function p(S){S.value instanceof Ri?Promise.resolve(S.value.v).then(y,_):w(c[0][2],S)}function y(S){v("next",S)}function _(S){v("throw",S)}function w(S,x){S(x),c.shift(),c.length&&v(c[0][0],c[0][1])}}function jg(r){var n,i;return n={},l("next"),l("throw",function(u){throw u}),l("return"),n[Symbol.iterator]=function(){return this},n;function l(u,c){n[u]=r[u]?function(h){return(i=!i)?{value:Ri(r[u](h)),done:!1}:c?c(h):h}:c}}function xg(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r[Symbol.asyncIterator],i;return n?n.call(r):(r=typeof Nl=="function"?Nl(r):r[Symbol.iterator](),i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i);function l(c){i[c]=r[c]&&function(h){return new Promise(function(m,v){h=r[c](h),u(m,v,h.done,h.value)})}}function u(c,h,m,v){Promise.resolve(v).then(function(p){c({value:p,done:m})},h)}}function Tg(r,n){return Object.defineProperty?Object.defineProperty(r,"raw",{value:n}):r.raw=n,r}var C_=Object.create?(function(r,n){Object.defineProperty(r,"default",{enumerable:!0,value:n})}):function(r,n){r.default=n},Ec=function(r){return Ec=Object.getOwnPropertyNames||function(n){var i=[];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(i[i.length]=l);return i},Ec(r)};function Og(r){if(r&&r.__esModule)return r;var n={};if(r!=null)for(var i=Ec(r),l=0;l<i.length;l++)i[l]!=="default"&&Bl(n,r,i[l]);return C_(n,r),n}function Ng(r){return r&&r.__esModule?r:{default:r}}function Ag(r,n,i,l){if(i==="a"&&!l)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?r!==n||!l:!n.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?l:i==="a"?l.call(r):l?l.value:n.get(r)}function Cg(r,n,i,l,u){if(l==="m")throw new TypeError("Private method is not writable");if(l==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?r!==n||!u:!n.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return l==="a"?u.call(r,i):u?u.value=i:n.set(r,i),i}function Rg(r,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?n===r:r.has(n)}function kg(r,n,i){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var l,u;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");l=n[Symbol.asyncDispose]}if(l===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");l=n[Symbol.dispose],i&&(u=l)}if(typeof l!="function")throw new TypeError("Object not disposable.");u&&(l=function(){try{u.call(this)}catch(c){return Promise.reject(c)}}),r.stack.push({value:n,dispose:l,async:i})}else i&&r.stack.push({async:!0});return n}var R_=typeof SuppressedError=="function"?SuppressedError:function(r,n,i){var l=new Error(i);return l.name="SuppressedError",l.error=r,l.suppressed=n,l};function Ug(r){function n(c){r.error=r.hasError?new R_(c,r.error,"An error was suppressed during disposal."):c,r.hasError=!0}var i,l=0;function u(){for(;i=r.stack.pop();)try{if(!i.async&&l===1)return l=0,r.stack.push(i),Promise.resolve().then(u);if(i.dispose){var c=i.dispose.call(i.value);if(i.async)return l|=2,Promise.resolve(c).then(u,function(h){return n(h),u()})}else l|=1}catch(h){n(h)}if(l===1)return r.hasError?Promise.reject(r.error):Promise.resolve();if(r.hasError)throw r.error}return u()}function Dg(r,n){return typeof r=="string"&&/^\.\.?\//.test(r)?r.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(i,l,u,c,h){return l?n?".jsx":".js":u&&(!c||!h)?i:u+c+"."+h.toLowerCase()+"js"}):r}const k_={__extends:cg,__assign:Ol,__rest:Bi,__decorate:dg,__param:hg,__esDecorate:fg,__runInitializers:mg,__propKey:vg,__setFunctionName:gg,__metadata:pg,__awaiter:ae,__generator:yg,__createBinding:Bl,__exportStar:bg,__values:Nl,__read:Pc,__spread:_g,__spreadArrays:wg,__spreadArray:Sg,__await:Ri,__asyncGenerator:Eg,__asyncDelegator:jg,__asyncValues:xg,__makeTemplateObject:Tg,__importStar:Og,__importDefault:Ng,__classPrivateFieldGet:Ag,__classPrivateFieldSet:Cg,__classPrivateFieldIn:Rg,__addDisposableResource:kg,__disposeResources:Ug,__rewriteRelativeImportExtension:Dg},U_=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:kg,get __assign(){return Ol},__asyncDelegator:jg,__asyncGenerator:Eg,__asyncValues:xg,__await:Ri,__awaiter:ae,__classPrivateFieldGet:Ag,__classPrivateFieldIn:Rg,__classPrivateFieldSet:Cg,__createBinding:Bl,__decorate:dg,__disposeResources:Ug,__esDecorate:fg,__exportStar:bg,__extends:cg,__generator:yg,__importDefault:Ng,__importStar:Og,__makeTemplateObject:Tg,__metadata:pg,__param:hg,__propKey:vg,__read:Pc,__rest:Bi,__rewriteRelativeImportExtension:Dg,__runInitializers:mg,__setFunctionName:gg,__spread:_g,__spreadArray:Sg,__spreadArrays:wg,__values:Nl,default:k_},Symbol.toStringTag,{value:"Module"})),D_=r=>r?(...n)=>r(...n):(...n)=>fetch(...n);class ql extends Error{constructor(n,i="FunctionsError",l){super(n),this.name=i,this.context=l}}class zg extends ql{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class jc extends ql{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class xc extends ql{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Al;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Al||(Al={}));class z_{constructor(n,{headers:i={},customFetch:l,region:u=Al.Any}={}){this.url=n,this.headers=i,this.region=u,this.fetch=D_(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return ae(this,arguments,void 0,function*(i,l={}){var u;let c,h;try{const{headers:m,method:v,body:p,signal:y,timeout:_}=l;let w={},{region:S}=l;S||(S=this.region);const x=new URL(`${this.url}/${i}`);S&&S!=="any"&&(w["x-region"]=S,x.searchParams.set("forceFunctionRegion",S));let N;p&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",N=p):typeof p=="string"?(w["Content-Type"]="text/plain",N=p):typeof FormData<"u"&&p instanceof FormData?N=p:(w["Content-Type"]="application/json",N=JSON.stringify(p)):N=p;let j=y;_&&(h=new AbortController,c=setTimeout(()=>h.abort(),_),y?(j=h.signal,y.addEventListener("abort",()=>h.abort())):j=h.signal);const k=yield this.fetch(x.toString(),{method:v||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),m),body:N,signal:j}).catch(te=>{throw new zg(te)}),B=k.headers.get("x-relay-error");if(B&&B==="true")throw new jc(k);if(!k.ok)throw new xc(k);let z=((u=k.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),Q;return z==="application/json"?Q=yield k.json():z==="application/octet-stream"||z==="application/pdf"?Q=yield k.blob():z==="text/event-stream"?Q=k:z==="multipart/form-data"?Q=yield k.formData():Q=yield k.text(),{data:Q,error:null,response:k}}catch(m){return{data:null,error:m,response:m instanceof xc||m instanceof jc?m.context:void 0}}finally{c&&clearTimeout(c)}})}}var vt={};const qi=I0(U_);var ml={},vl={},gl={},pl={},yl={},bl={},yv;function Mg(){if(yv)return bl;yv=1,Object.defineProperty(bl,"__esModule",{value:!0});class r extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return bl.default=r,bl}var bv;function Bg(){if(bv)return yl;bv=1,Object.defineProperty(yl,"__esModule",{value:!0});const n=qi.__importDefault(Mg());class i{constructor(u){var c,h;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(c=u.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=u.signal,this.isMaybeSingle=(h=u.isMaybeSingle)!==null&&h!==void 0?h:!1,u.fetch?this.fetch=u.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,c){return this.headers=new Headers(this.headers),this.headers.set(u,c),this}then(u,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let m=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async v=>{var p,y,_,w;let S=null,x=null,N=null,j=v.status,k=v.statusText;if(v.ok){if(this.method!=="HEAD"){const te=await v.text();te===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?x=te:x=JSON.parse(te))}const z=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),Q=(_=v.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");z&&Q&&Q.length>1&&(N=parseInt(Q[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(S={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,N=null,j=406,k="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const z=await v.text();try{S=JSON.parse(z),Array.isArray(S)&&v.status===404&&(x=[],S=null,j=200,k="OK")}catch{v.status===404&&z===""?(j=204,k="No Content"):S={message:z}}if(S&&this.isMaybeSingle&&(!((w=S?.details)===null||w===void 0)&&w.includes("0 rows"))&&(S=null,j=200,k="OK"),S&&this.shouldThrowOnError)throw new n.default(S)}return{error:S,data:x,count:N,status:j,statusText:k}});return this.shouldThrowOnError||(m=m.catch(v=>{var p,y,_,w,S,x;let N="";const j=v?.cause;if(j){const k=(p=j?.message)!==null&&p!==void 0?p:"",B=(y=j?.code)!==null&&y!==void 0?y:"";N=`${(_=v?.name)!==null&&_!==void 0?_:"FetchError"}: ${v?.message}`,N+=`

Caused by: ${(w=j?.name)!==null&&w!==void 0?w:"Error"}: ${k}`,B&&(N+=` (${B})`),j?.stack&&(N+=`
${j.stack}`)}else N=(S=v?.stack)!==null&&S!==void 0?S:"";return{error:{message:`${(x=v?.name)!==null&&x!==void 0?x:"FetchError"}: ${v?.message}`,details:N,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),m.then(u,c)}returns(){return this}overrideTypes(){return this}}return yl.default=i,yl}var _v;function qg(){if(_v)return pl;_v=1,Object.defineProperty(pl,"__esModule",{value:!0});const n=qi.__importDefault(Bg());class i extends n.default{select(u){let c=!1;const h=(u??"*").split("").map(m=>/\s/.test(m)&&!c?"":(m==='"'&&(c=!c),m)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(u,{ascending:c=!0,nullsFirst:h,foreignTable:m,referencedTable:v=m}={}){const p=v?`${v}.order`:"order",y=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${y?`${y},`:""}${u}.${c?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:c,referencedTable:h=c}={}){const m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${u}`),this}range(u,c,{foreignTable:h,referencedTable:m=h}={}){const v=typeof m>"u"?"offset":`${m}.offset`,p=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(v,`${u}`),this.url.searchParams.set(p,`${c-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:u=!1,verbose:c=!1,settings:h=!1,buffers:m=!1,wal:v=!1,format:p="text"}={}){var y;const _=[u?"analyze":null,c?"verbose":null,h?"settings":null,m?"buffers":null,v?"wal":null].filter(Boolean).join("|"),w=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${w}"; options=${_};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(u){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${u}`),this}}return pl.default=i,pl}var wv;function Qc(){if(wv)return gl;wv=1,Object.defineProperty(gl,"__esModule",{value:!0});const n=qi.__importDefault(qg()),i=new RegExp("[,()]");class l extends n.default{eq(c,h){return this.url.searchParams.append(c,`eq.${h}`),this}neq(c,h){return this.url.searchParams.append(c,`neq.${h}`),this}gt(c,h){return this.url.searchParams.append(c,`gt.${h}`),this}gte(c,h){return this.url.searchParams.append(c,`gte.${h}`),this}lt(c,h){return this.url.searchParams.append(c,`lt.${h}`),this}lte(c,h){return this.url.searchParams.append(c,`lte.${h}`),this}like(c,h){return this.url.searchParams.append(c,`like.${h}`),this}likeAllOf(c,h){return this.url.searchParams.append(c,`like(all).{${h.join(",")}}`),this}likeAnyOf(c,h){return this.url.searchParams.append(c,`like(any).{${h.join(",")}}`),this}ilike(c,h){return this.url.searchParams.append(c,`ilike.${h}`),this}ilikeAllOf(c,h){return this.url.searchParams.append(c,`ilike(all).{${h.join(",")}}`),this}ilikeAnyOf(c,h){return this.url.searchParams.append(c,`ilike(any).{${h.join(",")}}`),this}regexMatch(c,h){return this.url.searchParams.append(c,`match.${h}`),this}regexIMatch(c,h){return this.url.searchParams.append(c,`imatch.${h}`),this}is(c,h){return this.url.searchParams.append(c,`is.${h}`),this}isDistinct(c,h){return this.url.searchParams.append(c,`isdistinct.${h}`),this}in(c,h){const m=Array.from(new Set(h)).map(v=>typeof v=="string"&&i.test(v)?`"${v}"`:`${v}`).join(",");return this.url.searchParams.append(c,`in.(${m})`),this}contains(c,h){return typeof h=="string"?this.url.searchParams.append(c,`cs.${h}`):Array.isArray(h)?this.url.searchParams.append(c,`cs.{${h.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(h)}`),this}containedBy(c,h){return typeof h=="string"?this.url.searchParams.append(c,`cd.${h}`):Array.isArray(h)?this.url.searchParams.append(c,`cd.{${h.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(h)}`),this}rangeGt(c,h){return this.url.searchParams.append(c,`sr.${h}`),this}rangeGte(c,h){return this.url.searchParams.append(c,`nxl.${h}`),this}rangeLt(c,h){return this.url.searchParams.append(c,`sl.${h}`),this}rangeLte(c,h){return this.url.searchParams.append(c,`nxr.${h}`),this}rangeAdjacent(c,h){return this.url.searchParams.append(c,`adj.${h}`),this}overlaps(c,h){return typeof h=="string"?this.url.searchParams.append(c,`ov.${h}`):this.url.searchParams.append(c,`ov.{${h.join(",")}}`),this}textSearch(c,h,{config:m,type:v}={}){let p="";v==="plain"?p="pl":v==="phrase"?p="ph":v==="websearch"&&(p="w");const y=m===void 0?"":`(${m})`;return this.url.searchParams.append(c,`${p}fts${y}.${h}`),this}match(c){return Object.entries(c).forEach(([h,m])=>{this.url.searchParams.append(h,`eq.${m}`)}),this}not(c,h,m){return this.url.searchParams.append(c,`not.${h}.${m}`),this}or(c,{foreignTable:h,referencedTable:m=h}={}){const v=m?`${m}.or`:"or";return this.url.searchParams.append(v,`(${c})`),this}filter(c,h,m){return this.url.searchParams.append(c,`${h}.${m}`),this}}return gl.default=l,gl}var Sv;function Lg(){if(Sv)return vl;Sv=1,Object.defineProperty(vl,"__esModule",{value:!0});const n=qi.__importDefault(Qc());class i{constructor(u,{headers:c={},schema:h,fetch:m}){this.url=u,this.headers=new Headers(c),this.schema=h,this.fetch=m}select(u,c){const{head:h=!1,count:m}=c??{},v=h?"HEAD":"GET";let p=!1;const y=(u??"*").split("").map(_=>/\s/.test(_)&&!p?"":(_==='"'&&(p=!p),_)).join("");return this.url.searchParams.set("select",y),m&&this.headers.append("Prefer",`count=${m}`),new n.default({method:v,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(u,{count:c,defaultToNull:h=!0}={}){var m;const v="POST";if(c&&this.headers.append("Prefer",`count=${c}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const p=u.reduce((y,_)=>y.concat(Object.keys(_)),[]);if(p.length>0){const y=[...new Set(p)].map(_=>`"${_}"`);this.url.searchParams.set("columns",y.join(","))}}return new n.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(u,{onConflict:c,ignoreDuplicates:h=!1,count:m,defaultToNull:v=!0}={}){var p;const y="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),m&&this.headers.append("Prefer",`count=${m}`),v||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const _=u.reduce((w,S)=>w.concat(Object.keys(S)),[]);if(_.length>0){const w=[...new Set(_)].map(S=>`"${S}"`);this.url.searchParams.set("columns",w.join(","))}}return new n.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(u,{count:c}={}){var h;const m="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:u}={}){var c;const h="DELETE";return u&&this.headers.append("Prefer",`count=${u}`),new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return vl.default=i,vl}var Ev;function M_(){if(Ev)return ml;Ev=1,Object.defineProperty(ml,"__esModule",{value:!0});const r=qi,n=r.__importDefault(Lg()),i=r.__importDefault(Qc());class l{constructor(c,{headers:h={},schema:m,fetch:v}={}){this.url=c,this.headers=new Headers(h),this.schemaName=m,this.fetch=v}from(c){if(!c||typeof c!="string"||c.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const h=new URL(`${this.url}/${c}`);return new n.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new l(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,h={},{head:m=!1,get:v=!1,count:p}={}){var y;let _;const w=new URL(`${this.url}/rpc/${c}`);let S;m||v?(_=m?"HEAD":"GET",Object.entries(h).filter(([N,j])=>j!==void 0).map(([N,j])=>[N,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([N,j])=>{w.searchParams.append(N,j)})):(_="POST",S=h);const x=new Headers(this.headers);return p&&x.set("Prefer",`count=${p}`),new i.default({method:_,url:w,headers:x,schema:this.schemaName,body:S,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return ml.default=l,ml}var jv;function B_(){if(jv)return vt;jv=1,Object.defineProperty(vt,"__esModule",{value:!0}),vt.PostgrestError=vt.PostgrestBuilder=vt.PostgrestTransformBuilder=vt.PostgrestFilterBuilder=vt.PostgrestQueryBuilder=vt.PostgrestClient=void 0;const r=qi,n=r.__importDefault(M_());vt.PostgrestClient=n.default;const i=r.__importDefault(Lg());vt.PostgrestQueryBuilder=i.default;const l=r.__importDefault(Qc());vt.PostgrestFilterBuilder=l.default;const u=r.__importDefault(qg());vt.PostgrestTransformBuilder=u.default;const c=r.__importDefault(Bg());vt.PostgrestBuilder=c.default;const h=r.__importDefault(Mg());return vt.PostgrestError=h.default,vt.default={PostgrestClient:n.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:c.default,PostgrestError:h.default},vt}var $g=B_();const Hg=J0($g),q_=X0({__proto__:null,default:Hg},[$g]),{PostgrestClient:L_,PostgrestQueryBuilder:OE,PostgrestFilterBuilder:NE,PostgrestTransformBuilder:AE,PostgrestBuilder:CE,PostgrestError:$_}=Hg||q_;class Vg{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const l=i.node,u=parseInt(l.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let i=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(i+=`

Suggested solution: ${n.workaround}`),new Error(i)}static createWebSocket(n,i){const l=this.getWebSocketConstructor();return new l(n,i)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const H_="2.87.3",V_=`realtime-js/${H_}`,Gg="1.0.0",G_="2.0.0",xv=Gg,Tc=1e4,Y_=1e3,K_=100;var Rn;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Rn||(Rn={}));var et;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(et||(et={}));var ea;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(ea||(ea={}));var Oc;(function(r){r.websocket="websocket"})(Oc||(Oc={}));var kn;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(kn||(kn={}));class P_{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,i){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return i(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var i;return this._isArrayBuffer((i=n.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var i,l;const u=(l=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(n){var i,l;const u=(l=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:{},h=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(n,i,l){var u,c;const h=n.topic,m=(u=n.ref)!==null&&u!==void 0?u:"",v=(c=n.join_ref)!==null&&c!==void 0?c:"",p=n.payload.event,y=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},_=Object.keys(y).length===0?"":JSON.stringify(y);if(v.length>255)throw new Error(`joinRef length ${v.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+v.length+m.length+h.length+p.length+_.length,S=new ArrayBuffer(this.HEADER_LENGTH+w);let x=new DataView(S),N=0;x.setUint8(N++,this.KINDS.userBroadcastPush),x.setUint8(N++,v.length),x.setUint8(N++,m.length),x.setUint8(N++,h.length),x.setUint8(N++,p.length),x.setUint8(N++,_.length),x.setUint8(N++,i),Array.from(v,k=>x.setUint8(N++,k.charCodeAt(0))),Array.from(m,k=>x.setUint8(N++,k.charCodeAt(0))),Array.from(h,k=>x.setUint8(N++,k.charCodeAt(0))),Array.from(p,k=>x.setUint8(N++,k.charCodeAt(0))),Array.from(_,k=>x.setUint8(N++,k.charCodeAt(0)));var j=new Uint8Array(S.byteLength+l.byteLength);return j.set(new Uint8Array(S),0),j.set(new Uint8Array(l),S.byteLength),j.buffer}decode(n,i){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return i(l)}if(typeof n=="string"){const l=JSON.parse(n),[u,c,h,m,v]=l;return i({join_ref:u,ref:c,topic:h,event:m,payload:v})}return i({})}_binaryDecode(n){const i=new DataView(n),l=i.getUint8(0),u=new TextDecoder;switch(l){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,i,u)}}_decodeUserBroadcast(n,i,l){const u=i.getUint8(1),c=i.getUint8(2),h=i.getUint8(3),m=i.getUint8(4);let v=this.HEADER_LENGTH+4;const p=l.decode(n.slice(v,v+u));v=v+u;const y=l.decode(n.slice(v,v+c));v=v+c;const _=l.decode(n.slice(v,v+h));v=v+h;const w=n.slice(v,n.byteLength),S=m===this.JSON_ENCODING?JSON.parse(l.decode(w)):w,x={type:this.BROADCAST_EVENT,event:y,payload:S};return h>0&&(x.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(n){var i;return n instanceof ArrayBuffer||((i=n?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(n,i){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>i.includes(l)))}}class Yg{constructor(n,i){this.callback=n,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qe;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(qe||(qe={}));const Tv=(r,n,i={})=>{var l;const u=(l=i.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((c,h)=>(c[h]=Q_(h,r,n,u),c),{}):{}},Q_=(r,n,i,l)=>{const u=n.find(m=>m.name===r),c=u?.type,h=i[r];return c&&!l.includes(c)?Kg(c,h):Nc(h)},Kg=(r,n)=>{if(r.charAt(0)==="_"){const i=r.slice(1,r.length);return Z_(n,i)}switch(r){case qe.bool:return X_(n);case qe.float4:case qe.float8:case qe.int2:case qe.int4:case qe.int8:case qe.numeric:case qe.oid:return J_(n);case qe.json:case qe.jsonb:return I_(n);case qe.timestamp:return F_(n);case qe.abstime:case qe.date:case qe.daterange:case qe.int4range:case qe.int8range:case qe.money:case qe.reltime:case qe.text:case qe.time:case qe.timestamptz:case qe.timetz:case qe.tsrange:case qe.tstzrange:return Nc(n);default:return Nc(n)}},Nc=r=>r,X_=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},J_=r=>{if(typeof r=="string"){const n=parseFloat(r);if(!Number.isNaN(n))return n}return r},I_=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(n){return console.log(`JSON parse error: ${n}`),r}return r},Z_=(r,n)=>{if(typeof r!="string")return r;const i=r.length-1,l=r[i];if(r[0]==="{"&&l==="}"){let c;const h=r.slice(1,i);try{c=JSON.parse("["+h+"]")}catch{c=h?h.split(","):[]}return c.map(m=>Kg(n,m))}return r},F_=r=>typeof r=="string"?r.replace(" ","T"):r,Pg=r=>{const n=new URL(r);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class hc{constructor(n,i,l={},u=Tc){this.channel=n,this.event=i,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,i){var l;return this._hasReceived(n)&&i((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:i}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(i))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Ac;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Ac||(Ac={}));class Ni{constructor(n,i){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:c,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ni.syncState(this.state,u,c,h),this.pendingDiffs.forEach(v=>{this.state=Ni.syncDiff(this.state,v,c,h)}),this.pendingDiffs=[],m()}),this.channel._on(l.diff,{},u=>{const{onJoin:c,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Ni.syncDiff(this.state,u,c,h),m())}),this.onJoin((u,c,h)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:c,newPresences:h})}),this.onLeave((u,c,h)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:c,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,i,l,u){const c=this.cloneDeep(n),h=this.transformState(i),m={},v={};return this.map(c,(p,y)=>{h[p]||(v[p]=y)}),this.map(h,(p,y)=>{const _=c[p];if(_){const w=y.map(j=>j.presence_ref),S=_.map(j=>j.presence_ref),x=y.filter(j=>S.indexOf(j.presence_ref)<0),N=_.filter(j=>w.indexOf(j.presence_ref)<0);x.length>0&&(m[p]=x),N.length>0&&(v[p]=N)}else m[p]=y}),this.syncDiff(c,{joins:m,leaves:v},l,u)}static syncDiff(n,i,l,u){const{joins:c,leaves:h}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(c,(m,v)=>{var p;const y=(p=n[m])!==null&&p!==void 0?p:[];if(n[m]=this.cloneDeep(v),y.length>0){const _=n[m].map(S=>S.presence_ref),w=y.filter(S=>_.indexOf(S.presence_ref)<0);n[m].unshift(...w)}l(m,y,v)}),this.map(h,(m,v)=>{let p=n[m];if(!p)return;const y=v.map(_=>_.presence_ref);p=p.filter(_=>y.indexOf(_.presence_ref)<0),n[m]=p,u(m,p,v),p.length===0&&delete n[m]}),n}static map(n,i){return Object.getOwnPropertyNames(n).map(l=>i(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((i,l)=>{const u=n[l];return"metas"in u?i[l]=u.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):i[l]=u,i},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Cc;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Cc||(Cc={}));var Ai;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Ai||(Ai={}));var ra;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(ra||(ra={}));const W_=et;class Un{constructor(n,i={config:{}},l){var u,c;if(this.topic=n,this.params=i,this.socket=l,this.bindings={},this.state=et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new hc(this,ea.join,this.params,this.timeout),this.rejoinTimer=new Yg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=et.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ea.reply,{},(h,m)=>{this._trigger(this._replyEventName(m),h)}),this.presence=new Ni(this),this.broadcastEndpointURL=Pg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,i=this.timeout){var l,u,c;if(this.socket.isConnected()||this.socket.connect(),this.state==et.closed){const{config:{broadcast:h,presence:m,private:v}}=this.params,p=(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(S=>S.filter))!==null&&u!==void 0?u:[],y=!!this.bindings[Ai.PRESENCE]&&this.bindings[Ai.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,_={},w={broadcast:h,presence:Object.assign(Object.assign({},m),{enabled:y}),postgres_changes:p,private:v};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(S=>n?.(ra.CHANNEL_ERROR,S)),this._onClose(()=>n?.(ra.CLOSED)),this.updateJoinPayload(Object.assign({config:w},_)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:S})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){n?.(ra.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,j=(x=N?.length)!==null&&x!==void 0?x:0,k=[];for(let B=0;B<j;B++){const z=N[B],{filter:{event:Q,schema:te,table:Z,filter:J}}=z,X=S&&S[B];if(X&&X.event===Q&&Un.isFilterValueEqual(X.schema,te)&&Un.isFilterValueEqual(X.table,Z)&&Un.isFilterValueEqual(X.filter,J))k.push(Object.assign(Object.assign({},z),{id:X.id}));else{this.unsubscribe(),this.state=et.errored,n?.(ra.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,n&&n(ra.SUBSCRIBED);return}}).receive("error",S=>{this.state=et.errored,n?.(ra.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{n?.(ra.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,i={}){return await this.send({type:"presence",event:"track",payload:n},i.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,i,l){return this.state===et.joined&&n===Ai.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,i,l)}async httpSend(n,i,l={}){var u;const c=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(i==null)return Promise.reject("Payload is required for httpSend()");const h={method:"POST",headers:{Authorization:c,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:i,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(u=l.timeout)!==null&&u!==void 0?u:this.timeout);if(m.status===202)return{success:!0};let v=m.statusText;try{const p=await m.json();v=p.error||p.message||v}catch{}return Promise.reject(new Error(v))}async send(n,i={}){var l,u;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:h}=n,v={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,v,(l=i.timeout)!==null&&l!==void 0?l:this.timeout);return await((u=p.body)===null||u===void 0?void 0:u.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,m,v;const p=this._push(n.type,n,i.timeout||this.timeout);n.type==="broadcast"&&!(!((v=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||v===void 0)&&v.ack)&&c("ok"),p.receive("ok",()=>c("ok")),p.receive("error",()=>c("error")),p.receive("timeout",()=>c("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=et.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ea.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(u=>{l=new hc(this,ea.leave,{},n),l.receive("ok",()=>{i(),u("ok")}).receive("timeout",()=>{i(),u("timed out")}).receive("error",()=>{u("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=et.closed,this.bindings={}}async _fetchWithTimeout(n,i,l){const u=new AbortController,c=setTimeout(()=>u.abort(),l),h=await this.socket.fetch(n,Object.assign(Object.assign({},i),{signal:u.signal}));return clearTimeout(c),h}_push(n,i,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new hc(this,n,i,l);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>K_){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(n,i,l){return i}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,i,l){var u,c;const h=n.toLocaleLowerCase(),{close:m,error:v,leave:p,join:y}=ea;if(l&&[m,v,p,y].indexOf(h)>=0&&l!==this._joinRef())return;let w=this._onMessage(h,i,l);if(i&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(S=>{var x,N,j;return((x=S.filter)===null||x===void 0?void 0:x.event)==="*"||((j=(N=S.filter)===null||N===void 0?void 0:N.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===h}).map(S=>S.callback(w,l)):(c=this.bindings[h])===null||c===void 0||c.filter(S=>{var x,N,j,k,B,z;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in S){const Q=S.id,te=(x=S.filter)===null||x===void 0?void 0:x.event;return Q&&((N=i.ids)===null||N===void 0?void 0:N.includes(Q))&&(te==="*"||te?.toLocaleLowerCase()===((j=i.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const Q=(B=(k=S?.filter)===null||k===void 0?void 0:k.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return Q==="*"||Q===((z=i?.event)===null||z===void 0?void 0:z.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===h}).map(S=>{if(typeof w=="object"&&"ids"in w){const x=w.data,{schema:N,table:j,commit_timestamp:k,type:B,errors:z}=x;w=Object.assign(Object.assign({},{schema:N,table:j,commit_timestamp:k,eventType:B,new:{},old:{},errors:z}),this._getPayloadRecords(x))}S.callback(w,l)})}_isClosed(){return this.state===et.closed}_isJoined(){return this.state===et.joined}_isJoining(){return this.state===et.joining}_isLeaving(){return this.state===et.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,i,l){const u=n.toLocaleLowerCase(),c={type:u,filter:i,callback:l};return this.bindings[u]?this.bindings[u].push(c):this.bindings[u]=[c],this}_off(n,i){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(u=>{var c;return!(((c=u.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===l&&Un.isEqual(u.filter,i))})),this}static isEqual(n,i){if(Object.keys(n).length!==Object.keys(i).length)return!1;for(const l in n)if(n[l]!==i[l])return!1;return!0}static isFilterValueEqual(n,i){return(n??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(ea.close,{},n)}_onError(n){this._on(ea.error,{},i=>n(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=et.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const i={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(i.new=Tv(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(i.old=Tv(n.columns,n.old_record)),i}}const fc=()=>{},_l={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ew=[1e3,2e3,5e3,1e4],tw=1e4,aw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Qg{constructor(n,i){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Tc,this.transport=null,this.heartbeatIntervalMs=_l.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fc,this.ref=0,this.reconnectTimer=null,this.vsn=xv,this.logger=fc,this.conn=null,this.sendBuffer=[],this.serializer=new P_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>u?(...c)=>u(...c):(...c)=>fetch(...c),!(!((l=i?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${n}/${Oc.websocket}`,this.httpEndpoint=Pg(n),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Vg.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const i=n.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const i=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const n=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,i,l){this.logger(n,i,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Rn.connecting:return kn.Connecting;case Rn.open:return kn.Open;case Rn.closing:return kn.Closing;default:return kn.Closed}}isConnected(){return this.connectionState()===kn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,i={config:{}}){const l=`realtime:${n}`,u=this.getChannels().find(c=>c.topic===l);if(u)return u;{const c=new Un(`realtime:${n}`,i,this);return this.channels.push(c),c}}push(n){const{topic:i,event:l,payload:u,ref:c}=n,h=()=>{this.encode(n,m=>{var v;(v=this.conn)===null||v===void 0||v.send(m)})};this.log("push",`${i} ${l} (${c})`,u),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(Y_,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},_l.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let i=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${n}"`),i.unsubscribe())}_remove(n){this.channels=this.channels.filter(i=>i.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:u,payload:c,ref:h}=i,m=h?`(${h})`:"",v=c.status||"";this.log("receive",`${v} ${l} ${u} ${m}`.trim(),c),this.channels.filter(p=>p._isMember(l)).forEach(p=>p._trigger(u,c,h)),this._triggerStateCallbacks("message",i)})}_clearTimer(n){var i;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Rn.open||this.conn.readyState===Rn.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var i;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(ea.error))}_appendParams(n,i){if(Object.keys(i).length===0)return n;const l=n.match(/\?/)?"&":"?",u=new URLSearchParams(i);return`${n}${l}${u}`}_workerObjectUrl(n){let i;if(n)i=n;else{const l=new Blob([aw],{type:"application/javascript"});i=URL.createObjectURL(l)}return i}_setConnectionState(n,i=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(n=null){let i,l=!1;if(n)i=n,l=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),i=this.accessTokenValue}else i=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(u=>{const c={access_token:i,version:V_};i&&u.updateJoinPayload(c),u.joinedOnce&&u._isJoined()&&u._push(ea.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${n}`,i)})}_triggerStateCallbacks(n,i){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(i)}catch(u){this.log("error",`error in ${n} callback`,u)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new Yg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},_l.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var i,l,u,c,h,m,v,p,y,_,w,S;switch(this.transport=(i=n?.transport)!==null&&i!==void 0?i:null,this.timeout=(l=n?.timeout)!==null&&l!==void 0?l:Tc,this.heartbeatIntervalMs=(u=n?.heartbeatIntervalMs)!==null&&u!==void 0?u:_l.HEARTBEAT_INTERVAL,this.worker=(c=n?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(h=n?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(m=n?.heartbeatCallback)!==null&&m!==void 0?m:fc,this.vsn=(v=n?.vsn)!==null&&v!==void 0?v:xv,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=n?.reconnectAfterMs)!==null&&p!==void 0?p:(x=>ew[x-1]||tw),this.vsn){case Gg:this.encode=(y=n?.encode)!==null&&y!==void 0?y:((x,N)=>N(JSON.stringify(x))),this.decode=(_=n?.decode)!==null&&_!==void 0?_:((x,N)=>N(JSON.parse(x)));break;case G_:this.encode=(w=n?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(S=n?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}class Ll extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Ye(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class nw extends Ll{constructor(n,i,l){super(n),this.name="StorageApiError",this.status=i,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Rc extends Ll{constructor(n,i){super(n),this.name="StorageUnknownError",this.originalError=i}}const Xc=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),iw=()=>Response,kc=r=>{if(Array.isArray(r))return r.map(i=>kc(i));if(typeof r=="function"||r!==Object(r))return r;const n={};return Object.entries(r).forEach(([i,l])=>{const u=i.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));n[u]=kc(l)}),n},sw=r=>{if(typeof r!="object"||r===null)return!1;const n=Object.getPrototypeOf(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},rw=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r),mc=r=>{var n;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(n=r.error)===null||n===void 0?void 0:n.message)||JSON.stringify(r)},lw=(r,n,i)=>ae(void 0,void 0,void 0,function*(){const l=yield iw();r instanceof l&&!i?.noResolveJson?r.json().then(u=>{const c=r.status||500,h=u?.statusCode||c+"";n(new nw(mc(u),c,h))}).catch(u=>{n(new Rc(mc(u),u))}):n(new Rc(mc(r),r))}),ow=(r,n,i,l)=>{const u={method:r,headers:n?.headers||{}};return r==="GET"||!l?u:(sw(l)?(u.headers=Object.assign({"Content-Type":"application/json"},n?.headers),u.body=JSON.stringify(l)):u.body=l,n?.duplex&&(u.duplex=n.duplex),Object.assign(Object.assign({},u),i))};function Js(r,n,i,l,u,c){return ae(this,void 0,void 0,function*(){return new Promise((h,m)=>{r(i,ow(n,l,u,c)).then(v=>{if(!v.ok)throw v;return l?.noResolveJson?v:v.json()}).then(v=>h(v)).catch(v=>lw(v,m,l))})})}function Gs(r,n,i,l){return ae(this,void 0,void 0,function*(){return Js(r,"GET",n,i,l)})}function Wt(r,n,i,l,u){return ae(this,void 0,void 0,function*(){return Js(r,"POST",n,l,u,i)})}function Uc(r,n,i,l,u){return ae(this,void 0,void 0,function*(){return Js(r,"PUT",n,l,u,i)})}function uw(r,n,i,l){return ae(this,void 0,void 0,function*(){return Js(r,"HEAD",n,Object.assign(Object.assign({},i),{noResolveJson:!0}),l)})}function Jc(r,n,i,l,u){return ae(this,void 0,void 0,function*(){return Js(r,"DELETE",n,l,u,i)})}class cw{constructor(n,i){this.downloadFn=n,this.shouldThrowOnError=i}then(n,i){return this.execute().then(n,i)}execute(){return ae(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}})}}var Xg;class dw{constructor(n,i){this.downloadFn=n,this.shouldThrowOnError=i,this[Xg]="BlobDownloadBuilder",this.promise=null}asStream(){return new cw(this.downloadFn,this.shouldThrowOnError)}then(n,i){return this.getPromise().then(n,i)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ae(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}})}}Xg=Symbol.toStringTag;const hw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ov={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class fw{constructor(n,i={},l,u){this.shouldThrowOnError=!1,this.url=n,this.headers=i,this.bucketId=l,this.fetch=Xc(u)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,i,l,u){return ae(this,void 0,void 0,function*(){try{let c;const h=Object.assign(Object.assign({},Ov),u);let m=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(h.upsert)});const v=h.metadata;typeof Blob<"u"&&l instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),v&&c.append("metadata",this.encodeMetadata(v)),c.append("",l)):typeof FormData<"u"&&l instanceof FormData?(c=l,c.has("cacheControl")||c.append("cacheControl",h.cacheControl),v&&!c.has("metadata")&&c.append("metadata",this.encodeMetadata(v))):(c=l,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,v&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(v))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!h.duplex&&(h.duplex="half")),u?.headers&&(m=Object.assign(Object.assign({},m),u.headers));const p=this._removeEmptyFolders(i),y=this._getFinalPath(p),_=yield(n=="PUT"?Uc:Wt)(this.fetch,`${this.url}/object/${y}`,c,Object.assign({headers:m},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:p,id:_.Id,fullPath:_.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ye(c))return{data:null,error:c};throw c}})}upload(n,i,l){return ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,i,l)})}uploadToSignedUrl(n,i,l,u){return ae(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(n),h=this._getFinalPath(c),m=new URL(this.url+`/object/upload/sign/${h}`);m.searchParams.set("token",i);try{let v;const p=Object.assign({upsert:Ov.upsert},u),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&l instanceof Blob?(v=new FormData,v.append("cacheControl",p.cacheControl),v.append("",l)):typeof FormData<"u"&&l instanceof FormData?(v=l,v.append("cacheControl",p.cacheControl)):(v=l,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType);const _=yield Uc(this.fetch,m.toString(),v,{headers:y});return{data:{path:c,fullPath:_.Key},error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(Ye(v))return{data:null,error:v};throw v}})}createSignedUploadUrl(n,i){return ae(this,void 0,void 0,function*(){try{let l=this._getFinalPath(n);const u=Object.assign({},this.headers);i?.upsert&&(u["x-upsert"]="true");const c=yield Wt(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:u}),h=new URL(this.url+c.url),m=h.searchParams.get("token");if(!m)throw new Ll("No token returned by API");return{data:{signedUrl:h.toString(),path:n,token:m},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ye(l))return{data:null,error:l};throw l}})}update(n,i,l){return ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,i,l)})}move(n,i,l){return ae(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:i,destinationBucket:l?.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ye(u))return{data:null,error:u};throw u}})}copy(n,i,l){return ae(this,void 0,void 0,function*(){try{return{data:{path:(yield Wt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:i,destinationBucket:l?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ye(u))return{data:null,error:u};throw u}})}createSignedUrl(n,i,l){return ae(this,void 0,void 0,function*(){try{let u=this._getFinalPath(n),c=yield Wt(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:i},l?.transform?{transform:l.transform}:{}),{headers:this.headers});const h=l?.download?`&download=${l.download===!0?"":l.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${h}`)},{data:c,error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ye(u))return{data:null,error:u};throw u}})}createSignedUrls(n,i,l){return ae(this,void 0,void 0,function*(){try{const u=yield Wt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:n},{headers:this.headers}),c=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{data:u.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${c}`):null})),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ye(u))return{data:null,error:u};throw u}})}download(n,i){const u=typeof i?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(i?.transform||{}),h=c?`?${c}`:"",m=this._getFinalPath(n),v=()=>Gs(this.fetch,`${this.url}/${u}/${m}${h}`,{headers:this.headers,noResolveJson:!0});return new dw(v,this.shouldThrowOnError)}info(n){return ae(this,void 0,void 0,function*(){const i=this._getFinalPath(n);try{const l=yield Gs(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:kc(l),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ye(l))return{data:null,error:l};throw l}})}exists(n){return ae(this,void 0,void 0,function*(){const i=this._getFinalPath(n);try{return yield uw(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ye(l)&&l instanceof Rc){const u=l.originalError;if([400,404].includes(u?.status))return{data:!1,error:l}}throw l}})}getPublicUrl(n,i){const l=this._getFinalPath(n),u=[],c=i?.download?`download=${i.download===!0?"":i.download}`:"";c!==""&&u.push(c);const m=typeof i?.transform<"u"?"render/image":"object",v=this.transformOptsToQueryString(i?.transform||{});v!==""&&u.push(v);let p=u.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${l}${p}`)}}}remove(n){return ae(this,void 0,void 0,function*(){try{return{data:yield Jc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}})}list(n,i,l){return ae(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},hw),i),{prefix:n||""});return{data:yield Wt(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},l),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ye(u))return{data:null,error:u};throw u}})}listV2(n,i){return ae(this,void 0,void 0,function*(){try{const l=Object.assign({},n);return{data:yield Wt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,l,{headers:this.headers},i),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ye(l))return{data:null,error:l};throw l}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const i=[];return n.width&&i.push(`width=${n.width}`),n.height&&i.push(`height=${n.height}`),n.resize&&i.push(`resize=${n.resize}`),n.format&&i.push(`format=${n.format}`),n.quality&&i.push(`quality=${n.quality}`),i.join("&")}}const Jg="2.87.3",Ig={"X-Client-Info":`storage-js/${Jg}`};class mw{constructor(n,i={},l,u){this.shouldThrowOnError=!1;const c=new URL(n);u?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ig),i),this.fetch=Xc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(n){return ae(this,void 0,void 0,function*(){try{const i=this.listBucketOptionsToQueryString(n);return{data:yield Gs(this.fetch,`${this.url}/bucket${i}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}})}getBucket(n){return ae(this,void 0,void 0,function*(){try{return{data:yield Gs(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}})}createBucket(n){return ae(this,arguments,void 0,function*(i,l={public:!1}){try{return{data:yield Wt(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:l.type,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ye(u))return{data:null,error:u};throw u}})}updateBucket(n,i){return ae(this,void 0,void 0,function*(){try{return{data:yield Uc(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ye(l))return{data:null,error:l};throw l}})}emptyBucket(n){return ae(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}})}deleteBucket(n){return ae(this,void 0,void 0,function*(){try{return{data:yield Jc(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}})}listBucketOptionsToQueryString(n){const i={};return n&&("limit"in n&&(i.limit=String(n.limit)),"offset"in n&&(i.offset=String(n.offset)),n.search&&(i.search=n.search),n.sortColumn&&(i.sortColumn=n.sortColumn),n.sortOrder&&(i.sortOrder=n.sortOrder)),Object.keys(i).length>0?"?"+new URLSearchParams(i).toString():""}}var Ys=class extends Error{constructor(r,n){super(r),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function vw(r,n,i){const l=new URL(n,r);if(i)for(const[u,c]of Object.entries(i))c!==void 0&&l.searchParams.set(u,c);return l.toString()}async function gw(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function pw(r){const n=r.fetchImpl??globalThis.fetch;return{async request({method:i,path:l,query:u,body:c,headers:h}){const m=vw(r.baseUrl,l,u),v=await gw(r.auth),p=await n(m,{method:i,headers:{...c?{"Content-Type":"application/json"}:{},...v,...h},body:c?JSON.stringify(c):void 0}),y=await p.text(),_=(p.headers.get("content-type")||"").includes("application/json"),w=_&&y?JSON.parse(y):y;if(!p.ok){const S=_?w:void 0,x=S?.error;throw new Ys(x?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:x?.type,icebergCode:x?.code,details:S})}return{status:p.status,headers:p.headers,data:w}}}}function wl(r){return r.join("")}var yw=class{constructor(r,n=""){this.client=r,this.prefix=n}async listNamespaces(r){const n=r?{parent:wl(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(r,n){const i={namespace:r.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${wl(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wl(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${wl(r.namespace)}`}),!0}catch(n){if(n instanceof Ys&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(r,n){try{return await this.createNamespace(r,n)}catch(i){if(i instanceof Ys&&i.status===409)return;throw i}}};function Si(r){return r.join("")}var bw=class{constructor(r,n="",i){this.client=r,this.prefix=n,this.accessDelegation=i}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Si(r.namespace)}/tables`})).data.identifiers}async createTable(r,n){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Si(r.namespace)}/tables`,body:n,headers:i})).data.metadata}async updateTable(r,n){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Si(r.namespace)}/tables/${r.name}`,body:n});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(r,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Si(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(r){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Si(r.namespace)}/tables/${r.name}`,headers:n})).data.metadata}async tableExists(r){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Si(r.namespace)}/tables/${r.name}`,headers:n}),!0}catch(i){if(i instanceof Ys&&i.status===404)return!1;throw i}}async createTableIfNotExists(r,n){try{return await this.createTable(r,n)}catch(i){if(i instanceof Ys&&i.status===409)return await this.loadTable({namespace:r.namespace,name:n.name});throw i}}},_w=class{constructor(r){let n="v1";r.catalogName&&(n+=`/${r.catalogName}`);const i=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=pw({baseUrl:i,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new yw(this.client,n),this.tableOps=new bw(this.client,n,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,n){return this.namespaceOps.createNamespace(r,n)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,n){return this.tableOps.createTable(r,n)}async updateTable(r,n){return this.tableOps.updateTable(r,n)}async dropTable(r,n){await this.tableOps.dropTable(r,n)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,n){return this.namespaceOps.createNamespaceIfNotExists(r,n)}async createTableIfNotExists(r,n){return this.tableOps.createTableIfNotExists(r,n)}};class ww{constructor(n,i={},l){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ig),i),this.fetch=Xc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return ae(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/bucket`,{name:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}})}listBuckets(n){return ae(this,void 0,void 0,function*(){try{const i=new URLSearchParams;n?.limit!==void 0&&i.set("limit",n.limit.toString()),n?.offset!==void 0&&i.set("offset",n.offset.toString()),n?.sortColumn&&i.set("sortColumn",n.sortColumn),n?.sortOrder&&i.set("sortOrder",n.sortOrder),n?.search&&i.set("search",n.search);const l=i.toString(),u=l?`${this.url}/bucket?${l}`:`${this.url}/bucket`;return{data:yield Gs(this.fetch,u,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}})}deleteBucket(n){return ae(this,void 0,void 0,function*(){try{return{data:yield Jc(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}})}from(n){if(!rw(n))throw new Ll("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new _w({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:()=>ae(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(i,{get(c,h){const m=c[h];return typeof m!="function"?m:(...v)=>ae(this,void 0,void 0,function*(){try{return{data:yield m.apply(c,v),error:null}}catch(p){if(l)throw p;return{data:null,error:p}}})}})}}const Ic={"X-Client-Info":`storage-js/${Jg}`,"Content-Type":"application/json"};class Zg extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function zt(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}class vc extends Zg{constructor(n,i,l){super(n),this.name="StorageVectorsApiError",this.status=i,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Sw extends Zg{constructor(n,i){super(n),this.name="StorageVectorsUnknownError",this.originalError=i}}var Nv;(function(r){r.InternalError="InternalError",r.S3VectorConflictException="S3VectorConflictException",r.S3VectorNotFoundException="S3VectorNotFoundException",r.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",r.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",r.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Nv||(Nv={}));const Zc=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),Ew=r=>{if(typeof r!="object"||r===null)return!1;const n=Object.getPrototypeOf(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Av=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),jw=(r,n,i)=>ae(void 0,void 0,void 0,function*(){if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!i?.noResolveJson){const u=r.status||500,c=r;if(typeof c.json=="function")c.json().then(h=>{const m=h?.statusCode||h?.code||u+"";n(new vc(Av(h),u,m))}).catch(()=>{const h=u+"",m=c.statusText||`HTTP ${u} error`;n(new vc(m,u,h))});else{const h=u+"",m=c.statusText||`HTTP ${u} error`;n(new vc(m,u,h))}}else n(new Sw(Av(r),r))}),xw=(r,n,i,l)=>{const u={method:r,headers:n?.headers||{}};return l?(Ew(l)?(u.headers=Object.assign({"Content-Type":"application/json"},n?.headers),u.body=JSON.stringify(l)):u.body=l,Object.assign(Object.assign({},u),i)):u};function Tw(r,n,i,l,u,c){return ae(this,void 0,void 0,function*(){return new Promise((h,m)=>{r(i,xw(n,l,u,c)).then(v=>{if(!v.ok)throw v;if(l?.noResolveJson)return v;const p=v.headers.get("content-type");return!p||!p.includes("application/json")?{}:v.json()}).then(v=>h(v)).catch(v=>jw(v,m,l))})})}function Mt(r,n,i,l,u){return ae(this,void 0,void 0,function*(){return Tw(r,"POST",n,l,u,i)})}class Ow{constructor(n,i={},l){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ic),i),this.fetch=Zc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(n){return ae(this,void 0,void 0,function*(){try{return{data:(yield Mt(this.fetch,`${this.url}/CreateIndex`,n,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}})}getIndex(n,i){return ae(this,void 0,void 0,function*(){try{return{data:yield Mt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:n,indexName:i},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(zt(l))return{data:null,error:l};throw l}})}listIndexes(n){return ae(this,void 0,void 0,function*(){try{return{data:yield Mt(this.fetch,`${this.url}/ListIndexes`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}})}deleteIndex(n,i){return ae(this,void 0,void 0,function*(){try{return{data:(yield Mt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:n,indexName:i},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(zt(l))return{data:null,error:l};throw l}})}}class Nw{constructor(n,i={},l){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ic),i),this.fetch=Zc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(n){return ae(this,void 0,void 0,function*(){try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Mt(this.fetch,`${this.url}/PutVectors`,n,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}})}getVectors(n){return ae(this,void 0,void 0,function*(){try{return{data:yield Mt(this.fetch,`${this.url}/GetVectors`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}})}listVectors(n){return ae(this,void 0,void 0,function*(){try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:yield Mt(this.fetch,`${this.url}/ListVectors`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}})}queryVectors(n){return ae(this,void 0,void 0,function*(){try{return{data:yield Mt(this.fetch,`${this.url}/QueryVectors`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}})}deleteVectors(n){return ae(this,void 0,void 0,function*(){try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Mt(this.fetch,`${this.url}/DeleteVectors`,n,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}})}}class Aw{constructor(n,i={},l){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ic),i),this.fetch=Zc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return ae(this,void 0,void 0,function*(){try{return{data:(yield Mt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}})}getBucket(n){return ae(this,void 0,void 0,function*(){try{return{data:yield Mt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}})}listBuckets(){return ae(this,arguments,void 0,function*(n={}){try{return{data:yield Mt(this.fetch,`${this.url}/ListVectorBuckets`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}})}deleteBucket(n){return ae(this,void 0,void 0,function*(){try{return{data:(yield Mt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}})}}class Cw extends Aw{constructor(n,i={}){super(n,i.headers||{},i.fetch)}from(n){return new Rw(this.url,this.headers,n,this.fetch)}createBucket(n){const i=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ae(this,void 0,void 0,function*(){return i.createBucket.call(this,n)})}getBucket(n){const i=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ae(this,void 0,void 0,function*(){return i.getBucket.call(this,n)})}listBuckets(){const n=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ae(this,arguments,void 0,function*(i={}){return n.listBuckets.call(this,i)})}deleteBucket(n){const i=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ae(this,void 0,void 0,function*(){return i.deleteBucket.call(this,n)})}}class Rw extends Ow{constructor(n,i,l,u){super(n,i,u),this.vectorBucketName=l}createIndex(n){const i=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ae(this,void 0,void 0,function*(){return i.createIndex.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const n=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ae(this,arguments,void 0,function*(i={}){return n.listIndexes.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName}))})}getIndex(n){const i=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ae(this,void 0,void 0,function*(){return i.getIndex.call(this,this.vectorBucketName,n)})}deleteIndex(n){const i=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ae(this,void 0,void 0,function*(){return i.deleteIndex.call(this,this.vectorBucketName,n)})}index(n){return new kw(this.url,this.headers,this.vectorBucketName,n,this.fetch)}}class kw extends Nw{constructor(n,i,l,u,c){super(n,i,c),this.vectorBucketName=l,this.indexName=u}putVectors(n){const i=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ae(this,void 0,void 0,function*(){return i.putVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(n){const i=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ae(this,void 0,void 0,function*(){return i.getVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const n=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ae(this,arguments,void 0,function*(i={}){return n.listVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(n){const i=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ae(this,void 0,void 0,function*(){return i.queryVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(n){const i=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ae(this,void 0,void 0,function*(){return i.deleteVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Uw extends mw{constructor(n,i={},l,u){super(n,i,l,u)}from(n){return new fw(this.url,this.headers,n,this.fetch)}get vectors(){return new Cw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ww(this.url+"/iceberg",this.headers,this.fetch)}}const Dw="2.87.3";let Ls="";typeof Deno<"u"?Ls="deno":typeof document<"u"?Ls="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ls="react-native":Ls="node";const zw={"X-Client-Info":`supabase-js-${Ls}/${Dw}`},Mw={headers:zw},Bw={schema:"public"},qw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Lw={},$w=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),Hw=()=>Headers,Vw=(r,n,i)=>{const l=$w(i),u=Hw();return async(c,h)=>{var m;const v=(m=await n())!==null&&m!==void 0?m:r;let p=new u(h?.headers);return p.has("apikey")||p.set("apikey",r),p.has("Authorization")||p.set("Authorization",`Bearer ${v}`),l(c,Object.assign(Object.assign({},h),{headers:p}))}};function Gw(r){return r.endsWith("/")?r:r+"/"}function Yw(r,n){var i,l;const{db:u,auth:c,realtime:h,global:m}=r,{db:v,auth:p,realtime:y,global:_}=n,w={db:Object.assign(Object.assign({},v),u),auth:Object.assign(Object.assign({},p),c),realtime:Object.assign(Object.assign({},y),h),storage:{},global:Object.assign(Object.assign(Object.assign({},_),m),{headers:Object.assign(Object.assign({},(i=_?.headers)!==null&&i!==void 0?i:{}),(l=m?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return r.accessToken?w.accessToken=r.accessToken:delete w.accessToken,w}function Kw(r){const n=r?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Gw(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Fg="2.87.3",Ti=30*1e3,Dc=3,gc=Dc*Ti,Pw="http://localhost:9999",Qw="supabase.auth.token",Xw={"X-Client-Info":`gotrue-js/${Fg}`},zc="X-Supabase-Api-Version",Wg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Jw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Iw=600*1e3;class ki extends Error{constructor(n,i,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=l}}function le(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class ep extends ki{constructor(n,i,l){super(n,i,l),this.name="AuthApiError",this.status=i,this.code=l}}function tp(r){return le(r)&&r.name==="AuthApiError"}class sn extends ki{constructor(n,i){super(n),this.name="AuthUnknownError",this.originalError=i}}class ua extends ki{constructor(n,i,l,u){super(n,l,u),this.name=i,this.status=l}}class jt extends ua{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ap(r){return le(r)&&r.name==="AuthSessionMissingError"}class Nn extends ua{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $s extends ua{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Hs extends ua{constructor(n,i=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function np(r){return le(r)&&r.name==="AuthImplicitGrantRedirectError"}class Mc extends ua{constructor(n,i=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ip extends ua{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}function Zw(r){return le(r)&&r.name==="AuthPKCECodeVerifierMissingError"}class Cl extends ua{constructor(n,i){super(n,"AuthRetryableFetchError",i,void 0)}}function jl(r){return le(r)&&r.name==="AuthRetryableFetchError"}class Bc extends ua{constructor(n,i,l){super(n,"AuthWeakPasswordError",i,"weak_password"),this.reasons=l}}function Fw(r){return le(r)&&r.name==="AuthWeakPasswordError"}class Rl extends ua{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const kl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Cv=` 	
\r=`.split(""),Ww=(()=>{const r=new Array(128);for(let n=0;n<r.length;n+=1)r[n]=-1;for(let n=0;n<Cv.length;n+=1)r[Cv[n].charCodeAt(0)]=-2;for(let n=0;n<kl.length;n+=1)r[kl[n].charCodeAt(0)]=n;return r})();function Rv(r,n,i){if(r!==null)for(n.queue=n.queue<<8|r,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;i(kl[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;i(kl[l]),n.queuedBits-=6}}function sp(r,n,i){const l=Ww[r];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)i(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function kv(r){const n=[],i=h=>{n.push(String.fromCodePoint(h))},l={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},c=h=>{a1(h,l,i)};for(let h=0;h<r.length;h+=1)sp(r.charCodeAt(h),u,c);return n.join("")}function e1(r,n){if(r<=127){n(r);return}else if(r<=2047){n(192|r>>6),n(128|r&63);return}else if(r<=65535){n(224|r>>12),n(128|r>>6&63),n(128|r&63);return}else if(r<=1114111){n(240|r>>18),n(128|r>>12&63),n(128|r>>6&63),n(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function t1(r,n){for(let i=0;i<r.length;i+=1){let l=r.charCodeAt(i);if(l>55295&&l<=56319){const u=(l-55296)*1024&65535;l=(r.charCodeAt(i+1)-56320&65535|u)+65536,i+=1}e1(l,n)}}function a1(r,n,i){if(n.utf8seq===0){if(r<=127){i(r);return}for(let l=1;l<6;l+=1)if((r>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=r&31;else if(n.utf8seq===3)n.codepoint=r&15;else if(n.utf8seq===4)n.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|r&63,n.utf8seq-=1,n.utf8seq===0&&i(n.codepoint)}}function Ci(r){const n=[],i={queue:0,queuedBits:0},l=u=>{n.push(u)};for(let u=0;u<r.length;u+=1)sp(r.charCodeAt(u),i,l);return new Uint8Array(n)}function n1(r){const n=[];return t1(r,i=>n.push(i)),new Uint8Array(n)}function Dn(r){const n=[],i={queue:0,queuedBits:0},l=u=>{n.push(u)};return r.forEach(u=>Rv(u,i,l)),Rv(null,i,l),n.join("")}function i1(r){return Math.round(Date.now()/1e3)+r}function s1(){return Symbol("auth-callback")}const ft=()=>typeof window<"u"&&typeof document<"u",Tn={tested:!1,writable:!1},rp=()=>{if(!ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Tn.tested)return Tn.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Tn.tested=!0,Tn.writable=!0}catch{Tn.tested=!0,Tn.writable=!1}return Tn.writable};function r1(r){const n={},i=new URL(r);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((u,c)=>{n[c]=u})}catch{}return i.searchParams.forEach((l,u)=>{n[u]=l}),n}const lp=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),l1=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Oi=async(r,n,i)=>{await r.setItem(n,JSON.stringify(i))},On=async(r,n)=>{const i=await r.getItem(n);if(!i)return null;try{return JSON.parse(i)}catch{return i}},ht=async(r,n)=>{await r.removeItem(n)};class $l{constructor(){this.promise=new $l.promiseConstructor((n,i)=>{this.resolve=n,this.reject=i})}}$l.promiseConstructor=Promise;function pc(r){const n=r.split(".");if(n.length!==3)throw new Rl("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!Jw.test(n[l]))throw new Rl("JWT not in base64url format");return{header:JSON.parse(kv(n[0])),payload:JSON.parse(kv(n[1])),signature:Ci(n[2]),raw:{header:n[0],payload:n[1]}}}async function o1(r){return await new Promise(n=>{setTimeout(()=>n(null),r)})}function u1(r,n){return new Promise((l,u)=>{(async()=>{for(let c=0;c<1/0;c++)try{const h=await r(c);if(!n(c,null,h)){l(h);return}}catch(h){if(!n(c,h)){u(h);return}}})()})}function c1(r){return("0"+r.toString(16)).substr(-2)}function d1(){const n=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=i.length;let u="";for(let c=0;c<56;c++)u+=i.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(n),Array.from(n,c1).join("")}async function h1(r){const i=new TextEncoder().encode(r),l=await crypto.subtle.digest("SHA-256",i),u=new Uint8Array(l);return Array.from(u).map(c=>String.fromCharCode(c)).join("")}async function f1(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const i=await h1(r);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ei(r,n,i=!1){const l=d1();let u=l;i&&(u+="/PASSWORD_RECOVERY"),await Oi(r,`${n}-code-verifier`,u);const c=await f1(l);return[c,l===c?"plain":"s256"]}const m1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function v1(r){const n=r.headers.get(zc);if(!n||!n.match(m1))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function g1(r){if(!r)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(r<=n)throw new Error("JWT has expired")}function p1(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const y1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ji(r){if(!y1.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function yc(){const r={};return new Proxy(r,{get:(n,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function b1(r,n){return new Proxy(r,{get:(i,l,u)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const c=l.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,l,u)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(i,l,u)}})}function Uv(r){return JSON.parse(JSON.stringify(r))}const An=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),_1=[502,503,504];async function Dv(r){var n;if(!l1(r))throw new Cl(An(r),0);if(_1.includes(r.status))throw new Cl(An(r),r.status);let i;try{i=await r.json()}catch(c){throw new sn(An(c),c)}let l;const u=v1(r);if(u&&u.getTime()>=Wg["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?l=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(l=i.error_code),l){if(l==="weak_password")throw new Bc(An(i),r.status,((n=i.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new jt}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((c,h)=>c&&typeof h=="string",!0))throw new Bc(An(i),r.status,i.weak_password.reasons);throw new ep(An(i),r.status||500,l)}const w1=(r,n,i,l)=>{const u={method:r,headers:n?.headers||{}};return r==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),i))};async function he(r,n,i,l){var u;const c=Object.assign({},l?.headers);c[zc]||(c[zc]=Wg["2024-01-01"].name),l?.jwt&&(c.Authorization=`Bearer ${l.jwt}`);const h=(u=l?.query)!==null&&u!==void 0?u:{};l?.redirectTo&&(h.redirect_to=l.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",v=await S1(r,n,i+m,{headers:c,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(v):{data:Object.assign({},v),error:null}}async function S1(r,n,i,l,u,c){const h=w1(n,l,u,c);let m;try{m=await r(i,Object.assign({},h))}catch(v){throw console.error(v),new Cl(An(v),0)}if(m.ok||await Dv(m),l?.noResolveJson)return m;try{return await m.json()}catch(v){await Dv(v)}}function Ft(r){var n;let i=null;x1(r)&&(i=Object.assign({},r),r.expires_at||(i.expires_at=i1(r.expires_in)));const l=(n=r.user)!==null&&n!==void 0?n:r;return{data:{session:i,user:l},error:null}}function zv(r){const n=Ft(r);return!n.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0)&&(n.data.weak_password=r.weak_password),n}function rn(r){var n;return{data:{user:(n=r.user)!==null&&n!==void 0?n:r},error:null}}function E1(r){return{data:r,error:null}}function j1(r){const{action_link:n,email_otp:i,hashed_token:l,redirect_to:u,verification_type:c}=r,h=Bi(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:n,email_otp:i,hashed_token:l,redirect_to:u,verification_type:c},v=Object.assign({},h);return{data:{properties:m,user:v},error:null}}function Mv(r){return r}function x1(r){return r.access_token&&r.refresh_token&&r.expires_in}const xl=["global","local","others"];class Fc{constructor({url:n="",headers:i={},fetch:l}){this.url=n,this.headers=i,this.fetch=lp(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,i=xl[0]){if(xl.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xl.join(", ")}`);try{return await he(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(le(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,i={}){try{return await he(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:rn})}catch(l){if(le(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:i}=n,l=Bi(n,["options"]),u=Object.assign(Object.assign({},l),i);return"newEmail"in l&&(u.new_email=l?.newEmail,delete u.newEmail),await he(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:j1,redirectTo:i?.redirectTo})}catch(i){if(le(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(n){try{return await he(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:rn})}catch(i){if(le(i))return{data:{user:null},error:i};throw i}}async listUsers(n){var i,l,u,c,h,m,v;try{const p={nextPage:null,lastPage:0,total:0},y=await he(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(c=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:Mv});if(y.error)throw y.error;const _=await y.json(),w=(h=y.headers.get("x-total-count"))!==null&&h!==void 0?h:0,S=(v=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&v!==void 0?v:[];return S.length>0&&(S.forEach(x=>{const N=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(x.split(";")[1].split("=")[1]);p[`${j}Page`]=N}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(le(p))return{data:{users:[]},error:p};throw p}}async getUserById(n){ji(n);try{return await he(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:rn})}catch(i){if(le(i))return{data:{user:null},error:i};throw i}}async updateUserById(n,i){ji(n);try{return await he(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:i,headers:this.headers,xform:rn})}catch(l){if(le(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,i=!1){ji(n);try{return await he(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:i},xform:rn})}catch(l){if(le(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){ji(n.userId);try{const{data:i,error:l}=await he(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:i,error:l}}catch(i){if(le(i))return{data:null,error:i};throw i}}async _deleteFactor(n){ji(n.userId),ji(n.id);try{return{data:await he(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(i){if(le(i))return{data:null,error:i};throw i}}async _listOAuthClients(n){var i,l,u,c,h,m,v;try{const p={nextPage:null,lastPage:0,total:0},y=await he(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(c=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:Mv});if(y.error)throw y.error;const _=await y.json(),w=(h=y.headers.get("x-total-count"))!==null&&h!==void 0?h:0,S=(v=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&v!==void 0?v:[];return S.length>0&&(S.forEach(x=>{const N=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(x.split(";")[1].split("=")[1]);p[`${j}Page`]=N}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(le(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(n){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(le(i))return{data:null,error:i};throw i}}async _getOAuthClient(n){try{return await he(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(le(i))return{data:null,error:i};throw i}}async _updateOAuthClient(n,i){try{return await he(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:i,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(le(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await he(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(le(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(n){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(le(i))return{data:null,error:i};throw i}}}function Bv(r={}){return{getItem:n=>r[n]||null,setItem:(n,i)=>{r[n]=i},removeItem:n=>{delete r[n]}}}const Cn={debug:!!(globalThis&&rp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Wc extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class op extends Wc{}class T1 extends Wc{}async function up(r,n,i){Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async u=>{if(u){Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,u.name);try{return await i()}finally{Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,u.name)}}else{if(n===0)throw Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new op(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Cn.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}const qv={};async function O1(r,n,i){var l;const u=(l=qv[r])!==null&&l!==void 0?l:Promise.resolve(),c=Promise.race([u.catch(()=>null),n>=0?new Promise((h,m)=>{setTimeout(()=>{m(new T1(`Acquiring process lock with name "${r}" timed out`))},n)}):null].filter(h=>h)).catch(h=>{if(h&&h.isAcquireTimeout)throw h;return null}).then(async()=>await i());return qv[r]=c.catch(async h=>{if(h&&h.isAcquireTimeout)return await u,null;throw h}),await c}function N1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function cp(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function A1(r){return parseInt(r,16)}function C1(r){const n=new TextEncoder().encode(r);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function R1(r){var n;const{chainId:i,domain:l,expirationTime:u,issuedAt:c=new Date,nonce:h,notBefore:m,requestId:v,resources:p,scheme:y,uri:_,version:w}=r;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((n=r.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const S=cp(r.address),x=y?`${y}://${l}`:l,N=r.statement?`${r.statement}
`:"",j=`${x} wants you to sign in with your Ethereum account:
${S}

${N}`;let k=`URI: ${_}
Version: ${w}
Chain ID: ${i}${h?`
Nonce: ${h}`:""}
Issued At: ${c.toISOString()}`;if(u&&(k+=`
Expiration Time: ${u.toISOString()}`),m&&(k+=`
Not Before: ${m.toISOString()}`),v&&(k+=`
Request ID: ${v}`),p){let B=`
Resources:`;for(const z of p){if(!z||typeof z!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${z}`);B+=`
- ${z}`}k+=B}return`${j}
${k}`}class tt extends Error{constructor({message:n,code:i,cause:l,name:u}){var c;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(c=u??(l instanceof Error?l.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=i}}class Ul extends tt{constructor(n,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:n}),this.name="WebAuthnUnknownError",this.originalError=i}}function k1({error:r,options:n}){var i,l,u;const{publicKey:c}=n;if(!c)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(n.signal instanceof AbortSignal)return new tt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((i=c.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new tt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(n.mediation==="conditional"&&((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new tt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((u=c.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new tt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new tt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new tt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return c.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new tt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new tt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const h=window.location.hostname;if(dp(h)){if(c.rp.id!==h)return new tt({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new tt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new tt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function U1({error:r,options:n}){const{publicKey:i}=n;if(!i)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(n.signal instanceof AbortSignal)return new tt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new tt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const l=window.location.hostname;if(dp(l)){if(i.rpId!==l)return new tt({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new tt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class D1{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const z1=new D1;function M1(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:n,user:i,excludeCredentials:l}=r,u=Bi(r,["challenge","user","excludeCredentials"]),c=Ci(n).buffer,h=Object.assign(Object.assign({},i),{id:Ci(i.id).buffer}),m=Object.assign(Object.assign({},u),{challenge:c,user:h});if(l&&l.length>0){m.excludeCredentials=new Array(l.length);for(let v=0;v<l.length;v++){const p=l[v];m.excludeCredentials[v]=Object.assign(Object.assign({},p),{id:Ci(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return m}function B1(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:n,allowCredentials:i}=r,l=Bi(r,["challenge","allowCredentials"]),u=Ci(n).buffer,c=Object.assign(Object.assign({},l),{challenge:u});if(i&&i.length>0){c.allowCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const m=i[h];c.allowCredentials[h]=Object.assign(Object.assign({},m),{id:Ci(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return c}function q1(r){var n;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const i=r;return{id:r.id,rawId:r.id,response:{attestationObject:Dn(new Uint8Array(r.response.attestationObject)),clientDataJSON:Dn(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function L1(r){var n;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const i=r,l=r.getClientExtensionResults(),u=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Dn(new Uint8Array(u.authenticatorData)),clientDataJSON:Dn(new Uint8Array(u.clientDataJSON)),signature:Dn(new Uint8Array(u.signature)),userHandle:u.userHandle?Dn(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function dp(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function Lv(){var r,n;return!!(ft()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function $1(r){try{const n=await navigator.credentials.create(r);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Ul("Browser returned unexpected credential type",n)}:{data:null,error:new Ul("Empty credential response",n)}}catch(n){return{data:null,error:k1({error:n,options:r})}}}async function H1(r){try{const n=await navigator.credentials.get(r);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Ul("Browser returned unexpected credential type",n)}:{data:null,error:new Ul("Empty credential response",n)}}catch(n){return{data:null,error:U1({error:n,options:r})}}}const V1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},G1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Dl(...r){const n=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),i=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),l={};for(const u of r)if(u)for(const c in u){const h=u[c];if(h!==void 0)if(Array.isArray(h))l[c]=h;else if(i(h))l[c]=h;else if(n(h)){const m=l[c];n(m)?l[c]=Dl(m,h):l[c]=Dl(h)}else l[c]=h}return l}function Y1(r,n){return Dl(V1,r,n||{})}function K1(r,n){return Dl(G1,r,n||{})}class P1{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:i,friendlyName:l,signal:u},c){try{const{data:h,error:m}=await this.client.mfa.challenge({factorId:n,webauthn:i});if(!h)return{data:null,error:m};const v=u??z1.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:p}=h.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${l}`),p.displayName||(p.displayName=p.name)}switch(h.webauthn.type){case"create":{const p=Y1(h.webauthn.credential_options.publicKey,c?.create),{data:y,error:_}=await $1({publicKey:p,signal:v});return y?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:y}},error:null}:{data:null,error:_}}case"request":{const p=K1(h.webauthn.credential_options.publicKey,c?.request),{data:y,error:_}=await H1(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:p,signal:v}));return y?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:y}},error:null}:{data:null,error:_}}}}catch(h){return le(h)?{data:null,error:h}:{data:null,error:new sn("Unexpected error in challenge",h)}}}async _verify({challengeId:n,factorId:i,webauthn:l}){return this.client.mfa.verify({factorId:i,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},c){if(!i)return{data:null,error:new ki("rpId is required for WebAuthn authentication")};try{if(!Lv())return{data:null,error:new sn("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this.challenge({factorId:n,webauthn:{rpId:i,rpOrigins:l},signal:u},{request:c});if(!h)return{data:null,error:m};const{webauthn:v}=h;return this._verify({factorId:n,challengeId:h.challengeId,webauthn:{type:v.type,rpId:i,rpOrigins:l,credential_response:v.credential_response}})}catch(h){return le(h)?{data:null,error:h}:{data:null,error:new sn("Unexpected error in authenticate",h)}}}async _register({friendlyName:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},c){if(!i)return{data:null,error:new ki("rpId is required for WebAuthn registration")};try{if(!Lv())return{data:null,error:new sn("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this._enroll({friendlyName:n});if(!h)return await this.client.mfa.listFactors().then(y=>{var _;return(_=y.data)===null||_===void 0?void 0:_.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===n&&w.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:m};const{data:v,error:p}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:i,rpOrigins:l},signal:u},{create:c});return v?this._verify({factorId:h.id,challengeId:v.challengeId,webauthn:{rpId:i,rpOrigins:l,type:v.webauthn.type,credential_response:v.webauthn.credential_response}}):{data:null,error:p}}catch(h){return le(h)?{data:null,error:h}:{data:null,error:new sn("Unexpected error in register",h)}}}}N1();const Q1={url:Pw,storageKey:Qw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Xw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function $v(r,n,i){return await i()}const xi={};class Ui{get jwks(){var n,i;return(i=(n=xi[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(n){xi[this.storageKey]=Object.assign(Object.assign({},xi[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,i;return(i=(n=xi[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){xi[this.storageKey]=Object.assign(Object.assign({},xi[this.storageKey]),{cachedAt:n})}constructor(n){var i,l,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},Q1),n);if(this.storageKey=c.storageKey,this.instanceID=(i=Ui.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,Ui.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&ft()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new Fc({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=lp(c.fetch),this.lock=c.lock||$v,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:this.persistSession&&ft()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=up:this.lock=$v,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new P1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:rp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Bv(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=Bv(this.memoryStorage)),ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Fg}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let i={},l="none";if(ft()&&(i=r1(window.location.href),this._isImplicitGrantCallback(i)?l="implicit":await this._isPKCECallback(i)&&(l="pkce")),ft()&&this.detectSessionInUrl&&l!=="none"){const{data:u,error:c}=await this._getSessionFromURL(i,l);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),np(c)){const v=(n=c.details)===null||n===void 0?void 0:n.code;if(v==="identity_already_exists"||v==="identity_not_found"||v==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:h,redirectType:m}=u;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return le(i)?this._returnResult({error:i}):this._returnResult({error:new sn("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var i,l,u;try{const c=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(i=n?.options)===null||i===void 0?void 0:i.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(u=n?.options)===null||u===void 0?void 0:u.captchaToken}},xform:Ft}),{data:h,error:m}=c;if(m||!h)return this._returnResult({data:{user:null,session:null},error:m});const v=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",v)),this._returnResult({data:{user:p,session:v},error:null})}catch(c){if(le(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(n){var i,l,u;try{let c;if("email"in n){const{email:y,password:_,options:w}=n;let S=null,x=null;this.flowType==="pkce"&&([S,x]=await Ei(this.storage,this.storageKey)),c=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:y,password:_,data:(i=w?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:S,code_challenge_method:x},xform:Ft})}else if("phone"in n){const{phone:y,password:_,options:w}=n;c=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:_,data:(l=w?.data)!==null&&l!==void 0?l:{},channel:(u=w?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Ft})}else throw new $s("You must provide either an email or phone number and a password");const{data:h,error:m}=c;if(m||!h)return await ht(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const v=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",v)),this._returnResult({data:{user:p,session:v},error:null})}catch(c){if(await ht(this.storage,`${this.storageKey}-code-verifier`),le(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(n){try{let i;if("email"in n){const{email:c,password:h,options:m}=n;i=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:zv})}else if("phone"in n){const{phone:c,password:h,options:m}=n;i=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:zv})}else throw new $s("You must provide either an email or phone number and a password");const{data:l,error:u}=i;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new Nn;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:u})}catch(i){if(le(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(n){var i,l,u,c;return await this._handleProviderSignIn(n.provider,{redirectTo:(i=n.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(c=n.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:i}=n;switch(i){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(n){var i,l,u,c,h,m,v,p,y,_,w;let S,x;if("message"in n)S=n.message,x=n.signature;else{const{chain:N,wallet:j,statement:k,options:B}=n;let z;if(ft())if(typeof j=="object")z=j;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")z=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!B?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=j}const Q=new URL((i=B?.url)!==null&&i!==void 0?i:window.location.href),te=await z.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!te||te.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Z=cp(te[0]);let J=(l=B?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!J){const q=await z.request({method:"eth_chainId"});J=A1(q)}const X={domain:Q.host,address:Z,statement:k,uri:Q.href,version:"1",chainId:J,nonce:(u=B?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(h=(c=B?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(m=B?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(v=B?.signInWithEthereum)===null||v===void 0?void 0:v.notBefore,requestId:(p=B?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(y=B?.signInWithEthereum)===null||y===void 0?void 0:y.resources};S=R1(X),x=await z.request({method:"personal_sign",params:[C1(S),Z]})}try{const{data:N,error:j}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:x},!((_=n.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(w=n.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Ft});if(j)throw j;if(!N||!N.session||!N.user){const k=new Nn;return this._returnResult({data:{user:null,session:null},error:k})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:j})}catch(N){if(le(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(n){var i,l,u,c,h,m,v,p,y,_,w,S;let x,N;if("message"in n)x=n.message,N=n.signature;else{const{chain:j,wallet:k,statement:B,options:z}=n;let Q;if(ft())if(typeof k=="object")Q=k;else{const Z=window;if("solana"in Z&&typeof Z.solana=="object"&&("signIn"in Z.solana&&typeof Z.solana.signIn=="function"||"signMessage"in Z.solana&&typeof Z.solana.signMessage=="function"))Q=Z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Q=k}const te=new URL((i=z?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in Q&&Q.signIn){const Z=await Q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},z?.signInWithSolana),{version:"1",domain:te.host,uri:te.href}),B?{statement:B}:null));let J;if(Array.isArray(Z)&&Z[0]&&typeof Z[0]=="object")J=Z[0];else if(Z&&typeof Z=="object"&&"signedMessage"in Z&&"signature"in Z)J=Z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)x=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),N=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Q)||typeof Q.signMessage!="function"||!("publicKey"in Q)||typeof Q!="object"||!Q.publicKey||!("toBase58"in Q.publicKey)||typeof Q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${te.host} wants you to sign in with your Solana account:`,Q.publicKey.toBase58(),...B?["",B,""]:[""],"Version: 1",`URI: ${te.href}`,`Issued At: ${(u=(l=z?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((c=z?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${z.signInWithSolana.notBefore}`]:[],...!((h=z?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${z.signInWithSolana.expirationTime}`]:[],...!((m=z?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${z.signInWithSolana.chainId}`]:[],...!((v=z?.signInWithSolana)===null||v===void 0)&&v.nonce?[`Nonce: ${z.signInWithSolana.nonce}`]:[],...!((p=z?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${z.signInWithSolana.requestId}`]:[],...!((_=(y=z?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||_===void 0)&&_.length?["Resources",...z.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);const Z=await Q.signMessage(new TextEncoder().encode(x),"utf8");if(!Z||!(Z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=Z}}try{const{data:j,error:k}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Dn(N)},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(S=n.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Ft});if(k)throw k;if(!j||!j.session||!j.user){const B=new Nn;return this._returnResult({data:{user:null,session:null},error:B})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:k})}catch(j){if(le(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(n){const i=await On(this.storage,`${this.storageKey}-code-verifier`),[l,u]=(i??"").split("/");try{if(!l&&this.flowType==="pkce")throw new ip;const{data:c,error:h}=await he(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:Ft});if(await ht(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!c||!c.session||!c.user){const m=new Nn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:u??null}),error:h})}catch(c){if(await ht(this.storage,`${this.storageKey}-code-verifier`),le(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(n){try{const{options:i,provider:l,token:u,access_token:c,nonce:h}=n,m=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:c,nonce:h,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Ft}),{data:v,error:p}=m;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!v||!v.session||!v.user){const y=new Nn;return this._returnResult({data:{user:null,session:null},error:y})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:v,error:p})}catch(i){if(le(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(n){var i,l,u,c,h;try{if("email"in n){const{email:m,options:v}=n;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Ei(this.storage,this.storageKey));const{error:_}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(i=v?.data)!==null&&i!==void 0?i:{},create_user:(l=v?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:v?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in n){const{phone:m,options:v}=n,{data:p,error:y}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(u=v?.data)!==null&&u!==void 0?u:{},create_user:(c=v?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:v?.captchaToken},channel:(h=v?.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:y})}throw new $s("You must provide either an email or phone number.")}catch(m){if(await ht(this.storage,`${this.storageKey}-code-verifier`),le(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(n){var i,l;try{let u,c;"options"in n&&(u=(i=n.options)===null||i===void 0?void 0:i.redirectTo,c=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:h,error:m}=await he(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:c}}),redirectTo:u,xform:Ft});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const v=h.session,p=h.user;return v?.access_token&&(await this._saveSession(v),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",v)),this._returnResult({data:{user:p,session:v},error:null})}catch(u){if(le(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(n){var i,l,u,c,h;try{let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Ei(this.storage,this.storageKey));const p=await he(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(i=n.options)===null||i===void 0?void 0:i.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=n?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:v}),headers:this.headers,xform:E1});return!((c=p.data)===null||c===void 0)&&c.url&&ft()&&!(!((h=n.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(m){if(await ht(this.storage,`${this.storageKey}-code-verifier`),le(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;if(l)throw l;if(!i)throw new jt;const{error:u}=await he(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(n){if(le(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const i=`${this.url}/resend`;if("email"in n){const{email:l,type:u,options:c}=n,{error:h}=await he(this.fetch,"POST",i,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in n){const{phone:l,type:u,options:c}=n,{data:h,error:m}=await he(this.fetch,"POST",i,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:m})}throw new $s("You must provide either an email or phone number and a type")}catch(i){if(le(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(n,i){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await i()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=i();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await n(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const i=await On(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?n=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<gc:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const h=await On(this.userStorage,this.storageKey+"-user");h?.user?n.user=h.user:n.user=yc()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};n.user=b1(n.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:u,error:c}=await this._callRefreshToken(n.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const i=await this._acquireLock(-1,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(n){try{return n?await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:rn}):await this._useSession(async i=>{var l,u,c;const{data:h,error:m}=i;if(m)throw m;return!(!((l=h.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jt}:await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0,xform:rn})})}catch(i){if(le(i))return ap(i)&&(await this._removeSession(),await ht(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(n,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,i))}async _updateUser(n,i={}){try{return await this._useSession(async l=>{const{data:u,error:c}=l;if(c)throw c;if(!u.session)throw new jt;const h=u.session;let m=null,v=null;this.flowType==="pkce"&&n.email!=null&&([m,v]=await Ei(this.storage,this.storageKey));const{data:p,error:y}=await he(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:m,code_challenge_method:v}),jwt:h.access_token,xform:rn});if(y)throw y;return h.user=p.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(l){if(await ht(this.storage,`${this.storageKey}-code-verifier`),le(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new jt;const i=Date.now()/1e3;let l=i,u=!0,c=null;const{payload:h}=pc(n.access_token);if(h.exp&&(l=h.exp,u=l<=i),u){const{data:m,error:v}=await this._callRefreshToken(n.refresh_token);if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!m)return{data:{user:null,session:null},error:null};c=m}else{const{data:m,error:v}=await this._getUser(n.access_token);if(v)throw v;c={access_token:n.access_token,refresh_token:n.refresh_token,user:m.user,token_type:"bearer",expires_in:l-i,expires_at:l},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(i){if(le(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async i=>{var l;if(!n){const{data:h,error:m}=i;if(m)throw m;n=(l=h.session)!==null&&l!==void 0?l:void 0}if(!n?.refresh_token)throw new jt;const{data:u,error:c}=await this._callRefreshToken(n.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(le(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(n,i){try{if(!ft())throw new Hs("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Hs(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Mc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Hs("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Mc("No code detected.");const{data:B,error:z}=await this._exchangeCodeForSession(n.code);if(z)throw z;const Q=new URL(window.location.href);return Q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Q.toString()),{data:{session:B.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:u,access_token:c,refresh_token:h,expires_in:m,expires_at:v,token_type:p}=n;if(!c||!m||!h||!p)throw new Hs("No session defined in URL");const y=Math.round(Date.now()/1e3),_=parseInt(m);let w=y+_;v&&(w=parseInt(v));const S=w-y;S*1e3<=Ti&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${_}s`);const x=w-_;y-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,w,y):y-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,w,y);const{data:N,error:j}=await this._getUser(c);if(j)throw j;const k={provider_token:l,provider_refresh_token:u,access_token:c,expires_in:_,expires_at:w,refresh_token:h,token_type:p,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:n.type},error:null})}catch(l){if(le(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const i=await On(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&i)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async i=>{var l;const{data:u,error:c}=i;if(c)return this._returnResult({error:c});const h=(l=u.session)===null||l===void 0?void 0:l.access_token;if(h){const{error:m}=await this.admin.signOut(h,n);if(m&&!(tp(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return n!=="others"&&(await this._removeSession(),await ht(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const i=s1(),l={id:i,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async i=>{var l,u;try{const{data:{session:c},error:h}=i;if(h)throw h;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",n,"session",c)}catch(c){await((u=this.stateChangeEmitters.get(n))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",c),console.error(c)}})}async resetPasswordForEmail(n,i={}){let l=null,u=null;this.flowType==="pkce"&&([l,u]=await Ei(this.storage,this.storageKey,!0));try{return await he(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(c){if(await ht(this.storage,`${this.storageKey}-code-verifier`),le(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var n;try{const{data:i,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=i.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(i){if(le(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var i;try{const{data:l,error:u}=await this._useSession(async c=>{var h,m,v,p,y;const{data:_,error:w}=c;if(w)throw w;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(h=n.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=n.options)===null||m===void 0?void 0:m.scopes,queryParams:(v=n.options)===null||v===void 0?void 0:v.queryParams,skipBrowserRedirect:!0});return await he(this.fetch,"GET",S,{headers:this.headers,jwt:(y=(p=_.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(u)throw u;return ft()&&!(!((i=n.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:n.provider,url:l?.url},error:null})}catch(l){if(le(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async i=>{var l;try{const{error:u,data:{session:c}}=i;if(u)throw u;const{options:h,provider:m,token:v,access_token:p,nonce:y}=n,_=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=c?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:m,id_token:v,access_token:p,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Ft}),{data:w,error:S}=_;return S?this._returnResult({data:{user:null,session:null},error:S}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Nn}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:S}))}catch(u){if(await ht(this.storage,`${this.storageKey}-code-verifier`),le(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(n){try{return await this._useSession(async i=>{var l,u;const{data:c,error:h}=i;if(h)throw h;return await he(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(u=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})})}catch(i){if(le(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(n){const i=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{const l=Date.now();return await u1(async u=>(u>0&&await o1(200*Math.pow(2,u-1)),this._debug(i,"refreshing attempt",u),await he(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Ft})),(u,c)=>{const h=200*Math.pow(2,u);return c&&jl(c)&&Date.now()+h-l<Ti})}catch(l){if(this._debug(i,"error",l),le(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(i,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,i){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",i,"url",l),ft()&&!i.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,i;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const u=await On(this.storage,this.storageKey);if(u&&this.userStorage){let h=await On(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:u.user},await Oi(this.userStorage,this.storageKey+"-user",h)),u.user=(n=h?.user)!==null&&n!==void 0?n:yc()}else if(u&&!u.user&&!u.user){const h=await On(this.storage,this.storageKey+"-user");h&&h?.user?(u.user=h.user,await ht(this.storage,this.storageKey+"-user"),await Oi(this.storage,this.storageKey,u)):u.user=yc()}if(this._debug(l,"session from storage",u),!this._isValidSession(u)){this._debug(l,"session is not valid"),u!==null&&await this._removeSession();return}const c=((i=u.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<gc;if(this._debug(l,`session has${c?"":" not"} expired with margin of ${gc}s`),c){if(this.autoRefreshToken&&u.refresh_token){const{error:h}=await this._callRefreshToken(u.refresh_token);h&&(console.error(h),jl(h)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(u.access_token);!m&&h?.user?(u.user=h.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(l,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(l,"error",u),console.error(u);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var i,l;if(!n)throw new jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new $l;const{data:c,error:h}=await this._refreshAccessToken(n);if(h)throw h;if(!c.session)throw new jt;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const m={data:c.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(c){if(this._debug(u,"error",c),le(c)){const h={data:null,error:c};return jl(c)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(h),h}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(c),c}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(n,i,l=!0){const u=`#_notifyAllSubscribers(${n})`;this._debug(u,"begin",i,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:i});const c=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(n,i)}catch(v){c.push(v)}});if(await Promise.all(h),c.length>0){for(let m=0;m<c.length;m+=1)console.error(c[m]);throw c[0]}}finally{this._debug(u,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await ht(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},n),l=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&i.user&&await Oi(this.userStorage,this.storageKey+"-user",{user:i.user});const u=Object.assign({},i);delete u.user;const c=Uv(u);await Oi(this.storage,this.storageKey,c)}else{const u=Uv(i);await Oi(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ht(this.storage,this.storageKey),await ht(this.storage,this.storageKey+"-code-verifier"),await ht(this.storage,this.storageKey+"-user"),this.userStorage&&await ht(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ft()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Ti);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async i=>{const{data:{session:l}}=i;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-n)/Ti);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Ti}ms, refresh threshold is ${Dc} ticks`),u<=Dc&&await this._callRefreshToken(l.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Wc)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ft()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const i=`#_onVisibilityChanged(${n})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,i,l){const u=[`provider=${encodeURIComponent(i)}`];if(l?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&u.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[c,h]=await Ei(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(h)}`});u.push(m.toString())}if(l?.queryParams){const c=new URLSearchParams(l.queryParams);u.push(c.toString())}return l?.skipBrowserRedirect&&u.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${u.join("&")}`}async _unenroll(n){try{return await this._useSession(async i=>{var l;const{data:u,error:c}=i;return c?this._returnResult({data:null,error:c}):await he(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token})})}catch(i){if(le(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(n){try{return await this._useSession(async i=>{var l,u;const{data:c,error:h}=i;if(h)return this._returnResult({data:null,error:h});const m=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:v,error:p}=await he(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});return p?this._returnResult({data:null,error:p}):(n.factorType==="totp"&&v.type==="totp"&&(!((u=v?.totp)===null||u===void 0)&&u.qr_code)&&(v.totp.qr_code=`data:image/svg+xml;utf-8,${v.totp.qr_code}`),this._returnResult({data:v,error:null}))})}catch(i){if(le(i))return this._returnResult({data:null,error:i});throw i}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var l;const{data:u,error:c}=i;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?q1(n.webauthn.credential_response):L1(n.webauthn.credential_response)})}:{code:n.code}),{data:m,error:v}=await he(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:h,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return v?this._returnResult({data:null,error:v}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:v}))})}catch(i){if(le(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var l;const{data:u,error:c}=i;if(c)return this._returnResult({data:null,error:c});const h=await he(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});if(h.error)return h;const{data:m}=h;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:M1(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:B1(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(le(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(n){const{data:i,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:i.id,code:n.code})}async _listFactors(){var n;const{data:{user:i},error:l}=await this.getUser();if(l)return{data:null,error:l};const u={all:[],phone:[],totp:[],webauthn:[]};for(const c of(n=i?.factors)!==null&&n!==void 0?n:[])u.all.push(c),c.status==="verified"&&u[c.factor_type].push(c);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){var n,i;const{data:{session:l},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=pc(l.access_token);let h=null;c.aal&&(h=c.aal);let m=h;((i=(n=l.user.factors)===null||n===void 0?void 0:n.filter(y=>y.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(m="aal2");const p=c.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async i=>{const{data:{session:l},error:u}=i;return u?this._returnResult({data:null,error:u}):l?await he(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new jt})})}catch(i){if(le(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(n,i){try{return await this._useSession(async l=>{const{data:{session:u},error:c}=l;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new jt});const h=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&ft()&&!i?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(l){if(le(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,i){try{return await this._useSession(async l=>{const{data:{session:u},error:c}=l;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new jt});const h=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&ft()&&!i?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(l){if(le(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;return l?this._returnResult({data:null,error:l}):i?await he(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new jt})})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async i=>{const{data:{session:l},error:u}=i;return u?this._returnResult({data:null,error:u}):l?(await he(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new jt})})}catch(i){if(le(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(n,i={keys:[]}){let l=i.keys.find(m=>m.kid===n);if(l)return l;const u=Date.now();if(l=this.jwks.keys.find(m=>m.kid===n),l&&this.jwks_cached_at+Iw>u)return l;const{data:c,error:h}=await he(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=u,l=c.keys.find(m=>m.kid===n),!l)?null:l}async getClaims(n,i={}){try{let l=n;if(!l){const{data:S,error:x}=await this.getSession();if(x||!S.session)return this._returnResult({data:null,error:x});l=S.session.access_token}const{header:u,payload:c,signature:h,raw:{header:m,payload:v}}=pc(l);i?.allowExpired||g1(c.exp);const p=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!p){const{error:S}=await this.getUser(l);if(S)throw S;return{data:{claims:c,header:u,signature:h},error:null}}const y=p1(u.alg),_=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,_,h,n1(`${m}.${v}`)))throw new Rl("Invalid JWT signature");return{data:{claims:c,header:u,signature:h},error:null}}catch(l){if(le(l))return this._returnResult({data:null,error:l});throw l}}}Ui.nextInstanceID={};const X1=Fc,hp=Ui;class J1 extends hp{constructor(n){super(n)}}class fp{constructor(n,i,l){var u,c,h;this.supabaseUrl=n,this.supabaseKey=i;const m=Kw(n);if(!i)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const v=`sb-${m.hostname.split(".")[0]}-auth-token`,p={db:Bw,realtime:Lw,auth:Object.assign(Object.assign({},qw),{storageKey:v}),global:Mw},y=Yw(l??{},p);this.storageKey=(u=y.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(_,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=y.auth)!==null&&h!==void 0?h:{},this.headers,y.global.fetch),this.fetch=Vw(i,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new L_(new URL("rest/v1",m).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new Uw(this.storageUrl.href,this.headers,this.fetch,l?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new z_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,i={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,i,l)}channel(n,i={config:{}}){return this.realtime.channel(n,i)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n,i;if(this.accessToken)return await this.accessToken();const{data:l}=await this.auth.getSession();return(i=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:i,detectSessionInUrl:l,storage:u,userStorage:c,storageKey:h,flowType:m,lock:v,debug:p,throwOnError:y},_,w){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new J1({url:this.authUrl.href,headers:Object.assign(Object.assign({},S),_),storageKey:h,autoRefreshToken:n,persistSession:i,detectSessionInUrl:l,storage:u,userStorage:c,flowType:m,lock:v,debug:p,throwOnError:y,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new Qg(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,l)=>{this._handleTokenChanged(i,"CLIENT",l?.access_token)})}_handleTokenChanged(n,i,l){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==l?(this.changedAccessToken=l,this.realtime.setAuth(l)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const I1=(r,n,i)=>new fp(r,n,i);function Z1(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const n=r.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Z1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const F1=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:X1,AuthApiError:ep,AuthClient:hp,AuthError:ki,AuthImplicitGrantRedirectError:Hs,AuthInvalidCredentialsError:$s,AuthInvalidJwtError:Rl,AuthInvalidTokenResponseError:Nn,AuthPKCECodeVerifierMissingError:ip,AuthPKCEGrantCodeExchangeError:Mc,AuthRetryableFetchError:Cl,AuthSessionMissingError:jt,AuthUnknownError:sn,AuthWeakPasswordError:Bc,CustomAuthError:ua,get FunctionRegion(){return Al},FunctionsError:ql,FunctionsFetchError:zg,FunctionsHttpError:xc,FunctionsRelayError:jc,GoTrueAdminApi:Fc,GoTrueClient:Ui,NavigatorLockAcquireTimeoutError:op,PostgrestError:$_,REALTIME_CHANNEL_STATES:W_,get REALTIME_LISTEN_TYPES(){return Ai},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Cc},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Ac},get REALTIME_SUBSCRIBE_STATES(){return ra},RealtimeChannel:Un,RealtimeClient:Qg,RealtimePresence:Ni,SIGN_OUT_SCOPES:xl,SupabaseClient:fp,WebSocketFactory:Vg,createClient:I1,isAuthApiError:tp,isAuthError:le,isAuthImplicitGrantRedirectError:np,isAuthPKCECodeVerifierMissingError:Zw,isAuthRetryableFetchError:jl,isAuthSessionMissingError:ap,isAuthWeakPasswordError:Fw,lockInternals:Cn,navigatorLock:up,processLock:O1},Symbol.toStringTag,{value:"Module"})),{createClient:W1}=F1,be=W1("https://fjgunsokakbcycuiwllg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZqZ3Vuc29rYWtiY3ljdWl3bGxnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYzMzQ4NTQsImV4cCI6MjA4MTkxMDg1NH0.9l7PVCzbN2Y7VjUfyZInFK9ooeVaGcd5SCTCT43u04k"),mp=T.createContext(null),Mn=()=>T.useContext(mp);function eS({children:r}){const[n,i]=T.useState(null),[l,u]=T.useState(!0);T.useEffect(()=>{be.auth.getSession().then(({data:v})=>{i(v.session?.user??null),u(!1)});const{data:{subscription:m}}=be.auth.onAuthStateChange((v,p)=>{i(p?.user??null)});return()=>m.unsubscribe()},[]);const c=async()=>{await be.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}})},h=async()=>{await be.auth.signOut()};return f.jsx(mp.Provider,{value:{user:n,loading:l,signInWithGoogle:c,signOut:h},children:r})}const tS=()=>{const[r,n]=T.useState(""),[i,l]=T.useState(!1),{signInWithGoogle:u}=Mn();Ra();const c=async()=>{n(""),l(!0);try{await u()}catch(h){n(h.message||"Erro ao fazer login com Google"),l(!1)}};return f.jsx("div",{className:"login-container",children:f.jsxs("div",{className:"login-box",children:[f.jsx("h1",{className:"login-title",children:"Bem-vindo"}),f.jsxs("div",{className:"login-form",children:[r&&f.jsx("div",{className:"error-message",children:r}),f.jsxs("button",{onClick:c,className:"login-button google-button",disabled:i,children:[f.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",children:[f.jsx("path",{d:"M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z",fill:"#4285F4"}),f.jsx("path",{d:"M9.003 18c2.43 0 4.467-.806 5.956-2.18L12.05 13.56c-.806.54-1.836.86-3.047.86-2.344 0-4.328-1.584-5.036-3.711H.957v2.332C2.438 15.983 5.482 18 9.003 18z",fill:"#34A853"}),f.jsx("path",{d:"M3.964 10.712c-.18-.54-.282-1.117-.282-1.71 0-.593.102-1.17.282-1.71V4.96H.957C.347 6.175 0 7.55 0 9.002c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05"}),f.jsx("path",{d:"M9.003 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.464.891 11.428 0 9.002 0 5.482 0 2.438 2.017.957 4.958L3.964 7.29c.708-2.127 2.692-3.71 5.036-3.71z",fill:"#EA4335"})]}),i?"Carregando...":"Continuar com Google"]})]})]})})},la=async r=>{const{data:n,error:i}=await be.from("users").select("*").eq("id",r).single();if(i)throw i;return n},aS=async r=>{try{const{data:n,error:i}=await be.rpc("generate_daily_loot",{p_user_id:r});if(i)throw i;return n}catch(n){throw console.error("Erro ao gerar loot:",n),n}},Hv=async r=>{try{const{data:n,error:i}=await be.rpc("check_daily_loot_status",{p_user_id:r});if(i)throw i;return n}catch(n){throw console.error("Erro ao verificar status do loot:",n),n}},nS=async(r,n)=>{const{data:i,error:l}=await be.rpc("inscrever_torneio",{p_user_id:r,p_tipo_torneio_id:n});if(l)throw l;return i},iS=async r=>{const{data:n,error:i}=await be.rpc("cancelar_inscricao_torneio",{p_user_id:r});if(i)throw i;return n},Vv=async r=>{const{data:n,error:i}=await be.functions.invoke("processar-torneio",{body:{torneio_id:r}});if(i)throw i;return n},bc=async(r,n=!1)=>{const{data:i,error:l}=await be.rpc("obter_torneio_atual",{p_user_id:r,p_incluir_finalizados:n});if(l)throw l;return i},sS=async()=>{const{data:r,error:n}=await be.from("tipos_torneio").select("*").eq("ativo",!0).order("taxa_inscricao");if(n)throw n;return r},rS=async r=>{const{data:n,error:i}=await be.from("torneios").select(`
      id,
      status,
      vencedor_id,
      finalizado_em,
      log,
      created_at,
      tipo_torneio:tipo_torneio_id (
        nome,
        premio_vencedor
      ),
      jogador1:jogador1_id (
        id,
        nome,
        avatar,
        nivel
      ),
      jogador2:jogador2_id (
        id,
        nome,
        avatar,
        nivel
      )
    `).or(`jogador1_id.eq.${r},jogador2_id.eq.${r}`).eq("status","finalizado").order("finalizado_em",{ascending:!1}).limit(10);if(i)throw i;return n},ed=async r=>{const{data:n,error:i}=await be.from("user_skills").select(`
      *,
      skill:skills(*)
    `).eq("user_id",r).order("created_at",{ascending:!1});if(i)throw i;return n},Gv=async r=>{const{data:n,error:i}=await be.from("user_skills").select(`
      *,
      skill:skills(*)
    `).eq("user_id",r).not("slot","is",null).order("slot",{ascending:!0});if(i)throw i;return n},lS=async(r,n)=>{const{data:i,error:l}=await be.rpc("equip_build_batch",{p_user_id:r,p_skill_slots:n});if(l)throw l;return i},oS=async r=>{const{data:n,error:i}=await be.from("user_xp_items").select(`
      *,
      item:xp_item_definitions(*)
    `).eq("user_id",r).order("created_at",{ascending:!1});if(i)throw i;return n},uS=async(r,n,i=1)=>{const{data:l,error:u}=await be.rpc("use_xp_item",{p_user_id:r,p_item_id:n,p_quantidade:i});if(u)throw u;return l},cS=async r=>{const{data:n,error:i}=await be.from("user_builds").select("*").eq("user_id",r).order("created_at",{ascending:!1});if(i)throw i;return n},dS=async(r,n)=>{const{data:i,error:l}=await be.rpc("save_current_build",{p_user_id:r,p_nome:n});if(l)throw l;return i},hS=async(r,n,i)=>{const{data:l,error:u}=await be.rpc("update_build",{p_user_id:r,p_build_id:n,p_nome:i});if(u)throw u;return l},fS=async(r,n)=>{const{data:i,error:l}=await be.rpc("delete_build",{p_user_id:r,p_build_id:n});if(l)throw l;return i},mS=async(r,n,i,l,u)=>{const{data:c,error:h}=await be.rpc("list_item_on_marketplace",{p_user_id:r,p_item_type:n,p_item_id:i,p_quantidade:l,p_preco:u});if(h)throw h;return c},vS=async(r=null)=>{try{let n=be.from("marketplace_listings").select("*").eq("status","ativa").order("created_at",{ascending:!1});r&&r!=="my_listings"&&(n=n.eq("item_type",r));const{data:i,error:l}=await n;if(l)throw l;if(!i||i.length===0)return[];const u=[...new Set(i.map(N=>N.seller_id))],{data:c,error:h}=await be.from("users").select("id, nome, avatar").in("id",u);if(h)throw h;const m={};(c||[]).forEach(N=>{m[N.id]=N});const v=i.filter(N=>N.item_type==="skill"),p=i.filter(N=>N.item_type==="xp_item"),[y,_]=await Promise.all([v.length>0?be.from("skills").select("*").in("id",v.map(N=>N.item_id)).then(({data:N,error:j})=>{if(j)throw j;return N||[]}):Promise.resolve([]),p.length>0?be.from("xp_item_definitions").select("*").in("id",p.map(N=>N.item_id)).then(({data:N,error:j})=>{if(j)throw j;return N||[]}):Promise.resolve([])]),w={};y.forEach(N=>{w[N.id]=N});const S={};return _.forEach(N=>{S[N.id]=N}),i.map(N=>({...N,seller:m[N.seller_id]||null,item_details:N.item_type==="skill"?w[N.item_id]:S[N.item_id]}))}catch(n){throw console.error("Erro ao buscar marketplace:",n),n}},gS=async(r,n)=>{const{data:i,error:l}=await be.rpc("buy_from_marketplace",{p_buyer_id:r,p_listing_id:n});if(l)throw l;return i},pS=async(r,n)=>{const{data:i,error:l}=await be.rpc("cancel_marketplace_listing",{p_user_id:r,p_listing_id:n});if(l)throw l;return i},yS=async r=>{try{const{data:n,error:i}=await be.from("marketplace_listings").select("*").eq("seller_id",r).order("created_at",{ascending:!1});if(i)throw i;if(!n||n.length===0)return[];const l=n.filter(y=>y.item_type==="skill"),u=n.filter(y=>y.item_type==="xp_item"),[c,h]=await Promise.all([l.length>0?be.from("skills").select("*").in("id",l.map(y=>y.item_id)).then(({data:y,error:_})=>{if(_)throw _;return y||[]}):Promise.resolve([]),u.length>0?be.from("xp_item_definitions").select("*").in("id",u.map(y=>y.item_id)).then(({data:y,error:_})=>{if(_)throw _;return y||[]}):Promise.resolve([])]),m={};c.forEach(y=>{m[y.id]=y});const v={};return h.forEach(y=>{v[y.id]=y}),n.map(y=>({...y,item_details:y.item_type==="skill"?m[y.item_id]:v[y.item_id]}))}catch(n){throw console.error("Erro ao buscar listagens do usurio:",n),n}};const bS=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_S=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,i,l)=>l?l.toUpperCase():i.toLowerCase()),Yv=r=>{const n=_S(r);return n.charAt(0).toUpperCase()+n.slice(1)},vp=(...r)=>r.filter((n,i,l)=>!!n&&n.trim()!==""&&l.indexOf(n)===i).join(" ").trim(),wS=r=>{for(const n in r)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};var SS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ES=T.forwardRef(({color:r="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:u="",children:c,iconNode:h,...m},v)=>T.createElement("svg",{ref:v,...SS,width:n,height:n,stroke:r,strokeWidth:l?Number(i)*24/Number(n):i,className:vp("lucide",u),...!c&&!wS(m)&&{"aria-hidden":"true"},...m},[...h.map(([p,y])=>T.createElement(p,y)),...Array.isArray(c)?c:[c]]));const Me=(r,n)=>{const i=T.forwardRef(({className:l,...u},c)=>T.createElement(ES,{ref:c,iconNode:n,className:vp(`lucide-${bS(Yv(r))}`,`lucide-${r}`,l),...u}));return i.displayName=Yv(r),i};const jS=[["path",{d:"M4 10a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z",key:"1ol0lm"}],["path",{d:"M8 10h8",key:"c7uz4u"}],["path",{d:"M8 18h8",key:"1no2b1"}],["path",{d:"M8 22v-6a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v6",key:"1fr6do"}],["path",{d:"M9 6V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2",key:"donm21"}]],gp=Me("backpack",jS);const xS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],zs=Me("chevron-down",xS);const TS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],OS=Me("chevron-left",TS);const NS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],AS=Me("chevron-right",NS);const CS=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ms=Me("chevron-up",CS);const RS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],kS=Me("circle-alert",RS);const US=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],pp=Me("circle-check-big",US);const DS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],yp=Me("circle-x",DS);const zS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],MS=Me("clock",zS);const BS=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],qS=Me("crown",BS);const LS=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],$S=Me("dollar-sign",LS);const HS=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],VS=Me("heart",HS);const GS=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],YS=Me("house",GS);const KS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Kv=Me("info",KS);const PS=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Pv=Me("pen",PS);const QS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],XS=Me("plus",QS);const JS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],IS=Me("save",JS);const ZS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}],["path",{d:"M12 17h.01",key:"p32p05"}]],FS=Me("shield-question-mark",ZS);const WS=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Qv=Me("shopping-cart",WS);const eE=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],bp=Me("sparkles",eE);const tE=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],_p=Me("star",tE);const aE=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],nE=Me("store",aE);const iE=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],sE=Me("sword",iE);const rE=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],lE=Me("trash-2",rE);const oE=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],uE=Me("triangle-alert",oE);const cE=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],dE=Me("upload",cE);const hE=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],fE=Me("wallet",hE);const mE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zn=Me("x",mE);function wp({isOpen:r,onClose:n}){const[i,l]=T.useState(null),[u,c]=T.useState(0),h=w=>{l(i===w?null:w)},m=[{range:"01-10",chances:[77,20,2,0,0,1]},{range:"11-20",chances:[59,29,10,1,0,1]},{range:"21-30",chances:[49,33,15,.7,.3,2]},{range:"31-40",chances:[39,36,18.5,2.5,1,3]},{range:"41-50",chances:[28,41,23,3,1.5,3.5]},{range:"51-60",chances:[20,39,29.5,5,2.5,4]}],v=[{name:"Frasco iniciante",color:"#4caf50"},{name:"Frascos iniciantes ",color:"#2196f3"},{name:"Frasco Concentrado",color:"#9c27b0"},{name:"Frasco da Evoluo",color:"#ff9800"},{name:"Frasco do Despertar",color:"#f44336"},{name:"Magias",color:"#ffd700"}],p=m[u],y=()=>{c(w=>w===0?m.length-1:w-1)},_=()=>{c(w=>w===m.length-1?0:w+1)};return r?f.jsx("div",{className:"info-modal-overlay",onClick:n,children:f.jsxs("div",{className:"info-modal-content",onClick:w=>w.stopPropagation(),children:[f.jsxs("div",{className:"info-modal-header",children:[f.jsx("h2",{children:"Informaes"}),f.jsx("button",{className:"info-modal-close",onClick:n,children:f.jsx(zn,{size:24})})]}),f.jsxs("div",{className:"info-modal-body",children:[f.jsxs("div",{className:"info-section",children:[f.jsxs("button",{className:"info-section-header",onClick:()=>h("about"),children:[f.jsx("span",{children:"Sobre o Projeto"}),i==="about"?f.jsx(Ms,{size:20}):f.jsx(zs,{size:20})]}),i==="about"&&f.jsxs("div",{className:"info-section-content",children:[f.jsx("p",{children:"Nada de Pay To Win, nada de indicados s para criadores de contedos ganharem, nem horas em frente ao pc para ganhar centavos."}),f.jsx("p",{children:"Minha ideia com esse projeto  ser algo simples, que no tome tempo. Farm fcil, torneios rpidos, preos acessveis."}),f.jsx("p",{children:'O "farm"  gratuito, e tudo pode ser listado no mercado para vender para outros jogadores. Farme frascos de experincias para subir de nvel (mximo 60) e, talvez, conseguir habilidades para poder batalhar nos duelos pvp. '})]})]}),f.jsxs("div",{className:"info-section",children:[f.jsxs("button",{className:"info-section-header",onClick:()=>h("howto"),children:[f.jsx("span",{children:"Funcionamento das batalhas"}),i==="howto"?f.jsx(Ms,{size:20}):f.jsx(zs,{size:20})]}),i==="howto"&&f.jsxs("div",{className:"info-section-content",children:[f.jsx("p",{children:" As batalhas so automticas. Cada turno um jogador usa uma habilidade previamente equipada (se no houver nenhuma disponvel o usurio realiza um auto ataque)."}),f.jsx("p",{children:"A escolha de quem ataca primeiro  aleatria (50%), em builds bem pensadas quem ataca primeiro pode ter vantagem."}),f.jsx("p",{children:"Seu Nvel influencia vida e dano de ataque, o que pode ser decisivo nas batalhas, pois magias usam dano de ataque como base para infligir dano ao oponente."})]})]}),f.jsxs("div",{className:"info-section",children:[f.jsxs("button",{className:"info-section-header",onClick:()=>h("carteira"),children:[f.jsx("span",{children:"Carteira"}),i==="carteira"?f.jsx(Ms,{size:20}):f.jsx(zs,{size:20})]}),i==="carteira"&&f.jsxs("div",{className:"info-section-content",children:[f.jsx("p",{children:" Para fugir de taxas, saque e depsitos no sero instantneos."}),f.jsx("p",{children:" Para evitar bots e multicontas, necessrio depsito antes de realizar saques. Informaes bancrias de saque devem coincidir com dados de depsito. "}),f.jsx("p",{children:"Saque e depsito mnimo de R$ 5,00."})]})]}),f.jsxs("div",{className:"info-section",children:[f.jsxs("button",{className:"info-section-header",onClick:()=>h("chances"),children:[f.jsx("span",{children:"Probabilidades"}),i==="chances"?f.jsx(Ms,{size:20}):f.jsx(zs,{size:20})]}),i==="chances"&&f.jsxs("div",{className:"info-section-content",children:[f.jsxs("div",{className:"chances-navigation",children:[f.jsx("button",{onClick:y,className:"btn-nav",children:f.jsx(OS,{size:24})}),f.jsxs("div",{className:"chances-level-display",children:[f.jsx("span",{className:"level-label",children:"Nveis"}),f.jsx("span",{className:"level-range",children:p.range})]}),f.jsx("button",{onClick:_,className:"btn-nav",children:f.jsx(AS,{size:24})})]}),f.jsx("div",{className:"chances-list",children:v.map((w,S)=>{const x=p.chances[S];return f.jsxs("div",{className:"chance-item",children:[f.jsx("div",{className:"chance-item-info",children:f.jsx("span",{className:"chance-item-name",children:w.name})}),f.jsxs("div",{className:"chance-item-percentage",children:[f.jsx("div",{className:"chance-bar-container",children:f.jsx("div",{className:"chance-bar-fill",style:{width:`${x}%`,backgroundColor:w.color}})}),f.jsxs("span",{className:"chance-value",children:[x,f.jsx("span",{className:"chance-symbol",children:"%"})]})]})]},S)})}),f.jsx("div",{className:"chances-pagination",children:m.map((w,S)=>f.jsx("button",{className:`pagination-dot ${S===u?"active":""}`,onClick:()=>c(S),title:`Nveis ${w.range}`},S))}),f.jsx("div",{className:"chances-info",children:f.jsx("p",{children:" Chance de vir qualquer uma das 18 magias  a mesma."})})]})]}),f.jsxs("div",{className:"info-section",children:[f.jsxs("button",{className:"info-section-header",onClick:()=>h("contato"),children:[f.jsx("span",{children:"Contato"}),i==="contato"?f.jsx(Ms,{size:20}):f.jsx(zs,{size:20})]}),i==="contato"&&f.jsxs("div",{className:"info-section-content",children:[f.jsxs("p",{children:["Telegram: ",f.jsx("a",{className:"contato",href:"https://t.me/+0R6rVBsv6IliZDQx",target:"_blank",rel:"noopener noreferrer",children:"Entrar no grupo."})]}),f.jsx("p",{children:"E-mail: mageprotocol.jogo@gmail.com"})]})]}),f.jsx("div",{className:"info-version",children:f.jsx("p",{children:"Verso 1.00"})})]})]})}):null}const Ks=({userData:r,onLogout:n})=>{const[i,l]=T.useState(!1),[u,c]=T.useState(!1),h=()=>{l(!i)},m=r?.nivel??1,v=r?.xp??0,p=m*m*100,y=(m+1)*(m+1)*100,_=v-p,w=y-p,S=m>=60?100:Math.min(100,Math.max(0,_/w*100));return f.jsxs("header",{className:"header",children:[f.jsx("div",{className:"header-avatar",children:f.jsx("div",{className:"avatar-container",children:r?.avatar?f.jsx("img",{src:r.avatar,alt:"Avatar",className:"avatar"}):f.jsx("div",{})})}),f.jsxs("div",{className:"header-menu",children:[f.jsxs("div",{className:"header-infos",children:[f.jsxs("div",{className:"user-infos",children:[f.jsx("div",{className:"user-name",children:r?.nome||"Usurio"}),f.jsx("div",{className:"user-money",children:f.jsxs("p",{children:["R$: ",r?.saldo??0]})})]}),f.jsxs("div",{className:"header-level",children:[f.jsx("div",{className:"xp-bar",children:f.jsx("div",{className:"xp-bar-fill",style:{width:`${S}%`}})}),f.jsxs("h4",{className:"user-level",children:["Nvl ",m]})]})]}),f.jsxs("button",{className:`hamburger ${i?"active":""}`,onClick:h,"aria-label":"Menu",children:[f.jsx("span",{}),f.jsx("span",{}),f.jsx("span",{})]})]}),i&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"menu-overlay",onClick:h}),f.jsx("div",{className:"menu-dropdown",children:f.jsx("div",{className:"versao-sair",children:f.jsx("button",{onClick:n,className:"menu-item logout",children:"Sair"})})})]}),f.jsx(wp,{isOpen:u,onClose:()=>c(!1)})]})},Ps=()=>{const r=Ca();return Ra(),T.useMemo(()=>r.pathname==="/"?"/":r.pathname.replace(/\/$/,""),[r.pathname]),f.jsxs("div",{className:"nav",children:[f.jsx(qs,{to:"/",className:({isActive:n})=>n?"nav3 active":"nav3",children:f.jsxs("div",{className:"nav-icons",children:[f.jsx(YS,{}),"Home"]})}),f.jsx(qs,{to:"/carteira",className:({isActive:n})=>n?"nav3 active":"nav3",children:f.jsxs("div",{className:"nav-icons",children:[f.jsx(fE,{}),"Carteira"]})}),f.jsx(qs,{to:"/mercado",className:({isActive:n})=>n?"nav3 active":"nav3",children:f.jsxs("div",{className:"nav-icons",children:[f.jsx(nE,{}),"Mercado"]})}),f.jsx(qs,{to:"/duelo",className:({isActive:n})=>n?"nav3 active":"nav3",children:f.jsxs("div",{className:"nav-icons",children:[f.jsx(qS,{}),"Duelos"]})})]})},Bn=()=>{const[r,n]=T.useState([]),i=(u,c="success",h=2e3)=>{const m=Date.now(),v={id:m,message:u,type:c,duration:h};n(p=>[...p,v]),h>0&&setTimeout(()=>{l(m)},h)},l=u=>{n(c=>c.filter(h=>h.id!==u))};return{toasts:r,showToast:i,removeToast:l}};function ln({toasts:r,onRemove:n}){const i=u=>{switch(u){case"success":return f.jsx(pp,{size:20});case"error":return f.jsx(yp,{size:20});case"warning":return f.jsx(kS,{size:20});case"info":return f.jsx(Kv,{size:20});default:return f.jsx(Kv,{size:20})}},l=u=>{switch(u){case"success":return"#4caf50";case"error":return"#f44336";case"warning":return"#ff9800";case"info":return"#2196f3";default:return"#2196f3"}};return f.jsx("div",{className:"toast-container",children:r.map(u=>f.jsxs("div",{className:`toast toast-${u.type}`,style:{"--toast-color":l(u.type)},children:[f.jsx("div",{className:"toast-icon",children:i(u.type)}),f.jsx("span",{className:"toast-message",children:u.message}),f.jsx("button",{className:"toast-close",onClick:()=>n(u.id),children:f.jsx(zn,{size:16})})]},u.id))})}const Sp=()=>{const[r,n]=T.useState({isOpen:!1,title:"",message:"",confirmText:"Confirmar",cancelText:"Cancelar",type:"warning",onConfirm:null});return{confirmState:r,showConfirm:l=>new Promise(u=>{n({isOpen:!0,title:l.title||"Confirmar ao",message:l.message||"",confirmText:l.confirmText||"Confirmar",cancelText:l.cancelText||"Cancelar",type:l.type||"warning",onConfirm:()=>{n(c=>({...c,isOpen:!1})),u(!0)},onCancel:()=>{n(c=>({...c,isOpen:!1})),u(!1)}})})}};function Ep({isOpen:r,onConfirm:n,onCancel:i,title:l="Confirmar ao",message:u="",confirmText:c="Confirmar",cancelText:h="Cancelar",type:m="warning"}){if(!r)return null;const v=()=>{switch(m){case"danger":return f.jsx(yp,{size:48});case"success":return f.jsx(pp,{size:48});default:return f.jsx(uE,{size:48})}},p=()=>{switch(m){case"danger":return"#f44336";case"success":return"#4caf50";default:return"#ff9800"}};return f.jsx("div",{className:"confirm-modal-overlay",onClick:i,children:f.jsxs("div",{className:"confirm-modal-content",onClick:y=>y.stopPropagation(),style:{"--confirm-color":p()},children:[f.jsx("div",{className:"confirm-icon",children:v()}),f.jsx("h2",{className:"confirm-title",children:l}),f.jsx("p",{className:"confirm-message",children:u}),f.jsxs("div",{className:"confirm-actions",children:[f.jsx("button",{className:"btn-confirm-cancel",onClick:i,children:h}),f.jsx("button",{className:`btn-confirm-action btn-confirm-${m}`,onClick:n,children:c})]})]})})}function vE({isOpen:r,onClose:n,children:i,equippedSkills:l=[],onSkillClick:u,onUpdate:c,userData:h}){const[m,v]=T.useState(!1),[p,y]=T.useState([]),[_,w]=T.useState([]),[S,x]=T.useState(""),[N,j]=T.useState(null),[k,B]=T.useState(!1),[z,Q]=T.useState([]),[te,Z]=T.useState({open:!1,skill:null}),{toasts:J,showToast:X,removeToast:q}=Bn(),{confirmState:K,showConfirm:ce}=Sp();T.useEffect(()=>{if(m){const G=Array(6).fill(null);l.forEach(oe=>{oe.slot&&oe.slot>=1&&oe.slot<=6&&(G[oe.slot-1]=oe)}),Q(G)}},[m,l]),T.useEffect(()=>{m&&h?.id&&pe()},[m,h?.id]);const pe=async()=>{B(!0);try{const[G,oe]=await Promise.all([ed(h.id),cS(h.id)]);y(G||[]),w(oe||[])}catch(G){console.error("Erro ao carregar dados:",G)}finally{B(!1)}},Je=async()=>{if(!S.trim()){X("Digite um nome para a build");return}if(_.length>=3&&!N){X("Voc j tem 3 builds salvas. Delete uma para criar nova.");return}try{B(!0),N?(await hS(h.id,N.id,S),X("Build atualizada!")):(await dS(h.id,S),X("Build salva com sucesso!")),x(""),j(null),await pe()}catch(G){console.error("Erro ao salvar build:",G),X(G.message||"Erro ao salvar build")}finally{B(!1)}},Ge=async G=>{const oe=[G.slot_1,G.slot_2,G.slot_3,G.slot_4,G.slot_5,G.slot_6],Ce=await Promise.all(oe.map(async Te=>Te&&p.find(Li=>Li.skill_id===Te)||null));Q(Ce),X(`Build "${G.nome}" carregada.`,"info")},at=async G=>{if(await ce({title:"Deletar Build?",message:"Essa ao no pode ser desfeita",confirmText:"Deletar",cancelText:"Voltar",type:"warning"}))try{B(!0),await fS(h.id,G),X("Build deletada!","success"),await pe()}catch(Ce){console.error("Erro ao deletar build:",Ce),X("Erro ao deletar build","error")}finally{B(!1)}},R=G=>{j(G),x(G.nome)},P=G=>{const oe=z.findIndex(Te=>Te===null);if(oe===-1)return;const Ce=[...z];Ce[oe]=G,Q(Ce)},W=G=>{const oe=[...z];oe[G]=null,Q(oe)},F=async()=>{if(await ce({title:"Equipar Build?",message:"Seus slots atuais sero substitudos.",confirmText:"Equipar",cancelText:"Voltar",type:"warning"}))try{B(!0);const oe=z.map((Ce,Te)=>Ce!==null&&Te<I?{skill_id:Ce.skill_id,slot:Te+1}:null).filter(Ce=>Ce!==null);await lS(h.id,oe),X("Build equipada com sucesso!"),Q(Array(6).fill(null)),await pe(),c&&await c(),v(!1)}catch(oe){console.error("Erro ao equipar build:",oe),X(oe.message||"Erro ao equipar build")}finally{B(!1)}},se=(G,oe)=>{oe.stopPropagation(),Z({open:!0,skill:G.skill})},O=()=>{Z({open:!1,skill:null})};if(!r)return null;const H=h?.nivel??1,I=Math.min(Math.floor(H/10),6),ee=Array(6).fill(null);l.forEach(G=>{G.slot&&G.slot>=1&&G.slot<=6&&(ee[G.slot-1]=G)});const fe=[0,1,2,3,4,5],ve=100,xe=50,nt=Math.floor(ve*(1+H*.2)),ie=Math.floor(xe*(1+H*.2));return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"character-modal",onClick:n,children:f.jsxs("div",{className:"character-modal-content",onClick:G=>G.stopPropagation(),children:[f.jsx("button",{className:"character-modal-close",onClick:n,children:f.jsx(zn,{size:20})}),f.jsxs("div",{className:"modal-infos",children:[f.jsx("div",{className:"modal-habilities",children:fe.map(G=>{const oe=G>=I,Ce=(G+1)*10,Te=ee[G];return f.jsx("button",{className:`skill-slot ${Te?"equipped":"empty"} ${oe?"locked":""}`,onClick:oe?void 0:()=>v(!0),disabled:oe,title:oe?`Bloqueado: Nvel ${Ce}`:Te?Te.skill.name:"Clique para gerenciar",children:oe?f.jsxs("div",{className:"lock-container",children:[f.jsx("span",{className:"lock-icon",children:""}),f.jsx("span",{className:"unlock-level",children:Ce})]}):Te?Te.skill.image?f.jsx("img",{src:Te.skill.image,alt:Te.skill.name,className:"skill-image"}):f.jsx("span",{className:"skill-initial",children:Te.skill.name.charAt(0)}):f.jsx("span",{className:"skill-empty-icon",children:"+"})},G)})}),f.jsxs("div",{className:"modal-stats",children:[f.jsxs("p",{children:[f.jsx(VS,{size:28,color:"#ff4444",fill:"red"}),"Vida: ",nt]}),f.jsxs("p",{children:[f.jsx(sE,{size:28,color:"#ff8844",fill:"#f35900ff"}),"Ataque: ",ie]})]})]}),i]})}),m&&f.jsx("div",{className:"build-modal-overlay",onClick:()=>v(!1),children:f.jsxs("div",{className:"build-modal-content",onClick:G=>G.stopPropagation(),children:[f.jsx("button",{className:"build-modal-close",onClick:()=>v(!1),children:f.jsx(zn,{size:20})}),f.jsx("h2",{className:"build-modal-title",children:"Gerenciar Builds"}),k?f.jsx("div",{className:"build-loading",children:"Carregando..."}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"build-section",children:[f.jsx("h3",{children:" Build Atual"}),f.jsx("div",{className:"current-build-slots",children:fe.map(G=>{const oe=G>=I,Ce=(G+1)*10,Te=ee[G];return f.jsx("div",{className:`current-build-slot ${Te?"equipped":"empty"} ${oe?"locked":""}`,onClick:Te&&!oe?ta=>se(Te,ta):void 0,title:oe?`Bloqueado: Nvel ${Ce}`:Te?"Clique para ver detalhes":"Vazio",style:{cursor:Te&&!oe?"pointer":"default"},children:oe?f.jsxs("div",{className:"lock-container",children:[f.jsx("span",{className:"lock-icon",children:""}),f.jsx("span",{className:"unlock-level",children:Ce})]}):Te?Te.skill.image?f.jsx("img",{src:Te.skill.image,alt:Te.skill.name,className:"skill-image"}):f.jsx("span",{className:"skill-initial",children:Te.skill.name.charAt(0)}):f.jsx("span",{className:"skill-empty-icon",children:"-"})},G)})}),f.jsxs("div",{className:"build-save-form",children:[f.jsx("input",{type:"text",placeholder:"Nome...",value:S,onChange:G=>x(G.target.value),maxLength:30,className:"build-name-input"}),f.jsx("button",{onClick:Je,className:"btn-save-build",children:N?f.jsx(Pv,{size:18,color:"white"}):f.jsx(IS,{size:30,color:"white"})})]}),f.jsx("div",{children:_.length===0?f.jsx("p",{className:"build-empty",children:"Nenhuma build salva."}):f.jsx("div",{className:"build-list",children:_.map(G=>f.jsxs("div",{className:`build-item ${G.is_active?"active":""}`,children:[f.jsxs("div",{className:"build-item-header",children:[f.jsx("span",{className:"build-item-name",children:G.nome}),G.is_active&&f.jsx("span",{className:"build-active-badge",children:"Ativa"})]}),f.jsxs("div",{className:"build-item-actions",children:[f.jsxs("button",{onClick:()=>Ge(G),className:"btn-load-build",title:"Carregar para build temporria",children:[f.jsx(dE,{size:16})," Carregar"]}),N?.id===G.id?f.jsx("button",{onClick:()=>{j(null),x("")},className:"btn-cancel",title:"Cancelar edio",children:f.jsx(zn,{size:14})}):f.jsx("button",{onClick:()=>R(G),className:"btn-edit-build",title:"Editar nome",children:f.jsx(Pv,{size:14})}),f.jsx("button",{onClick:()=>at(G.id),className:"btn-delete-build",title:"Deletar build",children:f.jsx(lE,{size:16})})]})]},G.id))})})]}),f.jsxs("div",{className:"build-section",children:[f.jsx("h3",{children:" Montar Build"}),f.jsx("div",{className:"temp-build-slots",children:z.map((G,oe)=>{const Ce=oe>=I,Te=(oe+1)*10;return f.jsx("div",{className:`temp-build-slot ${G?"equipped":"empty"} ${Ce?"locked":""}`,onClick:()=>G&&!Ce?W(oe):null,title:Ce?`Bloqueado: Nvel ${Te}`:G?`${G.skill.name} (Clique para remover)`:"Vazio",children:Ce?f.jsxs("div",{className:"lock-container",children:[f.jsx("span",{className:"lock-icon",children:""}),f.jsx("span",{className:"unlock-level",children:Te})]}):G?G.skill.image?f.jsx("img",{src:G.skill.image,alt:G.skill.name,className:"skill-image"}):f.jsx("span",{className:"skill-initial",children:G.skill.name.charAt(0)}):f.jsx("span",{className:"skill-empty-icon",children:"+"})},oe)})}),f.jsx("button",{onClick:F,className:"btn-equip-temp-build",disabled:z.every(G=>G===null),children:" Equipar"})]}),f.jsxs("div",{className:"build-section",children:[f.jsx("h3",{children:" Magias Disponveis"}),f.jsx("div",{className:"build-skills-grid",children:p.map(G=>f.jsxs("div",{className:"build-skill-item",children:[f.jsx("div",{className:"skill-image-container",onClick:oe=>se(G,oe),title:"Clique para ver detalhes",children:G.skill.image?f.jsx("img",{src:G.skill.image,alt:G.skill.name}):f.jsx("span",{className:"skill-initial",children:G.skill.name.charAt(0)})}),f.jsx("button",{className:"btn-add-skill",onClick:()=>P(G),title:`Adicionar ${G.skill.name}`,children:f.jsx(XS,{color:"white",strokeWidth:3})})]},G.id))})]})]})]})}),te.open&&te.skill&&f.jsx("div",{className:"skill-detail-overlay",onClick:O,children:f.jsxs("div",{className:"skill-detail-container",onClick:G=>G.stopPropagation(),children:[f.jsx("div",{className:"skill-detail-header",children:f.jsx("h3",{className:"skill-detail-name",children:te.skill.name})}),f.jsx("div",{className:"skill-detail-description-box",children:f.jsx("p",{className:"skill-detail-description-text",children:te.skill.descricao||"Sem descrio disponvel"})}),te.skill.cooldown&&f.jsx("div",{className:"skill-detail-cooldown-badge",children:f.jsxs("span",{className:"skill-detail-cooldown-text",children:[" Recarga: ",te.skill.cooldown]})})]})}),f.jsx(ln,{toasts:J,onRemove:q}),f.jsx(Ep,{...K})]})}function gE({isOpen:r,onClose:n,item:i,itemType:l,onConfirm:u}){const[c,h]=T.useState(1),[m,v]=T.useState("");if(!r)return null;const p=()=>{c>0&&parseFloat(m)>0&&(u(c,parseFloat(m)),h(1),v(""),n())},y=i?.quantidade||1;return f.jsx("div",{className:"modal-overlay",onClick:n,children:f.jsxs("div",{className:"modal-container",onClick:_=>_.stopPropagation(),children:[f.jsxs("div",{className:"modal-header-sell",children:[f.jsxs("h2",{className:"modal-title",children:[f.jsx($S,{size:24,color:"green"}),"Vender Item"]}),f.jsx("button",{className:"modal-close",onClick:n,children:f.jsx(zn,{size:24})})]}),f.jsxs("div",{className:"sellmodal-item-info",children:[f.jsx("h3",{className:"sellmodal-item-name",children:i?.skill?.name||i?.item?.nome}),f.jsxs("p",{className:"sellmodal-item-quantity",children:["Disponvel: ",y]})]}),f.jsxs("div",{className:"sellmodal-form-group",children:[f.jsx("label",{className:"sellmodal-form-label",children:"Quantidade"}),f.jsx("input",{type:"number",min:"1",max:y,value:c,onChange:_=>h(Math.min(parseInt(_.target.value)||1,y)),className:"form-input"})]}),f.jsxs("div",{className:"sellmodal-form-group",children:[f.jsx("label",{className:"sellmodal-form-label",children:"Preo (R$)"}),f.jsx("input",{type:"number",step:"0.01",min:"0.01",value:m,onChange:_=>v(_.target.value),placeholder:"Taxa de 5% ser aplicado na venda.",className:"form-input"})]}),f.jsxs("div",{className:"modal-actions",children:[f.jsx("button",{className:"btn btn-sell-cancel",onClick:n,children:"Cancelar"}),f.jsx("button",{className:"btn btn-submit",onClick:p,children:"Listar no Mercado"})]})]})})}function pE({isOpen:r,onClose:n,userId:i,onUpdate:l}){const[u,c]=T.useState("skills"),[h,m]=T.useState([]),[v,p]=T.useState([]),[y,_]=T.useState(!1),{toasts:w,showToast:S,removeToast:x}=Bn(),[N,j]=T.useState(!1),[k,B]=T.useState(null),[z,Q]=T.useState(null);T.useEffect(()=>{r&&i&&Z()},[r,i]);const te=[...v].sort((K,ce)=>K.item.id-ce.item.id),Z=async()=>{_(!0);try{const[K,ce]=await Promise.all([ed(i),oS(i)]);m(K||[]),p(ce||[])}catch(K){console.error("Erro ao carregar inventrio:",K)}finally{_(!1)}},J=async(K,ce=1)=>{try{await uS(i,K,ce),Z(),l&&l()}catch(pe){console.error("Erro ao usar item:",pe)}},X=(K,ce)=>{B(K),Q(ce),j(!0)},q=async(K,ce)=>{try{const pe=z==="skill"?k.skill_id:k.item_id;await mS(i,z,pe,K,ce),S("Item listado com sucesso!"),Z(),l&&l()}catch(pe){console.error("Erro ao listar item:",pe),S("Erro ao listar item.")}};return r?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"inventory-modal-overlay",onClick:n,children:f.jsxs("div",{className:"inventory-modal-content",onClick:K=>K.stopPropagation(),children:[f.jsx("button",{className:"inventory-modal-close",onClick:n,children:f.jsx(zn,{size:24})}),f.jsxs("div",{className:"inventory-header",children:[f.jsx(gp,{size:32}),f.jsx("h2",{children:"Inventrio"})]}),f.jsxs("div",{className:"inventory-tabs",children:[f.jsxs("button",{className:`inventory-tab ${u==="skills"?"active":""}`,onClick:()=>c("skills"),children:[f.jsx(bp,{size:20}),"Habilidades"]}),f.jsxs("button",{className:`inventory-tab ${u==="xp_items"?"active":""}`,onClick:()=>c("xp_items"),children:[f.jsx(_p,{size:20}),"Frascos de XP"]})]}),f.jsx("div",{className:"inventory-body",children:y?f.jsx("div",{className:"inventory-loading",children:"Carregando..."}):f.jsxs(f.Fragment,{children:[u==="skills"&&f.jsx("div",{className:"inventory-grid",children:h.length===0?f.jsx("p",{className:"inventory-empty",children:"Nenhuma skill no inventrio"}):h.map(K=>f.jsxs("div",{className:"inventory-item",children:[f.jsxs("div",{className:"inventory-item-icon",children:[K.skill.image&&f.jsx("img",{src:K.skill.image,alt:K.skill.name,className:"inventory-item-image"}),f.jsx("div",{className:"inventory-item-actions",children:f.jsxs("button",{className:"btn-sell",onClick:()=>X(K,"skill"),title:"Vender no Mercado",children:[f.jsx(Qv,{size:18})," Vender"]})})]}),f.jsxs("div",{className:"inventory-item-info",children:[f.jsx("h3",{children:K.skill.name}),f.jsxs("div",{className:"inventory-item-desc",children:[K.skill.descricao||"Sem descrio",f.jsxs("div",{className:"inventory-item-stats",children:[f.jsxs("span",{className:"item-quantity",children:["x",K.quantidade]}),K.skill.cooldown&&f.jsxs("span",{style:{display:"block",marginTop:"4px",color:"#f09124",fontWeight:"bold"},children:["Recarga:",K.skill.cooldown]})]})]})]})]},K.id))}),u==="xp_items"&&f.jsx("div",{className:"inventory-grid",children:v.length===0?f.jsx("p",{className:"inventory-empty",children:"Nenhum frasco de XP no inventrio"}):te.map(K=>f.jsxs("div",{className:"inventory-item xp-item",children:[f.jsxs("div",{className:"inventory-item-icon",children:[f.jsx("img",{src:`${K.item.xp_image}?v=${K.item.id}`,alt:K.item.nome,className:"inventory-item-image"}),f.jsxs("div",{className:"inventory-item-actions",children:[f.jsx("button",{className:"btn-use",onClick:()=>J(K.item_id,1),children:"Usar x1"}),f.jsx("button",{className:"btn-use",onClick:()=>J(K.item_id,10),children:"Usar x10"}),f.jsxs("button",{className:"btn-sell",onClick:()=>X(K,"xp_item"),title:"Vender no Marketplace",children:[f.jsx(Qv,{size:18})," Vender"]})]})]}),f.jsxs("div",{className:"inventory-item-info",children:[f.jsx("h3",{children:K.item.nome}),f.jsxs("div",{className:"inventory-item-stats",children:[f.jsxs("span",{className:"item-quantity",children:["x",K.quantidade]}),f.jsxs("span",{className:"item-xp-large",children:["+",K.item.xp," XP"]})]})]})]},K.item.id))})]})})]})}),f.jsx(gE,{isOpen:N,onClose:()=>j(!1),item:k,itemType:z,onConfirm:q}),f.jsx(ln,{toasts:w,onRemove:x})]}):null}const yE="/assets/mage-perfil-CIvmsdFK.png",bE="/assets/mage-DPjqW8wi.png",_E=()=>{const{user:r,signOut:n}=Mn(),i=Ra(),[l,u]=T.useState(null),[c,h]=T.useState(!0),[m,v]=T.useState(!1),[p,y]=T.useState(!1),[_,w]=T.useState(!1),[S,x]=T.useState(!1),[N,j]=T.useState(null),[k,B]=T.useState([]),[z,Q]=T.useState(null),[te,Z]=T.useState(""),{toasts:J,showToast:X,removeToast:q}=Bn();T.useEffect(()=>{const R=async()=>{if(r)try{const W=await Hv(r.id);Q(W)}catch(W){console.error("Erro ao verificar status do loot:",W)}};R();const P=setInterval(R,6e4);return()=>clearInterval(P)},[r]),T.useEffect(()=>{if(!z?.next_available_at){Z("");return}const R=()=>{const W=new Date,se=new Date(z.next_available_at)-W;if(se<=0){Z("DISPONVEL");return}const O=Math.floor(se/(1e3*60*60)),H=Math.floor(se%(1e3*60*60)/(1e3*60)),I=Math.floor(se%(1e3*60)/1e3);Z(`${String(O).padStart(2,"0")}:${String(H).padStart(2,"0")}:${String(I).padStart(2,"0")}`)};R();const P=setInterval(R,1e3);return()=>clearInterval(P)},[z?.next_available_at]),T.useEffect(()=>{(async()=>{if(r)try{const P=await la(r.id);u(P);const W=await Gv(r.id);B(W||[])}catch(P){console.error("Erro ao buscar dados do usurio:",P)}finally{h(!1)}})()},[r]);const K=async()=>{S||!z?.can_claim||(x(!0),setTimeout(async()=>{try{const R=await aS(r.id),P=await la(r.id);u(P);const W=await Hv(r.id);Q(W),j(R.items),X("Loot coletado com sucesso!","success")}catch(R){console.error("Erro ao gerar loot:",R),R.message?.includes("j coletado")?X("Voc j pegou seu loot dirio!","warning"):X("Erro ao gerar loot","error")}finally{x(!1)}},100))},ce=async()=>{try{const R=await la(r.id);u(R);const P=await Gv(r.id);B(P||[])}catch(R){console.error("Erro ao atualizar dados:",R)}},pe=()=>{v(!1),y(!0)},Je=async()=>{try{await n(),i("/login")}catch(R){console.error("Erro ao fazer logout:",R)}};if(c)return f.jsx("div",{className:"home-container",children:f.jsx("div",{className:"loading",children:"Carregando..."})});const Ge=R=>{const P={};return R.forEach(W=>{const F=`${W.item_type}_${W.item_id}`;P[F]?P[F].quantity+=1:P[F]={...W,quantity:1}}),Object.values(P)},at=()=>S?f.jsxs(f.Fragment,{children:[f.jsx(bp,{className:"spin-icon",size:24}),"Lutando..."]}):z?.can_claim?"Pegar Itens":f.jsx(f.Fragment,{children:f.jsxs("div",{className:"fight-button-cd",children:[f.jsx(MS,{size:20}),te||"Carregando..."]})});return f.jsxs("div",{className:"home-container",children:[f.jsx(Ks,{userData:l,onLogout:Je}),f.jsx(ln,{toasts:J,onRemove:q}),f.jsx("button",{className:"info-floating-button",onClick:()=>w(!0),title:"Informaes",children:f.jsx(FS,{size:36,color:"#ff9800"})}),f.jsxs("main",{className:"home-content",children:[f.jsxs("div",{className:"fight",children:[f.jsx("button",{className:"character-stats side-button",onClick:()=>v(!0),children:f.jsx("img",{src:yE,alt:""})}),f.jsx("button",{className:"fight-button",onClick:K,disabled:S||!z?.can_claim,children:at()}),f.jsx("button",{className:"side-button",onClick:()=>y(!0),children:f.jsx(gp,{color:"#f09124",size:60})})]}),N&&f.jsx("div",{className:"loot-modal-overlay",onClick:()=>j(null),children:f.jsxs("div",{className:"loot-modal-content",onClick:R=>R.stopPropagation(),children:[f.jsx("div",{className:"loot-items-grid",children:Ge(N).map((R,P)=>f.jsxs("div",{className:"loot-item-card",children:[R.quantity>1&&f.jsxs("span",{className:"loot-item-quantity",children:["x",R.quantity]}),R.item_image||R.item_xp_image?f.jsx("img",{src:R.item_image||R.item_xp_image,alt:R.item_name,className:"loot-item-image"}):f.jsx(_p,{size:48,color:"#FFD700",fill:"#FFD700"}),f.jsx("h3",{className:"loot-item-name",children:R.item_name})]},P))}),f.jsx("button",{className:"loot-modal-confirm",onClick:()=>j(null),children:"Coletar"})]})}),f.jsx(vE,{isOpen:m,onClose:()=>v(!1),equippedSkills:k,onSkillClick:pe,onUpdate:ce,userData:l,children:f.jsx("img",{src:bE,alt:"Character",className:"character-modal-image"})}),f.jsx(pE,{isOpen:p,onClose:()=>y(!1),userId:r?.id,onUpdate:ce}),f.jsx(wp,{isOpen:_,onClose:()=>w(!1)}),f.jsx("div",{className:"nav-menu",children:f.jsx(Ps,{})})]})]})},jp=({logTurnos:r=[],userName:n="Voc",oponenteName:i="Oponente",onClose:l,onSkillClick:u,availableSkills:c=[]})=>{const[h,m]=T.useState(0);if(!r||r.length===0)return f.jsx("div",{className:"battle-log-overlay-test",onClick:l,children:f.jsxs("div",{className:"battle-log-container-test",onClick:q=>q.stopPropagation(),children:[f.jsx("p",{className:"battle-log-error",children:"Nenhum log de batalha disponvel"}),f.jsx("button",{onClick:l,className:"battle-log-close-btn",children:"Fechar"})]})});const v=r[0]?.inicio,y=v&&v.oponente&&v.oponente.nome===n?r.map(q=>q.inicio?{...q,inicio:{user:q.inicio.oponente,oponente:q.inicio.user}}:{...q,turn:q.turn,hpUser:q.hpOponente,hpOponente:q.hpUser,actions:q.actions?.map(K=>({...K,actor:K.actor==="user"?"opponent":"user"}))||[],status_effects:q.status_effects?.map(K=>({...K,alvo:K.alvo==="user"?"opponent":"user"}))||[]}):r,_=y[0]?.inicio,w=n,S=i,x=h>0?y[h]:null,N=y.length-1,k=y[1]?.actions?.[0]?.actor||"user",B=()=>{const q=y[y.length-1];return q.hpUser>0?w:q.hpOponente>0?S:"Empate"},z=q=>{if(!q)return null;const K=[];if(q.nome)K.push(` ${q.nome}`);else if(q.tipo==="basic")K.push(" Ataque Bsico");else if(q.tipo==="stunned")return" Atordoado (perdeu o turno)";return q.dano_causado>0&&K.push(` ${q.dano_causado} de dano`),q.dano>0&&K.push(` ${q.dano} de dano`),q.dano_inicial>0&&K.push(` ${q.dano_inicial} de dano inicial`),q.bloqueado&&K.push(" BLOQUEADO"),q.cura>0&&K.push(` +${q.cura} HP`),q.hits>1&&K.push(`(${q.hits}x hits)`),q.execucao_ativa&&K.push(" EXECUO ATIVA"),q.dot_aplicado&&K.push(" DOT aplicado"),q.tipo==="dot"&&K.push(" DOT aplicado"),q.buff_permanente&&K.push(` ${q.buff_permanente}`),q.block_ativo&&K.push(" Bloqueio ativado para prximo turno"),q.delayed&&K.push(` Ativar em ${q.delayed}`),q.ignorou_armor&&K.push(" Ignorou defesa"),K.join(" | ")},Q=q=>{if(!x?.status_effects||x.status_effects.length===0)return null;const K=x.status_effects.filter(ce=>ce.alvo===q);return K.length===0?null:K.map((ce,pe)=>f.jsx("div",{children:ce.dots&&ce.dots.map((Je,Ge)=>f.jsxs("div",{className:"battle-log-status-effect",children:[" ",Je.nome,": ",Je.dano," de dano"]},Ge))},pe))},te=k==="user"?w:S,Z=k==="user"?S:w,J=k,X=k==="user"?"opponent":"user";return f.jsx("div",{className:"battle-log-overlay-test",onClick:l,children:f.jsxs("div",{className:"battle-log-container-test",onClick:q=>q.stopPropagation(),children:[f.jsxs("div",{className:"battle-log-header-test",children:[f.jsx("h2",{className:"battle-log-title",children:" Log de Batalha"}),f.jsx("button",{onClick:l,className:"battle-log-close-btn",children:""})]}),f.jsxs("div",{className:"battle-log-content",children:[h===0&&_&&f.jsxs("div",{className:"battle-log-inicio-box",children:[f.jsx("h3",{className:"battle-log-subtitle",children:" Estatsticas Iniciais"}),f.jsxs("div",{className:"battle-log-stats-grid",children:[f.jsxs("div",{className:"battle-log-stat-block",children:[f.jsx("div",{className:"battle-log-stat-label",children:w}),f.jsxs("div",{children:[" HP: ",_.user.hp]}),f.jsxs("div",{children:[" Ataque: ",_.user.attack]}),f.jsxs("div",{children:[" Nvel: ",_.user.nivel]}),_.user.skills?.length>0&&f.jsxs("div",{className:"skills-iniciais-section",children:[f.jsx("div",{className:"skills-text",children:" Magias Equipadas:"}),f.jsx("div",{className:"skills-iniciais",children:_.user.skills.map((q,K)=>{const ce=c.find(pe=>pe.skill?.name===q.nome);return f.jsx("div",{onClick:()=>ce&&u?.(ce.skill),className:"skills-log",style:{cursor:u?"pointer":"default"},children:ce?.skill?.image?f.jsx("img",{src:ce.skill.image,alt:q.nome,style:{width:"100%",height:"100%",objectFit:"cover"}}):f.jsx("div",{style:{width:"100%",height:"100%",background:"rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.7rem",color:"#ffd700"},children:q.nome?.slice(0,2).toUpperCase()})},K)})})]})]}),f.jsx("div",{className:"battle-log-versus",children:"VS"}),f.jsxs("div",{className:"battle-log-stat-block",children:[f.jsx("div",{className:"battle-log-stat-label",children:S}),f.jsxs("div",{children:[" HP: ",_.oponente.hp]}),f.jsxs("div",{children:[" Ataque: ",_.oponente.attack]}),f.jsxs("div",{children:[" Nvel: ",_.oponente.nivel]}),_.oponente.skills?.length>0&&f.jsxs("div",{className:"skills-iniciais-section",children:[f.jsx("div",{className:"skills-text",children:" Magias Equipadas:"}),f.jsx("div",{className:"skills-iniciais",children:_.oponente.skills.map((q,K)=>{const ce=c.find(pe=>pe.skill?.name===q.nome);return f.jsx("div",{onClick:()=>ce&&u?.(ce.skill),className:"skills-log",style:{cursor:u?"pointer":"default"},children:ce?.skill?.image?f.jsx("img",{src:ce.skill.image,alt:q.nome,style:{width:"100%",height:"100%",objectFit:"cover"}}):f.jsx("div",{style:{width:"100%",height:"100%",background:"rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.7rem",color:"#ffd700"},children:q.nome?.slice(0,2).toUpperCase()})},K)})})]})]})]})]}),x&&h>0&&f.jsxs("div",{className:"battle-log-turno-box",children:[f.jsx("div",{className:"battle-log-turno-header",children:f.jsxs("div",{className:"battle-log-hp-display",children:[f.jsxs("span",{className:"battle-log-hp-user",children:[w,": ",x.hpUser," HP"]}),f.jsxs("span",{className:"battle-log-hp-oponente",children:[S,": ",x.hpOponente," HP"]})]})}),f.jsxs("div",{className:"battle-log-combatants-grid",children:[f.jsxs("div",{className:"battle-log-combatant-column user",children:[f.jsxs("div",{className:"battle-log-combatant-header user",children:[" ",te]}),x.status_effects&&x.status_effects.some(q=>q.alvo===J)&&f.jsxs("div",{className:"battle-log-section",children:[f.jsx("div",{className:"battle-log-section-title",children:" Efeitos Ativos"}),f.jsx("div",{className:"battle-log-status-section",children:Q(J)})]}),x.actions.filter(q=>q.actor===J).length>0&&f.jsxs("div",{className:"battle-log-section",children:[f.jsx("div",{className:"battle-log-section-title",children:" Ao"}),x.actions.filter(q=>q.actor===J).map((q,K)=>f.jsx("div",{className:"battle-log-action-item user",children:f.jsx("div",{className:"battle-log-action-detail",children:z(q)})},K))]}),x.actions.filter(q=>q.actor===X&&(q.dano>0||q.dano_causado>0||q.dano_inicial>0)).length>0&&f.jsxs("div",{className:"battle-log-section",children:[f.jsx("div",{className:"battle-log-section-title",children:" Dano Recebido"}),x.actions.filter(q=>q.actor===X&&(q.dano>0||q.dano_causado>0||q.dano_inicial>0)).map((q,K)=>f.jsxs("div",{className:"battle-log-damage-taken",children:[" ",q.dano||q.dano_causado||q.dano_inicial," de dano de ",q.nome||"Ataque"]},K))]})]}),f.jsxs("div",{className:"battle-log-combatant-column opponent",children:[f.jsxs("div",{className:"battle-log-combatant-header opponent",children:[" ",Z]}),x.status_effects&&x.status_effects.some(q=>q.alvo===X)&&f.jsxs("div",{className:"battle-log-section",children:[f.jsx("div",{className:"battle-log-section-title",children:" Efeitos Ativos"}),f.jsx("div",{className:"battle-log-status-section",children:Q(X)})]}),x.actions.filter(q=>q.actor===X).length>0&&f.jsxs("div",{className:"battle-log-section",children:[f.jsx("div",{className:"battle-log-section-title",children:" Ao"}),x.actions.filter(q=>q.actor===X).map((q,K)=>f.jsx("div",{className:"battle-log-action-item opponent",children:f.jsx("div",{className:"battle-log-action-detail",children:z(q)})},K))]}),x.actions.filter(q=>q.actor===J&&(q.dano>0||q.dano_causado>0||q.dano_inicial>0)).length>0&&f.jsxs("div",{className:"battle-log-section",children:[f.jsx("div",{className:"battle-log-section-title",children:" Dano Recebido"}),x.actions.filter(q=>q.actor===J&&(q.dano>0||q.dano_causado>0||q.dano_inicial>0)).map((q,K)=>f.jsxs("div",{className:"battle-log-damage-taken",children:[" ",q.dano||q.dano_causado||q.dano_inicial," de dano de ",q.nome||"Ataque"]},K))]})]})]})]}),h===N&&f.jsx("div",{className:"battle-log-resultado",children:f.jsx("h2",{className:"battle-log-resultado-title",children:B()===w?" VITRIA!":B()===S?" DERROTA":" EMPATE"})})]}),f.jsxs("div",{className:"battle-log-navigation",children:[f.jsx("button",{onClick:()=>m(Math.max(0,h-1)),disabled:h===0,className:"battle-log-nav-btn",children:""}),f.jsxs("span",{className:"battle-log-nav-text",children:[h===0?"Incio":`Turno ${x?.turn||h}`," / ",N," turnos"]}),f.jsx("button",{onClick:()=>m(Math.min(N,h+1)),disabled:h===N,className:"battle-log-nav-btn",children:""})]})]})})},wE=()=>{const[r,n]=T.useState(!1),[i,l]=T.useState(!1),[u,c]=T.useState(""),{toasts:h,showToast:m,removeToast:v}=Bn(),{user:p,signOut:y}=Mn(),_=Ra(),[w,S]=T.useState(null),[x,N]=T.useState(!0),[j,k]=T.useState(null),[B,z]=T.useState([]),[Q,te]=T.useState({}),[Z,J]=T.useState({valor:"",banco:"",agencia:"",conta:"",nome_titular:""}),[X,q]=T.useState("");T.useEffect(()=>{(async()=>{if(p)try{const se=await la(p.id);S(se),await K(),await ce()}catch(se){console.error("Erro ao buscar dados do usurio:",se)}finally{N(!1)}})()},[p]);const K=async()=>{try{const{data:F,error:se}=await be.from("transacoes").select("*").eq("user_id",p.id).eq("status","pendente").order("created_at",{ascending:!1}).limit(1).maybeSingle();if(se){console.error("Erro ao verificar transao pendente:",se);return}k(F||null)}catch(F){console.error("Erro ao verificar transao pendente:",F)}},ce=async()=>{try{const{data:F,error:se}=await be.from("transacoes").select("*").eq("user_id",p.id).order("created_at",{ascending:!1}).limit(10);if(se)throw se;z(F||[])}catch(F){console.error("Erro ao carregar histrico:",F)}},pe=async()=>{try{await y(),_("/login")}catch(F){console.error("Erro ao fazer logout:",F)}},Je=F=>{c(F),l(!0),F==="saque"?J({valor:"",banco:"",agencia:"",conta:"",nome_titular:""}):q("")},Ge=()=>{l(!1),c("")},at=async F=>{if(F.preventDefault(),parseFloat(X)<5){m("Valor mnimo  R$ 5,00","error");return}try{const{data:se,error:O}=await be.functions.invoke("create-checkout-session",{body:{amount:parseFloat(X),userId:p.id,userEmail:p.email}});if(O)throw O;se.url&&(window.location.href=se.url)}catch(se){console.error("Erro ao criar sesso de pagamento:",se),m(se.message||"Erro ao processar depsito","error")}},R=async F=>{if(F.preventDefault(),parseFloat(Z.valor)<5){m("Valor mnimo  R$ 5,00","error");return}if(!Z.banco||!Z.agencia||!Z.conta||!Z.nome_titular){m("Preencha todos os campos","error");return}try{const{data:se,error:O}=await be.rpc("solicitar_saque",{p_valor:parseFloat(Z.valor),p_banco:Z.banco,p_agencia:Z.agencia,p_conta:Z.conta,p_nome_titular:Z.nome_titular});if(O)throw O;m("Solicitao de saque enviada com sucesso!","success"),Ge(),await K(),await ce()}catch(se){console.error("Erro ao processar saque:",se),m(se.message||"Erro ao processar saque","error")}},P=F=>{const{name:se,value:O}=F.target;J(H=>({...H,[se]:O}))},W=F=>{te(se=>({...se,[F]:!se[F]}))};return x?f.jsx("div",{className:"carteira-container",children:f.jsx("div",{className:"loading",children:"Carregando..."})}):j?f.jsxs("div",{className:"carteira-container",children:[f.jsx(Ks,{userData:w,onLogout:pe}),f.jsxs("main",{className:"carteira-content",children:[f.jsxs("div",{className:"carteira-card",children:[f.jsx("h2",{children:" Transao em Processamento"}),f.jsxs("div",{className:"transacao-pendente",children:[f.jsxs("p",{children:["Tipo: ",f.jsx("strong",{children:j.tipo==="deposito"?"Depsito":"Saque"})]}),f.jsxs("p",{children:["Valor: ",f.jsxs("strong",{children:["R$ ",parseFloat(j.valor).toFixed(2)]})]}),f.jsxs("p",{children:["Status: ",f.jsx("strong",{children:j.status})]}),f.jsx("p",{className:"aviso-processamento",children:"Sua transao est sendo processada. A carteira ficar bloqueada at a concluso. Isso pode levar algumas horas."})]})]}),f.jsx("div",{className:"nav-menu",children:f.jsx(Ps,{})})]}),f.jsx(ln,{toasts:h,onRemove:v})]}):f.jsxs("div",{className:"carteira-container",children:[f.jsx(Ks,{userData:w,onLogout:pe}),f.jsxs("main",{className:"carteira-content",children:[f.jsxs("div",{className:"carteira-card",children:[f.jsx("h2",{children:" Carteira"}),f.jsx("span",{children:" Depsito obrigatrio antes de realizar saque."}),f.jsx("span",{children:" Saque s pode ser feito na mesma conta de depsito."}),f.jsxs("div",{className:"saldo",children:["Saldo: ",f.jsxs("span",{children:["R$ ",(w?.saldo??0).toFixed(2)]})]}),f.jsxs("div",{className:"botoes-transacao",children:[f.jsx("button",{className:"depositar-btn",onClick:()=>Je("deposito"),children:" Depositar"}),f.jsx("button",{className:"sacar-btn",onClick:()=>Je("saque"),children:" Sacar"})]}),B.length>0&&f.jsxs("div",{className:"historico",children:[f.jsx("h3",{children:"Histrico Recente"}),f.jsx("div",{className:"historico-lista",children:B.map(F=>f.jsxs("div",{className:`historico-item ${F.status}`,children:[f.jsxs("div",{className:"historico-item-header",onClick:()=>F.status==="negado"&&W(F.id),style:{cursor:F.status==="negado"?"pointer":"default"},children:[f.jsxs("span",{children:[F.tipo==="deposito"?"":""," ",F.tipo]}),f.jsxs("span",{children:["R$ ",parseFloat(F.valor).toFixed(2)]}),f.jsx("span",{className:`status-badge ${F.status}`,children:F.status})]}),F.status==="negado"&&Q[F.id]&&f.jsxs("div",{className:"historico-motivo",children:[f.jsx("strong",{children:"Motivo:"}),f.jsx("p",{children:F.motivo_negacao||"Sem motivo informado"})]})]},F.id))})]})]}),f.jsx("div",{className:"nav-menu",children:f.jsx(Ps,{})})]}),i&&u==="deposito"&&f.jsx("div",{className:"modal-overlay",onClick:Ge,children:f.jsxs("div",{className:"modal-content",onClick:F=>F.stopPropagation(),children:[f.jsx("h2",{children:" Depositar via Stripe"}),f.jsxs("form",{onSubmit:at,children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Valor (mn. R$ 5,00)"}),f.jsx("input",{type:"number",step:"0.01",min:"5",value:X,onChange:F=>q(F.target.value),required:!0,placeholder:"0.00"})]}),f.jsxs("div",{className:"modal-buttons",children:[f.jsx("button",{type:"submit",className:"btn-confirmar",children:"Ir para Pagamento"}),f.jsx("button",{type:"button",className:"btn-cancelar",onClick:Ge,children:"Cancelar"})]})]})]})}),i&&u==="saque"&&f.jsx("div",{className:"modal-overlay",onClick:Ge,children:f.jsxs("div",{className:"modal-content",onClick:F=>F.stopPropagation(),children:[f.jsx("h2",{children:" Sacar"}),f.jsxs("form",{onSubmit:R,children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Valor (mn. R$ 5,00)"}),f.jsx("input",{type:"number",name:"valor",step:"0.01",min:"5",value:Z.valor,onChange:P,required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Banco"}),f.jsx("input",{type:"text",name:"banco",value:Z.banco,onChange:P,required:!0})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Agncia"}),f.jsx("input",{type:"text",name:"agencia",value:Z.agencia,onChange:P,required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Conta ou Chave PIX"}),f.jsx("input",{type:"text",name:"conta",value:Z.conta,onChange:P,required:!0})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Nome do Titular"}),f.jsx("input",{type:"text",name:"nome_titular",value:Z.nome_titular,onChange:P,required:!0})]}),f.jsxs("div",{className:"modal-buttons",children:[f.jsx("button",{type:"submit",className:"btn-confirmar",children:"Confirmar"}),f.jsx("button",{type:"button",className:"btn-cancelar",onClick:Ge,children:"Cancelar"})]})]})]})}),r&&f.jsx(jp,{userName:w?.nome??"Jogador",oponenteName:"Oponente",onClose:()=>n(!1)}),f.jsx(ln,{toasts:h,onRemove:v})]})},SE=({historico:r,userId:n,onClose:i,onVerLog:l})=>{if(!r||r.length===0)return f.jsx("div",{className:"historico-overlay-simples",onClick:i,children:f.jsxs("div",{className:"historico-modal-simples",onClick:c=>c.stopPropagation(),children:[f.jsxs("div",{className:"historico-header-simples",children:[f.jsx("h2",{children:" Histrico de Batalhas"}),f.jsx("button",{onClick:i,children:""})]}),f.jsx("p",{style:{textAlign:"center",color:"#888",padding:"2rem"},children:"Nenhuma batalha encontrada"})]})});const u=c=>new Date(c).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"});return f.jsx("div",{className:"historico-overlay-simples",onClick:i,children:f.jsxs("div",{className:"historico-modal-simples",onClick:c=>c.stopPropagation(),children:[f.jsxs("div",{className:"historico-header-simples",children:[f.jsx("h2",{children:" Histrico de Batalhas"}),f.jsx("button",{onClick:i,children:""})]}),f.jsx("div",{className:"historico-lista-simples",children:r.map(c=>{const m=c.jogador1?.id===n?c.jogador2:c.jogador1,v=c.vencedor_id===n;return f.jsxs("div",{className:`historico-item-simples ${v?"vitoria":"derrota"}`,onClick:()=>l(c.log,m),children:[f.jsx("div",{className:"historico-resultado",children:v?"":""}),f.jsxs("div",{className:"historico-detalhes",children:[f.jsxs("div",{className:"historico-oponente-nome",children:["vs ",m?.nome||"Oponente"]}),f.jsx("div",{className:"historico-data",children:u(c.finalizado_em||c.created_at)})]})]},c.id)})})]})})},EE=()=>{const{user:r,signOut:n}=Mn(),i=Ra(),[l,u]=T.useState(null),[c,h]=T.useState(!0),{toasts:m,showToast:v,removeToast:p}=Bn(),[y,_]=T.useState(null),[w,S]=T.useState([]),[x,N]=T.useState(!1),[j,k]=T.useState(!1),[B,z]=T.useState(!1),[Q,te]=T.useState(!1),[Z,J]=T.useState(!1),[X,q]=T.useState([]),[K,ce]=T.useState(null),[pe,Je]=T.useState(null),[Ge,at]=T.useState([]),[R,P]=T.useState({open:!1,skill:null}),W=async(ie=!1)=>{try{const G=await bc(r.id,!1);if(G.success){const oe=G.torneio.status;if(_(G),oe==="processando"&&!x){N(!0);try{await Vv(G.torneio.id)}catch(Ce){console.error("Erro ao processar torneio:",Ce),v("Erro ao processar batalha","error"),N(!1)}}}else ie||_(null)}catch(G){ie||(console.error("Erro ao buscar torneio:",G),_(null))}};T.useEffect(()=>{(async()=>{if(r)try{const[G,oe,Ce]=await Promise.all([la(r.id),sS(),ed(r.id)]);u(G),S(oe),at(Ce||[]),await W(!0)}catch(G){console.error("Erro ao carregar dados:",G)}finally{h(!1)}})()},[r]),T.useEffect(()=>{if(!y||y.torneio.status==="finalizado"||!x)return;const ie=setInterval(async()=>{const G=await bc(r.id,!0);if(G.success&&G.torneio.status==="finalizado"){N(!1),_(G),te(!0);const oe=await la(r.id);u(oe),v("Batalha finalizada!","success")}},2e3);return()=>clearInterval(ie)},[y,x]),T.useEffect(()=>{if(!y||y.torneio.status!=="aguardando")return;const ie=setInterval(async()=>{const G=await bc(r.id,!1);if(G.success&&G.torneio.status==="processando"){N(!0),_(G);try{await Vv(G.torneio.id)}catch(oe){console.error("Erro ao processar torneio:",oe),v("Erro ao processar batalha","error"),N(!1)}}},2e3);return()=>clearInterval(ie)},[y,r.id]);const F=async ie=>{try{const G=await nS(r.id,ie);if(G.success){const[oe]=await Promise.all([la(r.id)]);u(oe),await W()}else v(G.message,"error")}catch(G){console.error("Erro ao inscrever:",G),v("Erro ao inscrever","error")}},se=async()=>{if(!j){k(!0);try{const ie=await iS(r.id);if(ie.success){const G=await la(r.id);u(G),_(null),te(!1)}else v(ie.message,"error")}catch(ie){console.error("Erro ao cancelar:",ie),v("Erro ao cancelar","error")}finally{k(!1)}}},O=()=>{_(null),te(!1),N(!1)},H=async()=>{try{const ie=await rS(r.id);q(ie),J(!0)}catch(ie){console.error("Erro ao carregar histrico:",ie),v("Erro ao carregar histrico","error")}},I=(ie,G)=>{ce(ie),Je(G),J(!1),z(!0)},ee=()=>{z(!1),ce(null),Je(null)},fe=async()=>{try{await n(),i("/login")}catch(ie){console.error("Erro ao fazer logout:",ie)}},ve=ie=>ie&&(ie.startsWith("http")||ie.startsWith("/"))?f.jsx("img",{src:ie,alt:"avatar",style:{width:"100%",height:"100%",borderRadius:"50%",objectFit:"cover"}}):ie||"";if(c)return f.jsx("div",{className:"torneio-container",children:f.jsx("div",{className:"loading",children:"Carregando..."})});const xe=y&&y.torneio.status==="aguardando"&&!y.oponente,nt=Q||y&&y.torneio.status==="finalizado";return f.jsxs("div",{className:"torneio-container",children:[f.jsx(Ks,{userData:l,onLogout:fe}),f.jsxs("main",{className:"torneio-content",children:[!y&&!Q&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"torneios-header",children:[f.jsx("h1",{children:"Duelos 1 Contra 1"}),f.jsx("button",{onClick:H,className:"btn-historico",children:""})]}),f.jsx("div",{className:"torneios-lista",children:w.map(ie=>f.jsxs("div",{className:"torneio-card",children:[f.jsxs("div",{className:"torneio-card-header",children:[f.jsxs("h3",{children:[" Prmio: ",ie.premio_vencedor.toFixed(2)]}),f.jsxs("div",{className:"torneio-card-taxa",children:["R$ ",ie.taxa_inscricao.toFixed(2)]})]}),f.jsx("p",{className:"torneio-card-desc",children:ie.descricao}),f.jsx("button",{onClick:()=>F(ie.id),className:"btn-inscrever-card",disabled:l.saldo<ie.taxa_inscricao,children:l.saldo<ie.taxa_inscricao?"Saldo Insuficiente":"Lutar"})]},ie.id))})]}),xe&&f.jsxs("div",{className:"torneio-aguardando",children:[f.jsx("div",{className:"aguardando-icon",children:""}),f.jsx("h2",{children:"Aguardando oponente..."}),f.jsx("p",{className:"aguardando-info",children:"Esperando outro jogador."}),y.torneio.pode_cancelar&&f.jsx("button",{onClick:se,className:"btn-cancelar-duelo",disabled:j,children:j?"Cancelando...":"Cancelar Inscrio"})]}),x&&f.jsxs("div",{className:"torneio-batalhando",children:[f.jsx("div",{className:"batalhando-icon",children:""}),f.jsx("h2",{children:"Batalha em andamento..."}),f.jsx("p",{className:"batalhando-info",children:"Processando resultado..."})]}),nt&&y&&y.oponente&&f.jsxs("div",{className:"torneio-finalizado",children:[f.jsxs("div",{className:"versus-container",children:[f.jsxs("div",{className:`player-card ${y.torneio.vencedor_id===r.id?"vencedor":"perdedor"}`,children:[f.jsx("div",{className:"player-avatar-big",children:ve(l.avatar)}),f.jsx("div",{className:"player-name",children:l.nome}),f.jsxs("div",{className:"player-level",children:["Nvel ",l.nivel]})]}),f.jsx("div",{className:"versus-text",children:"VS"}),f.jsxs("div",{className:`player-card ${y.torneio.vencedor_id===y.oponente.id?"vencedor":"perdedor"}`,children:[f.jsx("div",{className:"player-avatar-big",children:ve(y.oponente.avatar)}),f.jsx("div",{className:"player-name",children:y.oponente.nome}),f.jsxs("div",{className:"player-level",children:["Nvel ",y.oponente.nivel]})]})]}),f.jsxs("div",{className:"premio-info",children:[f.jsx("div",{className:"premio-icon",children:y.torneio.vencedor_id===r.id?"":""}),f.jsx("div",{className:"premio-text",children:y.torneio.vencedor_id===r.id?f.jsxs(f.Fragment,{children:["Voc ganhou ",f.jsx("strong",{children:y.torneio.premio_vencedor.toFixed(2)}),"!"]}):f.jsx(f.Fragment,{children:"Voc perdeu"})})]}),f.jsxs("div",{className:"acoes-finalizado",children:[f.jsx("button",{onClick:()=>z(!0),className:"btn-ver-log",children:" Ver Log da Batalha"}),f.jsx("button",{onClick:O,className:"btn-voltar",children:" Voltar"})]})]})]}),f.jsx("div",{className:"nav-menu",children:f.jsx(Ps,{})}),B&&(K||y?.torneio?.log)&&f.jsx(jp,{logTurnos:K||y.torneio.log,userName:l.nome,oponenteName:pe?.nome||y.oponente?.nome||"Oponente",onClose:ee,onSkillClick:ie=>P({open:!0,skill:ie}),availableSkills:Ge}),Z&&f.jsx(SE,{historico:X,userId:r.id,onClose:()=>J(!1),onVerLog:I}),R.open&&R.skill&&f.jsx("div",{className:"skill-detail-overlay",onClick:()=>P({open:!1,skill:null}),children:f.jsxs("div",{className:"skill-detail-container",onClick:ie=>ie.stopPropagation(),children:[f.jsx("div",{className:"skill-detail-header",children:f.jsx("h3",{className:"skill-detail-name",children:R.skill.name})}),f.jsx("div",{className:"skill-detail-description-box",children:f.jsx("p",{className:"skill-detail-description-text",children:R.skill.descricao||"Sem descrio disponvel"})}),R.skill.cooldown&&f.jsx("div",{className:"skill-detail-cooldown-badge",children:f.jsxs("span",{className:"skill-detail-cooldown-text",children:[" Recarga: ",R.skill.cooldown]})})]})}),f.jsx(ln,{toasts:m,onRemove:p})]})},jE=()=>{const{user:r,signOut:n}=Mn(),i=Ra(),[l,u]=T.useState(null),[c,h]=T.useState(!0),[m,v]=T.useState([]),[p,y]=T.useState([]),[_,w]=T.useState(null),{toasts:S,showToast:x,removeToast:N}=Bn(),{confirmState:j,showConfirm:k}=Sp();T.useEffect(()=>{(async()=>{if(r)try{const q=await la(r.id);u(q)}catch(q){console.error("Erro ao buscar dados do usurio:",q)}finally{h(!1)}})()},[r]),T.useEffect(()=>{r&&(B(),z())},[r,_]);const B=async()=>{try{const X=await vS(_);v(X.slice(0,6))}catch(X){console.error("Erro ao carregar marketplace:",X)}},z=async()=>{try{const X=await yS(r.id);y(X)}catch(X){console.error("Erro ao carregar meus anncios:",X)}},Q=async X=>{if(await k({title:"Confirmar compra?",confirmText:"Comprar",type:"warning"}))try{await gS(r.id,X),x("Item comprado com sucesso!","success"),B();const K=await la(r.id);u(K)}catch(K){console.error("Erro ao comprar:",K),x(K.message||"Erro ao comprar item","error")}},te=async X=>{if(await k({title:"Cancelar anncio?",confirmText:"Cancelar",cancelText:"Voltar",type:"danger"}))try{await pS(r.id,X),x("Anncio cancelado com sucesso!","success"),z(),B()}catch(K){console.error("Erro ao cancelar:",K),x("Erro ao cancelar anncio","error")}},Z=async()=>{try{await n(),i("/login")}catch(X){console.error("Erro ao fazer logout:",X)}};if(c)return f.jsx("div",{className:"mercado-container",children:f.jsx("div",{className:"loading",children:"Carregando..."})});const J=_==="my_listings"?p.filter(X=>X.status==="ativa"):m;return f.jsxs("div",{className:"mercado-container",children:[f.jsx(Ks,{userData:l,onLogout:Z}),f.jsxs("main",{className:"mercado-content",children:[f.jsxs("div",{className:"mercado-area",children:[f.jsxs("aside",{className:"mercado-sidebar",children:[f.jsx("div",{className:"categoria",children:f.jsx("button",{onClick:()=>w("skill"),children:"Habilidades"})}),f.jsx("div",{className:"categoria",children:f.jsx("button",{onClick:()=>w("xp_item"),children:"Frascos de XP"})}),f.jsx("div",{className:"categoria",children:f.jsx("button",{onClick:()=>w("my_listings"),children:"Meus Anncios"})})]}),f.jsx("section",{className:"mercado-list",children:f.jsx("div",{className:"itens-grid",children:J.length===0?f.jsx("p",{className:"empty-message",children:_==="my_listings"?"Voc no tem anncios ativos":"Nenhum item disponvel no momento"}):J.map(X=>f.jsxs("div",{className:"item-card",children:[f.jsxs("div",{className:"item-card-info",children:[f.jsxs("div",{className:"item-card-header",children:[X.item_details?.image&&f.jsx("img",{src:X.item_details.image,alt:X.item_details?.name||X.item_details?.nome,className:"item-card-image"}),f.jsx("h3",{className:"item-card-title",children:X.item_details?.name||X.item_details?.nome||`Item ID: ${X.item_id}`})]}),_!=="my_listings"&&f.jsxs("p",{className:"item-card-seller",children:["Vendedor: ",X.seller?.nome]}),f.jsxs("p",{className:"item-card-quantity",children:["Quantidade: ",X.quantidade]})]}),f.jsxs("div",{className:"item-card-compra",children:[f.jsxs("strong",{children:["R$ ",parseFloat(X.preco).toFixed(2)]}),_==="my_listings"?f.jsx("button",{onClick:()=>te(X.id),children:"Cancelar"}):f.jsx("button",{onClick:()=>Q(X.id),disabled:X.seller_id===r?.id,className:X.seller_id===r?.id?"disabled":"",children:X.seller_id===r?.id?"Seu item":"Comprar"})]})]},X.id))})})]}),f.jsx("div",{className:"nav-menu",children:f.jsx(Ps,{})})]}),f.jsx(ln,{toasts:S,onRemove:N}),f.jsx(Ep,{...j})]})},xE=()=>{const{user:r}=Mn(),n=Ra(),[i,l]=T.useState(!1),[u,c]=T.useState([]),[h,m]=T.useState("pendente"),[v,p]=T.useState({}),{toasts:y,showToast:_,removeToast:w}=Bn();T.useEffect(()=>{r&&S()},[r]),T.useEffect(()=>{i&&x()},[i,h]);const S=async()=>{try{const{data:j,error:k}=await be.rpc("is_admin",{user_uuid:r.id});if(k)throw k;if(!j){n("/");return}l(!0)}catch(j){console.error("Erro ao verificar admin:",j),n("/")}},x=async()=>{try{let j=be.from("transacoes").select(`
          *,
          users:user_id (
            id,
            nome,
            email,
            saldo
          )
        `).order("created_at",{ascending:!1});h!=="todas"&&(j=j.eq("status",h));const{data:k,error:B}=await j;if(B)throw B;c(k||[])}catch(j){console.error("Erro ao carregar transaes:",j),_("Erro ao carregar transaes","error")}},N=async(j,k)=>{if(!k&&!v[j]){_("Informe o motivo da negao","warning");return}if(confirm(`Tem certeza que deseja ${k?"aprovar":"negar"} esta transao?`))try{const{error:B}=await be.rpc("processar_transacao",{p_transacao_id:j,p_aprovar:k,p_motivo_negacao:k?null:v[j]});if(B)throw B;_(`Transao ${k?"aprovada":"negada"} com sucesso!`,"success"),await x(),p(z=>{const Q={...z};return delete Q[j],Q})}catch(B){console.error("Erro ao processar transao:",B),_(B.message||"Erro ao processar transao","error")}};return!r||!i?f.jsx("div",{className:"admin-loading",children:f.jsx("div",{children:"Verificando permisses..."})}):f.jsxs("div",{className:"admin-panel",children:[f.jsxs("div",{className:"admin-header",children:[f.jsx("h1",{children:" Painel Administrativo"}),f.jsx("button",{onClick:()=>n("/"),className:"btn-voltar",children:"Voltar ao Site"})]}),f.jsxs("div",{className:"admin-filtros",children:[f.jsx("button",{className:h==="pendente"?"active":"",onClick:()=>m("pendente"),children:"Pendentes"}),f.jsx("button",{className:h==="aprovado"?"active":"",onClick:()=>m("aprovado"),children:"Aprovados"}),f.jsx("button",{className:h==="negado"?"active":"",onClick:()=>m("negado"),children:"Negados"}),f.jsx("button",{className:h==="todas"?"active":"",onClick:()=>m("todas"),children:"Todas"})]}),f.jsx("div",{className:"transacoes-lista",children:u.length===0?f.jsx("div",{className:"nenhuma-transacao",children:"Nenhuma transao encontrada"}):u.map(j=>f.jsxs("div",{className:`transacao-card ${j.tipo}`,children:[f.jsxs("div",{className:"transacao-header",children:[f.jsx("div",{className:"transacao-tipo",children:j.tipo==="deposito"?" DEPSITO":" SAQUE"}),f.jsx("div",{className:`transacao-status ${j.status}`,children:j.status.toUpperCase()})]}),f.jsxs("div",{className:"transacao-info",children:[f.jsxs("div",{className:"info-row",children:[f.jsx("span",{className:"label",children:"Usurio:"}),f.jsxs("span",{className:"value",children:[j.users?.nome," (",j.users?.email,")"]})]}),f.jsxs("div",{className:"info-row",children:[f.jsx("span",{className:"label",children:"Saldo Atual:"}),f.jsxs("span",{className:"value",children:["R$ ",parseFloat(j.users?.saldo||0).toFixed(2)]})]}),f.jsxs("div",{className:"info-row",children:[f.jsx("span",{className:"label",children:"Valor:"}),f.jsxs("span",{className:"value valor-destaque",children:["R$ ",parseFloat(j.valor).toFixed(2)]})]}),f.jsxs("div",{className:"info-row",children:[f.jsx("span",{className:"label",children:"Data:"}),f.jsx("span",{className:"value",children:new Date(j.created_at).toLocaleString("pt-BR")})]})]}),f.jsxs("div",{className:"transacao-dados-bancarios",children:[f.jsxs("div",{className:"info-row",children:[f.jsx("span",{className:"label",children:"Banco:"}),f.jsx("span",{className:"value",children:j.banco})]}),f.jsxs("div",{className:"info-row",children:[f.jsx("span",{className:"label",children:"Agncia:"}),f.jsx("span",{className:"value",children:j.agencia})]}),f.jsxs("div",{className:"info-row",children:[f.jsx("span",{className:"label",children:"Conta/Pix:"}),f.jsx("span",{className:"value",children:j.conta})]}),f.jsxs("div",{className:"info-row",children:[f.jsx("span",{className:"label",children:"Titular:"}),f.jsx("span",{className:"value",children:j.nome_titular})]})]}),j.motivo_negacao&&f.jsxs("div",{className:"motivo-negacao",children:[f.jsx("strong",{children:"Motivo da Negao:"}),f.jsx("p",{children:j.motivo_negacao})]}),j.status==="pendente"&&f.jsxs("div",{className:"transacao-acoes",children:[f.jsx("textarea",{placeholder:"Motivo da negao (obrigatrio se negar)",value:v[j.id]||"",onChange:k=>p(B=>({...B,[j.id]:k.target.value})),className:"textarea-motivo"}),f.jsxs("div",{className:"botoes-acao",children:[f.jsx("button",{className:"btn-aprovar",onClick:()=>N(j.id,!0),children:" Aprovar"}),f.jsx("button",{className:"btn-negar",onClick:()=>N(j.id,!1),children:" Negar"})]})]}),j.processado_em&&f.jsx("div",{className:"transacao-processamento",children:f.jsxs("small",{children:["Processado em: ",new Date(j.processado_em).toLocaleString("pt-BR")]})})]},j.id))}),f.jsx(ln,{toasts:y,onRemove:w})]})};function Bs({children:r}){const{user:n,loading:i}=Mn();return i?f.jsx("div",{children:"Carregando..."}):n?r:f.jsx(ng,{to:"/login",replace:!0})}function TE(){return f.jsx(eS,{children:f.jsx(w_,{children:f.jsxs(Fb,{children:[f.jsx(nn,{path:"/login",element:f.jsx(tS,{})}),f.jsx(nn,{path:"/",element:f.jsx(Bs,{children:f.jsx(_E,{})})}),f.jsx(nn,{path:"/admin",element:f.jsx(Bs,{children:f.jsx(xE,{})})}),f.jsx(nn,{path:"/carteira",element:f.jsx(Bs,{children:f.jsx(wE,{})})}),f.jsx(nn,{path:"/mercado",element:f.jsx(Bs,{children:f.jsx(jE,{})})}),f.jsx(nn,{path:"/duelo",element:f.jsx(Bs,{children:f.jsx(EE,{})})}),f.jsx(nn,{path:"*",element:f.jsx(ng,{to:"/",replace:!0})})]})})})}rb.createRoot(document.getElementById("root")).render(f.jsx(T.StrictMode,{children:f.jsx(TE,{})}));
