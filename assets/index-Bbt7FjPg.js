function Q0(r,n){for(var s=0;s<n.length;s++){const l=n[s];if(typeof l!="string"&&!Array.isArray(l)){for(const u in l)if(u!=="default"&&!(u in r)){const c=Object.getOwnPropertyDescriptor(l,u);c&&Object.defineProperty(r,u,c.get?c:{enumerable:!0,get:()=>l[u]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function s(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(u){if(u.ep)return;u.ep=!0;const c=s(u);fetch(u.href,c)}})();function J0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function I0(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var n=r.default;if(typeof n=="function"){var s=function l(){var u=!1;try{u=this instanceof l}catch{}return u?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(r).forEach(function(l){var u=Object.getOwnPropertyDescriptor(r,l);Object.defineProperty(s,l,u.get?u:{enumerable:!0,get:function(){return r[l]}})}),s}var rc={exports:{}},Ui={};var rv;function Z0(){if(rv)return Ui;rv=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(l,u,c){var h=null;if(c!==void 0&&(h=""+c),u.key!==void 0&&(h=""+u.key),"key"in u){c={};for(var m in u)m!=="key"&&(c[m]=u[m])}else c=u;return u=c.ref,{$$typeof:r,type:l,key:h,ref:u!==void 0?u:null,props:c}}return Ui.Fragment=n,Ui.jsx=s,Ui.jsxs=s,Ui}var lv;function F0(){return lv||(lv=1,rc.exports=Z0()),rc.exports}var f=F0(),lc={exports:{}},ve={};var ov;function W0(){if(ov)return ve;ov=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),w=Symbol.iterator;function S(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,T={};function U(x,H,F){this.props=x,this.context=H,this.refs=T,this.updater=F||j}U.prototype.isReactComponent={},U.prototype.setState=function(x,H){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,H,"setState")},U.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function z(){}z.prototype=U.prototype;function q(x,H,F){this.props=x,this.context=H,this.refs=T,this.updater=F||j}var Q=q.prototype=new z;Q.constructor=q,A(Q,U.prototype),Q.isPureReactComponent=!0;var te=Array.isArray;function J(){}var I={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function M(x,H,F){var ae=F.ref;return{$$typeof:r,type:x,key:H,ref:ae!==void 0?ae:null,props:F}}function W(x,H){return M(x.type,H,x.props)}function me(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function _e(x){var H={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(F){return H[F]})}var Xe=/\/+/g;function oe(x,H){return typeof x=="object"&&x!==null&&x.key!=null?_e(""+x.key):H.toString(36)}function we(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(J,J):(x.status="pending",x.then(function(H){x.status==="pending"&&(x.status="fulfilled",x.value=H)},function(H){x.status==="pending"&&(x.status="rejected",x.reason=H)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function B(x,H,F,ae,fe){var ye=typeof x;(ye==="undefined"||ye==="boolean")&&(x=null);var Oe=!1;if(x===null)Oe=!0;else switch(ye){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(x.$$typeof){case r:case n:Oe=!0;break;case y:return Oe=x._init,B(Oe(x._payload),H,F,ae,fe)}}if(Oe)return fe=fe(x),Oe=ae===""?"."+oe(x,0):ae,te(fe)?(F="",Oe!=null&&(F=Oe.replace(Xe,"$&/")+"/"),B(fe,H,F,"",function(X){return X})):fe!=null&&(me(fe)&&(fe=W(fe,F+(fe.key==null||x&&x.key===fe.key?"":(""+fe.key).replace(Xe,"$&/")+"/")+Oe)),H.push(fe)),1;Oe=0;var it=ae===""?".":ae+":";if(te(x))for(var Ve=0;Ve<x.length;Ve++)ae=x[Ve],ye=it+oe(ae,Ve),Oe+=B(ae,H,F,ye,fe);else if(Ve=S(x),typeof Ve=="function")for(x=Ve.call(x),Ve=0;!(ae=x.next()).done;)ae=ae.value,ye=it+oe(ae,Ve++),Oe+=B(ae,H,F,ye,fe);else if(ye==="object"){if(typeof x.then=="function")return B(we(x),H,F,ae,fe);throw H=String(x),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function P(x,H,F){if(x==null)return x;var ae=[],fe=0;return B(x,ae,"","",function(ye){return H.call(F,ye,fe++)}),ae}function Z(x){if(x._status===-1){var H=x._result;H=H(),H.then(function(F){(x._status===0||x._status===-1)&&(x._status=1,x._result=F)},function(F){(x._status===0||x._status===-1)&&(x._status=2,x._result=F)}),x._status===-1&&(x._status=0,x._result=H)}if(x._status===1)return x._result.default;throw x._result}var K=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},ee={map:P,forEach:function(x,H,F){P(x,function(){H.apply(this,arguments)},F)},count:function(x){var H=0;return P(x,function(){H++}),H},toArray:function(x){return P(x,function(H){return H})||[]},only:function(x){if(!me(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return ve.Activity=_,ve.Children=ee,ve.Component=U,ve.Fragment=s,ve.Profiler=u,ve.PureComponent=q,ve.StrictMode=l,ve.Suspense=v,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,ve.__COMPILER_RUNTIME={__proto__:null,c:function(x){return I.H.useMemoCache(x)}},ve.cache=function(x){return function(){return x.apply(null,arguments)}},ve.cacheSignal=function(){return null},ve.cloneElement=function(x,H,F){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var ae=A({},x.props),fe=x.key;if(H!=null)for(ye in H.key!==void 0&&(fe=""+H.key),H)!Y.call(H,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&H.ref===void 0||(ae[ye]=H[ye]);var ye=arguments.length-2;if(ye===1)ae.children=F;else if(1<ye){for(var Oe=Array(ye),it=0;it<ye;it++)Oe[it]=arguments[it+2];ae.children=Oe}return M(x.type,fe,ae)},ve.createContext=function(x){return x={$$typeof:h,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},ve.createElement=function(x,H,F){var ae,fe={},ye=null;if(H!=null)for(ae in H.key!==void 0&&(ye=""+H.key),H)Y.call(H,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(fe[ae]=H[ae]);var Oe=arguments.length-2;if(Oe===1)fe.children=F;else if(1<Oe){for(var it=Array(Oe),Ve=0;Ve<Oe;Ve++)it[Ve]=arguments[Ve+2];fe.children=it}if(x&&x.defaultProps)for(ae in Oe=x.defaultProps,Oe)fe[ae]===void 0&&(fe[ae]=Oe[ae]);return M(x,ye,fe)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(x){return{$$typeof:m,render:x}},ve.isValidElement=me,ve.lazy=function(x){return{$$typeof:y,_payload:{_status:-1,_result:x},_init:Z}},ve.memo=function(x,H){return{$$typeof:p,type:x,compare:H===void 0?null:H}},ve.startTransition=function(x){var H=I.T,F={};I.T=F;try{var ae=x(),fe=I.S;fe!==null&&fe(F,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(J,K)}catch(ye){K(ye)}finally{H!==null&&F.types!==null&&(H.types=F.types),I.T=H}},ve.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},ve.use=function(x){return I.H.use(x)},ve.useActionState=function(x,H,F){return I.H.useActionState(x,H,F)},ve.useCallback=function(x,H){return I.H.useCallback(x,H)},ve.useContext=function(x){return I.H.useContext(x)},ve.useDebugValue=function(){},ve.useDeferredValue=function(x,H){return I.H.useDeferredValue(x,H)},ve.useEffect=function(x,H){return I.H.useEffect(x,H)},ve.useEffectEvent=function(x){return I.H.useEffectEvent(x)},ve.useId=function(){return I.H.useId()},ve.useImperativeHandle=function(x,H,F){return I.H.useImperativeHandle(x,H,F)},ve.useInsertionEffect=function(x,H){return I.H.useInsertionEffect(x,H)},ve.useLayoutEffect=function(x,H){return I.H.useLayoutEffect(x,H)},ve.useMemo=function(x,H){return I.H.useMemo(x,H)},ve.useOptimistic=function(x,H){return I.H.useOptimistic(x,H)},ve.useReducer=function(x,H,F){return I.H.useReducer(x,H,F)},ve.useRef=function(x){return I.H.useRef(x)},ve.useState=function(x){return I.H.useState(x)},ve.useSyncExternalStore=function(x,H,F){return I.H.useSyncExternalStore(x,H,F)},ve.useTransition=function(){return I.H.useTransition()},ve.version="19.2.1",ve}var uv;function Gc(){return uv||(uv=1,lc.exports=W0()),lc.exports}var N=Gc(),oc={exports:{}},zi={},uc={exports:{}},cc={};var cv;function eb(){return cv||(cv=1,(function(r){function n(B,P){var Z=B.length;B.push(P);e:for(;0<Z;){var K=Z-1>>>1,ee=B[K];if(0<u(ee,P))B[K]=P,B[Z]=ee,Z=K;else break e}}function s(B){return B.length===0?null:B[0]}function l(B){if(B.length===0)return null;var P=B[0],Z=B.pop();if(Z!==P){B[0]=Z;e:for(var K=0,ee=B.length,x=ee>>>1;K<x;){var H=2*(K+1)-1,F=B[H],ae=H+1,fe=B[ae];if(0>u(F,Z))ae<ee&&0>u(fe,F)?(B[K]=fe,B[ae]=Z,K=ae):(B[K]=F,B[H]=Z,K=H);else if(ae<ee&&0>u(fe,Z))B[K]=fe,B[ae]=Z,K=ae;else break e}}return P}function u(B,P){var Z=B.sortIndex-P.sortIndex;return Z!==0?Z:B.id-P.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var v=[],p=[],y=1,_=null,w=3,S=!1,j=!1,A=!1,T=!1,U=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function Q(B){for(var P=s(p);P!==null;){if(P.callback===null)l(p);else if(P.startTime<=B)l(p),P.sortIndex=P.expirationTime,n(v,P);else break;P=s(p)}}function te(B){if(A=!1,Q(B),!j)if(s(v)!==null)j=!0,J||(J=!0,_e());else{var P=s(p);P!==null&&we(te,P.startTime-B)}}var J=!1,I=-1,Y=5,M=-1;function W(){return T?!0:!(r.unstable_now()-M<Y)}function me(){if(T=!1,J){var B=r.unstable_now();M=B;var P=!0;try{e:{j=!1,A&&(A=!1,z(I),I=-1),S=!0;var Z=w;try{t:{for(Q(B),_=s(v);_!==null&&!(_.expirationTime>B&&W());){var K=_.callback;if(typeof K=="function"){_.callback=null,w=_.priorityLevel;var ee=K(_.expirationTime<=B);if(B=r.unstable_now(),typeof ee=="function"){_.callback=ee,Q(B),P=!0;break t}_===s(v)&&l(v),Q(B)}else l(v);_=s(v)}if(_!==null)P=!0;else{var x=s(p);x!==null&&we(te,x.startTime-B),P=!1}}break e}finally{_=null,w=Z,S=!1}P=void 0}}finally{P?_e():J=!1}}}var _e;if(typeof q=="function")_e=function(){q(me)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,oe=Xe.port2;Xe.port1.onmessage=me,_e=function(){oe.postMessage(null)}}else _e=function(){U(me,0)};function we(B,P){I=U(function(){B(r.unstable_now())},P)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(B){B.callback=null},r.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<B?Math.floor(1e3/B):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(B){switch(w){case 1:case 2:case 3:var P=3;break;default:P=w}var Z=w;w=P;try{return B()}finally{w=Z}},r.unstable_requestPaint=function(){T=!0},r.unstable_runWithPriority=function(B,P){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Z=w;w=B;try{return P()}finally{w=Z}},r.unstable_scheduleCallback=function(B,P,Z){var K=r.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?K+Z:K):Z=K,B){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=Z+ee,B={id:y++,callback:P,priorityLevel:B,startTime:Z,expirationTime:ee,sortIndex:-1},Z>K?(B.sortIndex=Z,n(p,B),s(v)===null&&B===s(p)&&(A?(z(I),I=-1):A=!0,we(te,Z-K))):(B.sortIndex=ee,n(v,B),j||S||(j=!0,J||(J=!0,_e()))),B},r.unstable_shouldYield=W,r.unstable_wrapCallback=function(B){var P=w;return function(){var Z=w;w=P;try{return B.apply(this,arguments)}finally{w=Z}}}})(cc)),cc}var dv;function tb(){return dv||(dv=1,uc.exports=eb()),uc.exports}var dc={exports:{}},gt={};var hv;function ab(){if(hv)return gt;hv=1;var r=Gc();function n(v){var p="https://react.dev/errors/"+v;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+v+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},u=Symbol.for("react.portal");function c(v,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:_==null?null:""+_,children:v,containerInfo:p,implementation:y}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(v,p){if(v==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,gt.createPortal=function(v,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return c(v,p,null,y)},gt.flushSync=function(v){var p=h.T,y=l.p;try{if(h.T=null,l.p=2,v)return v()}finally{h.T=p,l.p=y,l.d.f()}},gt.preconnect=function(v,p){typeof v=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(v,p))},gt.prefetchDNS=function(v){typeof v=="string"&&l.d.D(v)},gt.preinit=function(v,p){if(typeof v=="string"&&p&&typeof p.as=="string"){var y=p.as,_=m(y,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?l.d.S(v,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:S}):y==="script"&&l.d.X(v,{crossOrigin:_,integrity:w,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},gt.preinitModule=function(v,p){if(typeof v=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=m(p.as,p.crossOrigin);l.d.M(v,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(v)},gt.preload=function(v,p){if(typeof v=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=m(y,p.crossOrigin);l.d.L(v,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},gt.preloadModule=function(v,p){if(typeof v=="string")if(p){var y=m(p.as,p.crossOrigin);l.d.m(v,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(v)},gt.requestFormReset=function(v){l.d.r(v)},gt.unstable_batchedUpdates=function(v,p){return v(p)},gt.useFormState=function(v,p,y){return h.H.useFormState(v,p,y)},gt.useFormStatus=function(){return h.H.useHostTransitionStatus()},gt.version="19.2.1",gt}var fv;function nb(){if(fv)return dc.exports;fv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),dc.exports=ab(),dc.exports}var mv;function sb(){if(mv)return zi;mv=1;var r=tb(),n=Gc(),s=nb();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(l(188))}function p(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,i=t;;){var o=a.return;if(o===null)break;var d=o.alternate;if(d===null){if(i=o.return,i!==null){a=i;continue}break}if(o.child===d.child){for(d=o.child;d;){if(d===a)return v(o),e;if(d===i)return v(o),t;d=d.sibling}throw Error(l(188))}if(a.return!==i.return)a=o,i=d;else{for(var g=!1,b=o.child;b;){if(b===a){g=!0,a=o,i=d;break}if(b===i){g=!0,i=o,a=d;break}b=b.sibling}if(!g){for(b=d.child;b;){if(b===a){g=!0,a=d,i=o;break}if(b===i){g=!0,i=d,a=o;break}b=b.sibling}if(!g)throw Error(l(189))}}if(a.alternate!==i)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),q=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),me=Symbol.iterator;function _e(e){return e===null||typeof e!="object"?null:(e=me&&e[me]||e["@@iterator"],typeof e=="function"?e:null)}var Xe=Symbol.for("react.client.reference");function oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Xe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case U:return"Profiler";case T:return"StrictMode";case te:return"Suspense";case J:return"SuspenseList";case M:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case q:return e.displayName||"Context";case z:return(e._context.displayName||"Context")+".Consumer";case Q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return t=e.displayName||null,t!==null?t:oe(e.type)||"Memo";case Y:t=e._payload,e=e._init;try{return oe(e(t))}catch{}}return null}var we=Array.isArray,B=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},K=[],ee=-1;function x(e){return{current:e}}function H(e){0>ee||(e.current=K[ee],K[ee]=null,ee--)}function F(e,t){ee++,K[ee]=e.current,e.current=t}var ae=x(null),fe=x(null),ye=x(null),Oe=x(null);function it(e,t){switch(F(ye,t),F(fe,e),F(ae,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Am(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Am(t),e=Cm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(ae),F(ae,e)}function Ve(){H(ae),H(fe),H(ye)}function X(e){e.memoizedState!==null&&F(Oe,e);var t=ae.current,a=Cm(t,e.type);t!==a&&(F(fe,e),F(ae,a))}function de(e){fe.current===e&&(H(ae),H(fe)),Oe.current===e&&(H(Oe),Ci._currentValue=Z)}var ze,Te;function $t(e){if(ze===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);ze=t&&t[1]||"",Te=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ze+e+Te}var ue=!1;function Ae(e,t){if(!e||ue)return"";ue=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(L){var D=L}Reflect.construct(e,[],G)}else{try{G.call()}catch(L){D=L}e.call(G.prototype)}}else{try{throw Error()}catch(L){D=L}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(L){if(L&&D&&typeof L.stack=="string")return[L.stack,D.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=i.DetermineComponentFrameRoot(),g=d[0],b=d[1];if(g&&b){var E=g.split(`
`),k=b.split(`
`);for(o=i=0;i<E.length&&!E[i].includes("DetermineComponentFrameRoot");)i++;for(;o<k.length&&!k[o].includes("DetermineComponentFrameRoot");)o++;if(i===E.length||o===k.length)for(i=E.length-1,o=k.length-1;1<=i&&0<=o&&E[i]!==k[o];)o--;for(;1<=i&&0<=o;i--,o--)if(E[i]!==k[o]){if(i!==1||o!==1)do if(i--,o--,0>o||E[i]!==k[o]){var $=`
`+E[i].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=i&&0<=o);break}}}finally{ue=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?$t(a):""}function Nt(e,t){switch(e.tag){case 26:case 27:case 5:return $t(e.type);case 16:return $t("Lazy");case 13:return e.child!==t&&t!==null?$t("Suspense Fallback"):$t("Suspense");case 19:return $t("SuspenseList");case 0:case 15:return Ae(e.type,!1);case 11:return Ae(e.type.render,!1);case 1:return Ae(e.type,!0);case 31:return $t("Activity");default:return""}}function Hn(e){try{var t="",a=null;do t+=Nt(e,a),a=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Hs=Object.prototype.hasOwnProperty,Kl=r.unstable_scheduleCallback,Pl=r.unstable_cancelCallback,Tp=r.unstable_shouldYield,Np=r.unstable_requestPaint,Ot=r.unstable_now,Op=r.unstable_getCurrentPriorityLevel,rd=r.unstable_ImmediatePriority,ld=r.unstable_UserBlockingPriority,Zi=r.unstable_NormalPriority,Ap=r.unstable_LowPriority,od=r.unstable_IdlePriority,Cp=r.log,Rp=r.unstable_setDisableYieldValue,Vs=null,At=null;function Ua(e){if(typeof Cp=="function"&&Rp(e),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(Vs,e)}catch{}}var Ct=Math.clz32?Math.clz32:Up,kp=Math.log,Dp=Math.LN2;function Up(e){return e>>>=0,e===0?32:31-(kp(e)/Dp|0)|0}var Fi=256,Wi=262144,er=4194304;function dn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function tr(e,t,a){var i=e.pendingLanes;if(i===0)return 0;var o=0,d=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var b=i&134217727;return b!==0?(i=b&~d,i!==0?o=dn(i):(g&=b,g!==0?o=dn(g):a||(a=b&~e,a!==0&&(o=dn(a))))):(b=i&~d,b!==0?o=dn(b):g!==0?o=dn(g):a||(a=i&~e,a!==0&&(o=dn(a)))),o===0?0:t!==0&&t!==o&&(t&d)===0&&(d=o&-o,a=t&-t,d>=a||d===32&&(a&4194048)!==0)?t:o}function Gs(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function zp(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ud(){var e=er;return er<<=1,(er&62914560)===0&&(er=4194304),e}function Xl(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ys(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Mp(e,t,a,i,o,d){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,E=e.expirationTimes,k=e.hiddenUpdates;for(a=g&~a;0<a;){var $=31-Ct(a),G=1<<$;b[$]=0,E[$]=-1;var D=k[$];if(D!==null)for(k[$]=null,$=0;$<D.length;$++){var L=D[$];L!==null&&(L.lane&=-536870913)}a&=~G}i!==0&&cd(e,i,0),d!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=d&~(g&~t))}function cd(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Ct(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|a&261930}function dd(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var i=31-Ct(a),o=1<<i;o&t|e[i]&t&&(e[i]|=t),a&=~o}}function hd(e,t){var a=t&-t;return a=(a&42)!==0?1:Ql(a),(a&(e.suspendedLanes|t))!==0?0:a}function Ql(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Jl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function fd(){var e=P.p;return e!==0?e:(e=window.event,e===void 0?32:Wm(e.type))}function md(e,t){var a=P.p;try{return P.p=e,t()}finally{P.p=a}}var za=Math.random().toString(36).slice(2),ut="__reactFiber$"+za,bt="__reactProps$"+za,Vn="__reactContainer$"+za,Il="__reactEvents$"+za,Bp="__reactListeners$"+za,qp="__reactHandles$"+za,vd="__reactResources$"+za,Ks="__reactMarker$"+za;function Zl(e){delete e[ut],delete e[bt],delete e[Il],delete e[Bp],delete e[qp]}function Gn(e){var t=e[ut];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Vn]||a[ut]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Bm(e);e!==null;){if(a=e[ut])return a;e=Bm(e)}return t}e=a,a=e.parentNode}return null}function Yn(e){if(e=e[ut]||e[Vn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ps(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Kn(e){var t=e[vd];return t||(t=e[vd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function lt(e){e[Ks]=!0}var gd=new Set,pd={};function hn(e,t){Pn(e,t),Pn(e+"Capture",t)}function Pn(e,t){for(pd[e]=t,e=0;e<t.length;e++)gd.add(t[e])}var Lp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yd={},bd={};function $p(e){return Hs.call(bd,e)?!0:Hs.call(yd,e)?!1:Lp.test(e)?bd[e]=!0:(yd[e]=!0,!1)}function ar(e,t,a){if($p(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function nr(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ma(e,t,a,i){if(i===null)e.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+i)}}function Ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _d(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Hp(e,t,a){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,d=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(g){a=""+g,d.call(this,g)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fl(e){if(!e._valueTracker){var t=_d(e)?"checked":"value";e._valueTracker=Hp(e,t,""+e[t])}}function wd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),i="";return e&&(i=_d(e)?e.checked?"true":"false":e.value),e=i,e!==a?(t.setValue(e),!0):!1}function sr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Vp=/[\n"\\]/g;function Vt(e){return e.replace(Vp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Wl(e,t,a,i,o,d,g,b){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ht(t)):e.value!==""+Ht(t)&&(e.value=""+Ht(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?eo(e,g,Ht(t)):a!=null?eo(e,g,Ht(a)):i!=null&&e.removeAttribute("value"),o==null&&d!=null&&(e.defaultChecked=!!d),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Ht(b):e.removeAttribute("name")}function Sd(e,t,a,i,o,d,g,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){Fl(e);return}a=a!=null?""+Ht(a):"",t=t!=null?""+Ht(t):a,b||t===e.value||(e.value=t),e.defaultValue=t}i=i??o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=b?e.checked:!!i,e.defaultChecked=!!i,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Fl(e)}function eo(e,t,a){t==="number"&&sr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Xn(e,t,a,i){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&i&&(e[a].defaultSelected=!0)}else{for(a=""+Ht(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ed(e,t,a){if(t!=null&&(t=""+Ht(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Ht(a):""}function jd(e,t,a,i){if(t==null){if(i!=null){if(a!=null)throw Error(l(92));if(we(i)){if(1<i.length)throw Error(l(93));i=i[0]}a=i}a==null&&(a=""),t=a}a=Ht(t),e.defaultValue=a,i=e.textContent,i===a&&i!==""&&i!==null&&(e.value=i),Fl(e)}function Qn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Gp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xd(e,t,a){var i=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,a):typeof a!="number"||a===0||Gp.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Td(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var i in a)!a.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var o in t)i=t[o],t.hasOwnProperty(o)&&a[o]!==i&&xd(e,o,i)}else for(var d in t)t.hasOwnProperty(d)&&xd(e,d,t[d])}function to(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ir(e){return Kp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function va(){}var ao=null;function no(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jn=null,In=null;function Nd(e){var t=Yn(e);if(t&&(e=t.stateNode)){var a=e[bt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Wl(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Vt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var i=a[t];if(i!==e&&i.form===e.form){var o=i[bt]||null;if(!o)throw Error(l(90));Wl(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)i=a[t],i.form===e.form&&wd(i)}break e;case"textarea":Ed(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Xn(e,!!a.multiple,t,!1)}}}var so=!1;function Od(e,t,a){if(so)return e(t,a);so=!0;try{var i=e(t);return i}finally{if(so=!1,(Jn!==null||In!==null)&&(Pr(),Jn&&(t=Jn,e=In,In=Jn=null,Nd(t),e)))for(t=0;t<e.length;t++)Nd(e[t])}}function Xs(e,t){var a=e.stateNode;if(a===null)return null;var i=a[bt]||null;if(i===null)return null;a=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var ga=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),io=!1;if(ga)try{var Qs={};Object.defineProperty(Qs,"passive",{get:function(){io=!0}}),window.addEventListener("test",Qs,Qs),window.removeEventListener("test",Qs,Qs)}catch{io=!1}var Ma=null,ro=null,rr=null;function Ad(){if(rr)return rr;var e,t=ro,a=t.length,i,o="value"in Ma?Ma.value:Ma.textContent,d=o.length;for(e=0;e<a&&t[e]===o[e];e++);var g=a-e;for(i=1;i<=g&&t[a-i]===o[d-i];i++);return rr=o.slice(e,1<i?1-i:void 0)}function lr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function or(){return!0}function Cd(){return!1}function _t(e){function t(a,i,o,d,g){this._reactName=a,this._targetInst=o,this.type=i,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?or:Cd,this.isPropagationStopped=Cd,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),t}var fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ur=_t(fn),Js=_({},fn,{view:0,detail:0}),Pp=_t(Js),lo,oo,Is,cr=_({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:co,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Is&&(Is&&e.type==="mousemove"?(lo=e.screenX-Is.screenX,oo=e.screenY-Is.screenY):oo=lo=0,Is=e),lo)},movementY:function(e){return"movementY"in e?e.movementY:oo}}),Rd=_t(cr),Xp=_({},cr,{dataTransfer:0}),Qp=_t(Xp),Jp=_({},Js,{relatedTarget:0}),uo=_t(Jp),Ip=_({},fn,{animationName:0,elapsedTime:0,pseudoElement:0}),Zp=_t(Ip),Fp=_({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wp=_t(Fp),ey=_({},fn,{data:0}),kd=_t(ey),ty={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ay={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ny={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ny[e])?!!t[e]:!1}function co(){return sy}var iy=_({},Js,{key:function(e){if(e.key){var t=ty[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=lr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ay[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:co,charCode:function(e){return e.type==="keypress"?lr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?lr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ry=_t(iy),ly=_({},cr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dd=_t(ly),oy=_({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:co}),uy=_t(oy),cy=_({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),dy=_t(cy),hy=_({},cr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fy=_t(hy),my=_({},fn,{newState:0,oldState:0}),vy=_t(my),gy=[9,13,27,32],ho=ga&&"CompositionEvent"in window,Zs=null;ga&&"documentMode"in document&&(Zs=document.documentMode);var py=ga&&"TextEvent"in window&&!Zs,Ud=ga&&(!ho||Zs&&8<Zs&&11>=Zs),zd=" ",Md=!1;function Bd(e,t){switch(e){case"keyup":return gy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zn=!1;function yy(e,t){switch(e){case"compositionend":return qd(t);case"keypress":return t.which!==32?null:(Md=!0,zd);case"textInput":return e=t.data,e===zd&&Md?null:e;default:return null}}function by(e,t){if(Zn)return e==="compositionend"||!ho&&Bd(e,t)?(e=Ad(),rr=ro=Ma=null,Zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ud&&t.locale!=="ko"?null:t.data;default:return null}}var _y={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ld(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_y[e.type]:t==="textarea"}function $d(e,t,a,i){Jn?In?In.push(i):In=[i]:Jn=i,t=Wr(t,"onChange"),0<t.length&&(a=new ur("onChange","change",null,a,i),e.push({event:a,listeners:t}))}var Fs=null,Ws=null;function wy(e){Em(e,0)}function dr(e){var t=Ps(e);if(wd(t))return e}function Hd(e,t){if(e==="change")return t}var Vd=!1;if(ga){var fo;if(ga){var mo="oninput"in document;if(!mo){var Gd=document.createElement("div");Gd.setAttribute("oninput","return;"),mo=typeof Gd.oninput=="function"}fo=mo}else fo=!1;Vd=fo&&(!document.documentMode||9<document.documentMode)}function Yd(){Fs&&(Fs.detachEvent("onpropertychange",Kd),Ws=Fs=null)}function Kd(e){if(e.propertyName==="value"&&dr(Ws)){var t=[];$d(t,Ws,e,no(e)),Od(wy,t)}}function Sy(e,t,a){e==="focusin"?(Yd(),Fs=t,Ws=a,Fs.attachEvent("onpropertychange",Kd)):e==="focusout"&&Yd()}function Ey(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return dr(Ws)}function jy(e,t){if(e==="click")return dr(t)}function xy(e,t){if(e==="input"||e==="change")return dr(t)}function Ty(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rt=typeof Object.is=="function"?Object.is:Ty;function ei(e,t){if(Rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(i=0;i<a.length;i++){var o=a[i];if(!Hs.call(t,o)||!Rt(e[o],t[o]))return!1}return!0}function Pd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xd(e,t){var a=Pd(e);e=0;for(var i;a;){if(a.nodeType===3){if(i=e+a.textContent.length,e<=t&&i>=t)return{node:a,offset:t-e};e=i}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Pd(a)}}function Qd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Qd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Jd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=sr(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=sr(e.document)}return t}function vo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Ny=ga&&"documentMode"in document&&11>=document.documentMode,Fn=null,go=null,ti=null,po=!1;function Id(e,t,a){var i=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;po||Fn==null||Fn!==sr(i)||(i=Fn,"selectionStart"in i&&vo(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ti&&ei(ti,i)||(ti=i,i=Wr(go,"onSelect"),0<i.length&&(t=new ur("onSelect","select",null,t,a),e.push({event:t,listeners:i}),t.target=Fn)))}function mn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Wn={animationend:mn("Animation","AnimationEnd"),animationiteration:mn("Animation","AnimationIteration"),animationstart:mn("Animation","AnimationStart"),transitionrun:mn("Transition","TransitionRun"),transitionstart:mn("Transition","TransitionStart"),transitioncancel:mn("Transition","TransitionCancel"),transitionend:mn("Transition","TransitionEnd")},yo={},Zd={};ga&&(Zd=document.createElement("div").style,"AnimationEvent"in window||(delete Wn.animationend.animation,delete Wn.animationiteration.animation,delete Wn.animationstart.animation),"TransitionEvent"in window||delete Wn.transitionend.transition);function vn(e){if(yo[e])return yo[e];if(!Wn[e])return e;var t=Wn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Zd)return yo[e]=t[a];return e}var Fd=vn("animationend"),Wd=vn("animationiteration"),eh=vn("animationstart"),Oy=vn("transitionrun"),Ay=vn("transitionstart"),Cy=vn("transitioncancel"),th=vn("transitionend"),ah=new Map,bo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bo.push("scrollEnd");function Zt(e,t){ah.set(e,t),hn(t,[e])}var hr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Gt=[],es=0,_o=0;function fr(){for(var e=es,t=_o=es=0;t<e;){var a=Gt[t];Gt[t++]=null;var i=Gt[t];Gt[t++]=null;var o=Gt[t];Gt[t++]=null;var d=Gt[t];if(Gt[t++]=null,i!==null&&o!==null){var g=i.pending;g===null?o.next=o:(o.next=g.next,g.next=o),i.pending=o}d!==0&&nh(a,o,d)}}function mr(e,t,a,i){Gt[es++]=e,Gt[es++]=t,Gt[es++]=a,Gt[es++]=i,_o|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function wo(e,t,a,i){return mr(e,t,a,i),vr(e)}function gn(e,t){return mr(e,null,null,t),vr(e)}function nh(e,t,a){e.lanes|=a;var i=e.alternate;i!==null&&(i.lanes|=a);for(var o=!1,d=e.return;d!==null;)d.childLanes|=a,i=d.alternate,i!==null&&(i.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(o=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,o&&t!==null&&(o=31-Ct(a),e=d.hiddenUpdates,i=e[o],i===null?e[o]=[t]:i.push(t),t.lane=a|536870912),d):null}function vr(e){if(50<Ei)throw Ei=0,Cu=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ts={};function Ry(e,t,a,i){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,t,a,i){return new Ry(e,t,a,i)}function So(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pa(e,t){var a=e.alternate;return a===null?(a=kt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function sh(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function gr(e,t,a,i,o,d){var g=0;if(i=e,typeof e=="function")So(e)&&(g=1);else if(typeof e=="string")g=M0(e,a,ae.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case M:return e=kt(31,a,t,o),e.elementType=M,e.lanes=d,e;case A:return pn(a.children,o,d,t);case T:g=8,o|=24;break;case U:return e=kt(12,a,t,o|2),e.elementType=U,e.lanes=d,e;case te:return e=kt(13,a,t,o),e.elementType=te,e.lanes=d,e;case J:return e=kt(19,a,t,o),e.elementType=J,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q:g=10;break e;case z:g=9;break e;case Q:g=11;break e;case I:g=14;break e;case Y:g=16,i=null;break e}g=29,a=Error(l(130,e===null?"null":typeof e,"")),i=null}return t=kt(g,a,t,o),t.elementType=e,t.type=i,t.lanes=d,t}function pn(e,t,a,i){return e=kt(7,e,i,t),e.lanes=a,e}function Eo(e,t,a){return e=kt(6,e,null,t),e.lanes=a,e}function ih(e){var t=kt(18,null,null,0);return t.stateNode=e,t}function jo(e,t,a){return t=kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var rh=new WeakMap;function Yt(e,t){if(typeof e=="object"&&e!==null){var a=rh.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Hn(t)},rh.set(e,t),t)}return{value:e,source:t,stack:Hn(t)}}var as=[],ns=0,pr=null,ai=0,Kt=[],Pt=0,Ba=null,ra=1,la="";function ya(e,t){as[ns++]=ai,as[ns++]=pr,pr=e,ai=t}function lh(e,t,a){Kt[Pt++]=ra,Kt[Pt++]=la,Kt[Pt++]=Ba,Ba=e;var i=ra;e=la;var o=32-Ct(i)-1;i&=~(1<<o),a+=1;var d=32-Ct(t)+o;if(30<d){var g=o-o%5;d=(i&(1<<g)-1).toString(32),i>>=g,o-=g,ra=1<<32-Ct(t)+o|a<<o|i,la=d+e}else ra=1<<d|a<<o|i,la=e}function xo(e){e.return!==null&&(ya(e,1),lh(e,1,0))}function To(e){for(;e===pr;)pr=as[--ns],as[ns]=null,ai=as[--ns],as[ns]=null;for(;e===Ba;)Ba=Kt[--Pt],Kt[Pt]=null,la=Kt[--Pt],Kt[Pt]=null,ra=Kt[--Pt],Kt[Pt]=null}function oh(e,t){Kt[Pt++]=ra,Kt[Pt++]=la,Kt[Pt++]=Ba,ra=t.id,la=t.overflow,Ba=e}var ct=null,Ge=null,Ne=!1,qa=null,Xt=!1,No=Error(l(519));function La(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ni(Yt(t,e)),No}function uh(e){var t=e.stateNode,a=e.type,i=e.memoizedProps;switch(t[ut]=e,t[bt]=i,a){case"dialog":Ee("cancel",t),Ee("close",t);break;case"iframe":case"object":case"embed":Ee("load",t);break;case"video":case"audio":for(a=0;a<xi.length;a++)Ee(xi[a],t);break;case"source":Ee("error",t);break;case"img":case"image":case"link":Ee("error",t),Ee("load",t);break;case"details":Ee("toggle",t);break;case"input":Ee("invalid",t),Sd(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":Ee("invalid",t);break;case"textarea":Ee("invalid",t),jd(t,i.value,i.defaultValue,i.children)}a=i.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||i.suppressHydrationWarning===!0||Nm(t.textContent,a)?(i.popover!=null&&(Ee("beforetoggle",t),Ee("toggle",t)),i.onScroll!=null&&Ee("scroll",t),i.onScrollEnd!=null&&Ee("scrollend",t),i.onClick!=null&&(t.onclick=va),t=!0):t=!1,t||La(e,!0)}function ch(e){for(ct=e.return;ct;)switch(ct.tag){case 5:case 31:case 13:Xt=!1;return;case 27:case 3:Xt=!0;return;default:ct=ct.return}}function ss(e){if(e!==ct)return!1;if(!Ne)return ch(e),Ne=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ku(e.type,e.memoizedProps)),a=!a),a&&Ge&&La(e),ch(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Ge=Mm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Ge=Mm(e)}else t===27?(t=Ge,Wa(e.type)?(e=Iu,Iu=null,Ge=e):Ge=t):Ge=ct?Jt(e.stateNode.nextSibling):null;return!0}function yn(){Ge=ct=null,Ne=!1}function Oo(){var e=qa;return e!==null&&(jt===null?jt=e:jt.push.apply(jt,e),qa=null),e}function ni(e){qa===null?qa=[e]:qa.push(e)}var Ao=x(null),bn=null,ba=null;function $a(e,t,a){F(Ao,t._currentValue),t._currentValue=a}function _a(e){e._currentValue=Ao.current,H(Ao)}function Co(e,t,a){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===a)break;e=e.return}}function Ro(e,t,a,i){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){var g=o.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=o;for(var E=0;E<t.length;E++)if(b.context===t[E]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Co(d.return,a,e),i||(g=null);break e}d=b.next}}else if(o.tag===18){if(g=o.return,g===null)throw Error(l(341));g.lanes|=a,d=g.alternate,d!==null&&(d.lanes|=a),Co(g,a,e),g=null}else g=o.child;if(g!==null)g.return=o;else for(g=o;g!==null;){if(g===e){g=null;break}if(o=g.sibling,o!==null){o.return=g.return,g=o;break}g=g.return}o=g}}function is(e,t,a,i){e=null;for(var o=t,d=!1;o!==null;){if(!d){if((o.flags&524288)!==0)d=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var g=o.alternate;if(g===null)throw Error(l(387));if(g=g.memoizedProps,g!==null){var b=o.type;Rt(o.pendingProps.value,g.value)||(e!==null?e.push(b):e=[b])}}else if(o===Oe.current){if(g=o.alternate,g===null)throw Error(l(387));g.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Ci):e=[Ci])}o=o.return}e!==null&&Ro(t,e,a,i),t.flags|=262144}function yr(e){for(e=e.firstContext;e!==null;){if(!Rt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _n(e){bn=e,ba=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function dt(e){return dh(bn,e)}function br(e,t){return bn===null&&_n(e),dh(e,t)}function dh(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ba===null){if(e===null)throw Error(l(308));ba=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ba=ba.next=t;return a}var ky=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Dy=r.unstable_scheduleCallback,Uy=r.unstable_NormalPriority,We={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ko(){return{controller:new ky,data:new Map,refCount:0}}function si(e){e.refCount--,e.refCount===0&&Dy(Uy,function(){e.controller.abort()})}var ii=null,Do=0,rs=0,ls=null;function zy(e,t){if(ii===null){var a=ii=[];Do=0,rs=Mu(),ls={status:"pending",value:void 0,then:function(i){a.push(i)}}}return Do++,t.then(hh,hh),t}function hh(){if(--Do===0&&ii!==null){ls!==null&&(ls.status="fulfilled");var e=ii;ii=null,rs=0,ls=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function My(e,t){var a=[],i={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(i.status="rejected",i.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),i}var fh=B.S;B.S=function(e,t){Zf=Ot(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&zy(e,t),fh!==null&&fh(e,t)};var wn=x(null);function Uo(){var e=wn.current;return e!==null?e:$e.pooledCache}function _r(e,t){t===null?F(wn,wn.current):F(wn,t.pool)}function mh(){var e=Uo();return e===null?null:{parent:We._currentValue,pool:e}}var os=Error(l(460)),zo=Error(l(474)),wr=Error(l(542)),Sr={then:function(){}};function vh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function gh(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(va,va),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,yh(e),e;default:if(typeof t.status=="string")t.then(va,va);else{if(e=$e,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=i}},function(i){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,yh(e),e}throw En=t,os}}function Sn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(En=a,os):a}}var En=null;function ph(){if(En===null)throw Error(l(459));var e=En;return En=null,e}function yh(e){if(e===os||e===wr)throw Error(l(483))}var us=null,ri=0;function Er(e){var t=ri;return ri+=1,us===null&&(us=[]),gh(us,e,t)}function li(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function jr(e,t){throw t.$$typeof===w?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function bh(e){function t(C,O){if(e){var R=C.deletions;R===null?(C.deletions=[O],C.flags|=16):R.push(O)}}function a(C,O){if(!e)return null;for(;O!==null;)t(C,O),O=O.sibling;return null}function i(C){for(var O=new Map;C!==null;)C.key!==null?O.set(C.key,C):O.set(C.index,C),C=C.sibling;return O}function o(C,O){return C=pa(C,O),C.index=0,C.sibling=null,C}function d(C,O,R){return C.index=R,e?(R=C.alternate,R!==null?(R=R.index,R<O?(C.flags|=67108866,O):R):(C.flags|=67108866,O)):(C.flags|=1048576,O)}function g(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function b(C,O,R,V){return O===null||O.tag!==6?(O=Eo(R,C.mode,V),O.return=C,O):(O=o(O,R),O.return=C,O)}function E(C,O,R,V){var le=R.type;return le===A?$(C,O,R.props.children,V,R.key):O!==null&&(O.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===Y&&Sn(le)===O.type)?(O=o(O,R.props),li(O,R),O.return=C,O):(O=gr(R.type,R.key,R.props,null,C.mode,V),li(O,R),O.return=C,O)}function k(C,O,R,V){return O===null||O.tag!==4||O.stateNode.containerInfo!==R.containerInfo||O.stateNode.implementation!==R.implementation?(O=jo(R,C.mode,V),O.return=C,O):(O=o(O,R.children||[]),O.return=C,O)}function $(C,O,R,V,le){return O===null||O.tag!==7?(O=pn(R,C.mode,V,le),O.return=C,O):(O=o(O,R),O.return=C,O)}function G(C,O,R){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Eo(""+O,C.mode,R),O.return=C,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case S:return R=gr(O.type,O.key,O.props,null,C.mode,R),li(R,O),R.return=C,R;case j:return O=jo(O,C.mode,R),O.return=C,O;case Y:return O=Sn(O),G(C,O,R)}if(we(O)||_e(O))return O=pn(O,C.mode,R,null),O.return=C,O;if(typeof O.then=="function")return G(C,Er(O),R);if(O.$$typeof===q)return G(C,br(C,O),R);jr(C,O)}return null}function D(C,O,R,V){var le=O!==null?O.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return le!==null?null:b(C,O,""+R,V);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case S:return R.key===le?E(C,O,R,V):null;case j:return R.key===le?k(C,O,R,V):null;case Y:return R=Sn(R),D(C,O,R,V)}if(we(R)||_e(R))return le!==null?null:$(C,O,R,V,null);if(typeof R.then=="function")return D(C,O,Er(R),V);if(R.$$typeof===q)return D(C,O,br(C,R),V);jr(C,R)}return null}function L(C,O,R,V,le){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return C=C.get(R)||null,b(O,C,""+V,le);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case S:return C=C.get(V.key===null?R:V.key)||null,E(O,C,V,le);case j:return C=C.get(V.key===null?R:V.key)||null,k(O,C,V,le);case Y:return V=Sn(V),L(C,O,R,V,le)}if(we(V)||_e(V))return C=C.get(R)||null,$(O,C,V,le,null);if(typeof V.then=="function")return L(C,O,R,Er(V),le);if(V.$$typeof===q)return L(C,O,R,br(O,V),le);jr(O,V)}return null}function se(C,O,R,V){for(var le=null,Ce=null,ie=O,be=O=0,xe=null;ie!==null&&be<R.length;be++){ie.index>be?(xe=ie,ie=null):xe=ie.sibling;var Re=D(C,ie,R[be],V);if(Re===null){ie===null&&(ie=xe);break}e&&ie&&Re.alternate===null&&t(C,ie),O=d(Re,O,be),Ce===null?le=Re:Ce.sibling=Re,Ce=Re,ie=xe}if(be===R.length)return a(C,ie),Ne&&ya(C,be),le;if(ie===null){for(;be<R.length;be++)ie=G(C,R[be],V),ie!==null&&(O=d(ie,O,be),Ce===null?le=ie:Ce.sibling=ie,Ce=ie);return Ne&&ya(C,be),le}for(ie=i(ie);be<R.length;be++)xe=L(ie,C,be,R[be],V),xe!==null&&(e&&xe.alternate!==null&&ie.delete(xe.key===null?be:xe.key),O=d(xe,O,be),Ce===null?le=xe:Ce.sibling=xe,Ce=xe);return e&&ie.forEach(function(sn){return t(C,sn)}),Ne&&ya(C,be),le}function ce(C,O,R,V){if(R==null)throw Error(l(151));for(var le=null,Ce=null,ie=O,be=O=0,xe=null,Re=R.next();ie!==null&&!Re.done;be++,Re=R.next()){ie.index>be?(xe=ie,ie=null):xe=ie.sibling;var sn=D(C,ie,Re.value,V);if(sn===null){ie===null&&(ie=xe);break}e&&ie&&sn.alternate===null&&t(C,ie),O=d(sn,O,be),Ce===null?le=sn:Ce.sibling=sn,Ce=sn,ie=xe}if(Re.done)return a(C,ie),Ne&&ya(C,be),le;if(ie===null){for(;!Re.done;be++,Re=R.next())Re=G(C,Re.value,V),Re!==null&&(O=d(Re,O,be),Ce===null?le=Re:Ce.sibling=Re,Ce=Re);return Ne&&ya(C,be),le}for(ie=i(ie);!Re.done;be++,Re=R.next())Re=L(ie,C,be,Re.value,V),Re!==null&&(e&&Re.alternate!==null&&ie.delete(Re.key===null?be:Re.key),O=d(Re,O,be),Ce===null?le=Re:Ce.sibling=Re,Ce=Re);return e&&ie.forEach(function(X0){return t(C,X0)}),Ne&&ya(C,be),le}function qe(C,O,R,V){if(typeof R=="object"&&R!==null&&R.type===A&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case S:e:{for(var le=R.key;O!==null;){if(O.key===le){if(le=R.type,le===A){if(O.tag===7){a(C,O.sibling),V=o(O,R.props.children),V.return=C,C=V;break e}}else if(O.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===Y&&Sn(le)===O.type){a(C,O.sibling),V=o(O,R.props),li(V,R),V.return=C,C=V;break e}a(C,O);break}else t(C,O);O=O.sibling}R.type===A?(V=pn(R.props.children,C.mode,V,R.key),V.return=C,C=V):(V=gr(R.type,R.key,R.props,null,C.mode,V),li(V,R),V.return=C,C=V)}return g(C);case j:e:{for(le=R.key;O!==null;){if(O.key===le)if(O.tag===4&&O.stateNode.containerInfo===R.containerInfo&&O.stateNode.implementation===R.implementation){a(C,O.sibling),V=o(O,R.children||[]),V.return=C,C=V;break e}else{a(C,O);break}else t(C,O);O=O.sibling}V=jo(R,C.mode,V),V.return=C,C=V}return g(C);case Y:return R=Sn(R),qe(C,O,R,V)}if(we(R))return se(C,O,R,V);if(_e(R)){if(le=_e(R),typeof le!="function")throw Error(l(150));return R=le.call(R),ce(C,O,R,V)}if(typeof R.then=="function")return qe(C,O,Er(R),V);if(R.$$typeof===q)return qe(C,O,br(C,R),V);jr(C,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,O!==null&&O.tag===6?(a(C,O.sibling),V=o(O,R),V.return=C,C=V):(a(C,O),V=Eo(R,C.mode,V),V.return=C,C=V),g(C)):a(C,O)}return function(C,O,R,V){try{ri=0;var le=qe(C,O,R,V);return us=null,le}catch(ie){if(ie===os||ie===wr)throw ie;var Ce=kt(29,ie,null,C.mode);return Ce.lanes=V,Ce.return=C,Ce}finally{}}}var jn=bh(!0),_h=bh(!1),Ha=!1;function Mo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Va(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ga(e,t,a){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(ke&2)!==0){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,t=vr(e),nh(e,null,a),t}return mr(e,i,t,a),vr(e)}function oi(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,dd(e,a)}}function qo(e,t){var a=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,a===i)){var o=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?o=d=g:d=d.next=g,a=a.next}while(a!==null);d===null?o=d=t:d=d.next=t}else o=d=t;a={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:d,shared:i.shared,callbacks:i.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Lo=!1;function ui(){if(Lo){var e=ls;if(e!==null)throw e}}function ci(e,t,a,i){Lo=!1;var o=e.updateQueue;Ha=!1;var d=o.firstBaseUpdate,g=o.lastBaseUpdate,b=o.shared.pending;if(b!==null){o.shared.pending=null;var E=b,k=E.next;E.next=null,g===null?d=k:g.next=k,g=E;var $=e.alternate;$!==null&&($=$.updateQueue,b=$.lastBaseUpdate,b!==g&&(b===null?$.firstBaseUpdate=k:b.next=k,$.lastBaseUpdate=E))}if(d!==null){var G=o.baseState;g=0,$=k=E=null,b=d;do{var D=b.lane&-536870913,L=D!==b.lane;if(L?(je&D)===D:(i&D)===D){D!==0&&D===rs&&(Lo=!0),$!==null&&($=$.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var se=e,ce=b;D=t;var qe=a;switch(ce.tag){case 1:if(se=ce.payload,typeof se=="function"){G=se.call(qe,G,D);break e}G=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=ce.payload,D=typeof se=="function"?se.call(qe,G,D):se,D==null)break e;G=_({},G,D);break e;case 2:Ha=!0}}D=b.callback,D!==null&&(e.flags|=64,L&&(e.flags|=8192),L=o.callbacks,L===null?o.callbacks=[D]:L.push(D))}else L={lane:D,tag:b.tag,payload:b.payload,callback:b.callback,next:null},$===null?(k=$=L,E=G):$=$.next=L,g|=D;if(b=b.next,b===null){if(b=o.shared.pending,b===null)break;L=b,b=L.next,L.next=null,o.lastBaseUpdate=L,o.shared.pending=null}}while(!0);$===null&&(E=G),o.baseState=E,o.firstBaseUpdate=k,o.lastBaseUpdate=$,d===null&&(o.shared.lanes=0),Qa|=g,e.lanes=g,e.memoizedState=G}}function wh(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Sh(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)wh(a[e],t)}var cs=x(null),xr=x(0);function Eh(e,t){e=Aa,F(xr,e),F(cs,t),Aa=e|t.baseLanes}function $o(){F(xr,Aa),F(cs,cs.current)}function Ho(){Aa=xr.current,H(cs),H(xr)}var Dt=x(null),Qt=null;function Ya(e){var t=e.alternate;F(Ze,Ze.current&1),F(Dt,e),Qt===null&&(t===null||cs.current!==null||t.memoizedState!==null)&&(Qt=e)}function Vo(e){F(Ze,Ze.current),F(Dt,e),Qt===null&&(Qt=e)}function jh(e){e.tag===22?(F(Ze,Ze.current),F(Dt,e),Qt===null&&(Qt=e)):Ka()}function Ka(){F(Ze,Ze.current),F(Dt,Dt.current)}function Ut(e){H(Dt),Qt===e&&(Qt=null),H(Ze)}var Ze=x(0);function Tr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Qu(a)||Ju(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wa=0,pe=null,Me=null,et=null,Nr=!1,ds=!1,xn=!1,Or=0,di=0,hs=null,By=0;function Qe(){throw Error(l(321))}function Go(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Rt(e[a],t[a]))return!1;return!0}function Yo(e,t,a,i,o,d){return wa=d,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B.H=e===null||e.memoizedState===null?of:iu,xn=!1,d=a(i,o),xn=!1,ds&&(d=Th(t,a,i,o)),xh(e),d}function xh(e){B.H=mi;var t=Me!==null&&Me.next!==null;if(wa=0,et=Me=pe=null,Nr=!1,di=0,hs=null,t)throw Error(l(300));e===null||tt||(e=e.dependencies,e!==null&&yr(e)&&(tt=!0))}function Th(e,t,a,i){pe=e;var o=0;do{if(ds&&(hs=null),di=0,ds=!1,25<=o)throw Error(l(301));if(o+=1,et=Me=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}B.H=uf,d=t(a,i)}while(ds);return d}function qy(){var e=B.H,t=e.useState()[0];return t=typeof t.then=="function"?hi(t):t,e=e.useState()[0],(Me!==null?Me.memoizedState:null)!==e&&(pe.flags|=1024),t}function Ko(){var e=Or!==0;return Or=0,e}function Po(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Xo(e){if(Nr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Nr=!1}wa=0,et=Me=pe=null,ds=!1,di=Or=0,hs=null}function yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?pe.memoizedState=et=e:et=et.next=e,et}function Fe(){if(Me===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=et===null?pe.memoizedState:et.next;if(t!==null)et=t,Me=e;else{if(e===null)throw pe.alternate===null?Error(l(467)):Error(l(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},et===null?pe.memoizedState=et=e:et=et.next=e}return et}function Ar(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hi(e){var t=di;return di+=1,hs===null&&(hs=[]),e=gh(hs,e,t),t=pe,(et===null?t.memoizedState:et.next)===null&&(t=t.alternate,B.H=t===null||t.memoizedState===null?of:iu),e}function Cr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return hi(e);if(e.$$typeof===q)return dt(e)}throw Error(l(438,String(e)))}function Qo(e){var t=null,a=pe.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var i=pe.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Ar(),pe.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),i=0;i<e;i++)a[i]=W;return t.index++,a}function Sa(e,t){return typeof t=="function"?t(e):t}function Rr(e){var t=Fe();return Jo(t,Me,e)}function Jo(e,t,a){var i=e.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=a;var o=e.baseQueue,d=i.pending;if(d!==null){if(o!==null){var g=o.next;o.next=d.next,d.next=g}t.baseQueue=o=d,i.pending=null}if(d=e.baseState,o===null)e.memoizedState=d;else{t=o.next;var b=g=null,E=null,k=t,$=!1;do{var G=k.lane&-536870913;if(G!==k.lane?(je&G)===G:(wa&G)===G){var D=k.revertLane;if(D===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),G===rs&&($=!0);else if((wa&D)===D){k=k.next,D===rs&&($=!0);continue}else G={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},E===null?(b=E=G,g=d):E=E.next=G,pe.lanes|=D,Qa|=D;G=k.action,xn&&a(d,G),d=k.hasEagerState?k.eagerState:a(d,G)}else D={lane:G,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},E===null?(b=E=D,g=d):E=E.next=D,pe.lanes|=G,Qa|=G;k=k.next}while(k!==null&&k!==t);if(E===null?g=d:E.next=b,!Rt(d,e.memoizedState)&&(tt=!0,$&&(a=ls,a!==null)))throw a;e.memoizedState=d,e.baseState=g,e.baseQueue=E,i.lastRenderedState=d}return o===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Io(e){var t=Fe(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var i=a.dispatch,o=a.pending,d=t.memoizedState;if(o!==null){a.pending=null;var g=o=o.next;do d=e(d,g.action),g=g.next;while(g!==o);Rt(d,t.memoizedState)||(tt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),a.lastRenderedState=d}return[d,i]}function Nh(e,t,a){var i=pe,o=Fe(),d=Ne;if(d){if(a===void 0)throw Error(l(407));a=a()}else a=t();var g=!Rt((Me||o).memoizedState,a);if(g&&(o.memoizedState=a,tt=!0),o=o.queue,Wo(Ch.bind(null,i,o,e),[e]),o.getSnapshot!==t||g||et!==null&&et.memoizedState.tag&1){if(i.flags|=2048,fs(9,{destroy:void 0},Ah.bind(null,i,o,a,t),null),$e===null)throw Error(l(349));d||(wa&127)!==0||Oh(i,t,a)}return a}function Oh(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=pe.updateQueue,t===null?(t=Ar(),pe.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Ah(e,t,a,i){t.value=a,t.getSnapshot=i,Rh(t)&&kh(e)}function Ch(e,t,a){return a(function(){Rh(t)&&kh(e)})}function Rh(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Rt(e,a)}catch{return!0}}function kh(e){var t=gn(e,2);t!==null&&xt(t,e,2)}function Zo(e){var t=yt();if(typeof e=="function"){var a=e;if(e=a(),xn){Ua(!0);try{a()}finally{Ua(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:e},t}function Dh(e,t,a,i){return e.baseState=a,Jo(e,Me,typeof i=="function"?i:Sa)}function Ly(e,t,a,i,o){if(Ur(e))throw Error(l(485));if(e=t.action,e!==null){var d={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};B.T!==null?a(!0):d.isTransition=!1,i(d),a=t.pending,a===null?(d.next=t.pending=d,Uh(t,d)):(d.next=a.next,t.pending=a.next=d)}}function Uh(e,t){var a=t.action,i=t.payload,o=e.state;if(t.isTransition){var d=B.T,g={};B.T=g;try{var b=a(o,i),E=B.S;E!==null&&E(g,b),zh(e,t,b)}catch(k){Fo(e,t,k)}finally{d!==null&&g.types!==null&&(d.types=g.types),B.T=d}}else try{d=a(o,i),zh(e,t,d)}catch(k){Fo(e,t,k)}}function zh(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(i){Mh(e,t,i)},function(i){return Fo(e,t,i)}):Mh(e,t,a)}function Mh(e,t,a){t.status="fulfilled",t.value=a,Bh(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Uh(e,a)))}function Fo(e,t,a){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=a,Bh(t),t=t.next;while(t!==i)}e.action=null}function Bh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function qh(e,t){return t}function Lh(e,t){if(Ne){var a=$e.formState;if(a!==null){e:{var i=pe;if(Ne){if(Ge){t:{for(var o=Ge,d=Xt;o.nodeType!==8;){if(!d){o=null;break t}if(o=Jt(o.nextSibling),o===null){o=null;break t}}d=o.data,o=d==="F!"||d==="F"?o:null}if(o){Ge=Jt(o.nextSibling),i=o.data==="F!";break e}}La(i)}i=!1}i&&(t=a[0])}}return a=yt(),a.memoizedState=a.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qh,lastRenderedState:t},a.queue=i,a=sf.bind(null,pe,i),i.dispatch=a,i=Zo(!1),d=su.bind(null,pe,!1,i.queue),i=yt(),o={state:t,dispatch:null,action:e,pending:null},i.queue=o,a=Ly.bind(null,pe,o,d,a),o.dispatch=a,i.memoizedState=e,[t,a,!1]}function $h(e){var t=Fe();return Hh(t,Me,e)}function Hh(e,t,a){if(t=Jo(e,t,qh)[0],e=Rr(Sa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=hi(t)}catch(g){throw g===os?wr:g}else i=t;t=Fe();var o=t.queue,d=o.dispatch;return a!==t.memoizedState&&(pe.flags|=2048,fs(9,{destroy:void 0},$y.bind(null,o,a),null)),[i,d,e]}function $y(e,t){e.action=t}function Vh(e){var t=Fe(),a=Me;if(a!==null)return Hh(t,a,e);Fe(),t=t.memoizedState,a=Fe();var i=a.queue.dispatch;return a.memoizedState=e,[t,i,!1]}function fs(e,t,a,i){return e={tag:e,create:a,deps:i,inst:t,next:null},t=pe.updateQueue,t===null&&(t=Ar(),pe.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(i=a.next,a.next=e,e.next=i,t.lastEffect=e),e}function Gh(){return Fe().memoizedState}function kr(e,t,a,i){var o=yt();pe.flags|=e,o.memoizedState=fs(1|t,{destroy:void 0},a,i===void 0?null:i)}function Dr(e,t,a,i){var o=Fe();i=i===void 0?null:i;var d=o.memoizedState.inst;Me!==null&&i!==null&&Go(i,Me.memoizedState.deps)?o.memoizedState=fs(t,d,a,i):(pe.flags|=e,o.memoizedState=fs(1|t,d,a,i))}function Yh(e,t){kr(8390656,8,e,t)}function Wo(e,t){Dr(2048,8,e,t)}function Hy(e){pe.flags|=4;var t=pe.updateQueue;if(t===null)t=Ar(),pe.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Kh(e){var t=Fe().memoizedState;return Hy({ref:t,nextImpl:e}),function(){if((ke&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Ph(e,t){return Dr(4,2,e,t)}function Xh(e,t){return Dr(4,4,e,t)}function Qh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Jh(e,t,a){a=a!=null?a.concat([e]):null,Dr(4,4,Qh.bind(null,t,e),a)}function eu(){}function Ih(e,t){var a=Fe();t=t===void 0?null:t;var i=a.memoizedState;return t!==null&&Go(t,i[1])?i[0]:(a.memoizedState=[e,t],e)}function Zh(e,t){var a=Fe();t=t===void 0?null:t;var i=a.memoizedState;if(t!==null&&Go(t,i[1]))return i[0];if(i=e(),xn){Ua(!0);try{e()}finally{Ua(!1)}}return a.memoizedState=[i,t],i}function tu(e,t,a){return a===void 0||(wa&1073741824)!==0&&(je&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Wf(),pe.lanes|=e,Qa|=e,a)}function Fh(e,t,a,i){return Rt(a,t)?a:cs.current!==null?(e=tu(e,a,i),Rt(e,t)||(tt=!0),e):(wa&42)===0||(wa&1073741824)!==0&&(je&261930)===0?(tt=!0,e.memoizedState=a):(e=Wf(),pe.lanes|=e,Qa|=e,t)}function Wh(e,t,a,i,o){var d=P.p;P.p=d!==0&&8>d?d:8;var g=B.T,b={};B.T=b,su(e,!1,t,a);try{var E=o(),k=B.S;if(k!==null&&k(b,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var $=My(E,i);fi(e,t,$,Bt(e))}else fi(e,t,i,Bt(e))}catch(G){fi(e,t,{then:function(){},status:"rejected",reason:G},Bt())}finally{P.p=d,g!==null&&b.types!==null&&(g.types=b.types),B.T=g}}function Vy(){}function au(e,t,a,i){if(e.tag!==5)throw Error(l(476));var o=ef(e).queue;Wh(e,o,t,Z,a===null?Vy:function(){return tf(e),a(i)})}function ef(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:Z},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function tf(e){var t=ef(e);t.next===null&&(t=e.alternate.memoizedState),fi(e,t.next.queue,{},Bt())}function nu(){return dt(Ci)}function af(){return Fe().memoizedState}function nf(){return Fe().memoizedState}function Gy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Bt();e=Va(a);var i=Ga(t,e,a);i!==null&&(xt(i,t,a),oi(i,t,a)),t={cache:ko()},e.payload=t;return}t=t.return}}function Yy(e,t,a){var i=Bt();a={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ur(e)?rf(t,a):(a=wo(e,t,a,i),a!==null&&(xt(a,e,i),lf(a,t,i)))}function sf(e,t,a){var i=Bt();fi(e,t,a,i)}function fi(e,t,a,i){var o={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ur(e))rf(t,o);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var g=t.lastRenderedState,b=d(g,a);if(o.hasEagerState=!0,o.eagerState=b,Rt(b,g))return mr(e,t,o,0),$e===null&&fr(),!1}catch{}finally{}if(a=wo(e,t,o,i),a!==null)return xt(a,e,i),lf(a,t,i),!0}return!1}function su(e,t,a,i){if(i={lane:2,revertLane:Mu(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Ur(e)){if(t)throw Error(l(479))}else t=wo(e,a,i,2),t!==null&&xt(t,e,2)}function Ur(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function rf(e,t){ds=Nr=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function lf(e,t,a){if((a&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,dd(e,a)}}var mi={readContext:dt,use:Cr,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe};mi.useEffectEvent=Qe;var of={readContext:dt,use:Cr,useCallback:function(e,t){return yt().memoizedState=[e,t===void 0?null:t],e},useContext:dt,useEffect:Yh,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,kr(4194308,4,Qh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return kr(4194308,4,e,t)},useInsertionEffect:function(e,t){kr(4,2,e,t)},useMemo:function(e,t){var a=yt();t=t===void 0?null:t;var i=e();if(xn){Ua(!0);try{e()}finally{Ua(!1)}}return a.memoizedState=[i,t],i},useReducer:function(e,t,a){var i=yt();if(a!==void 0){var o=a(t);if(xn){Ua(!0);try{a(t)}finally{Ua(!1)}}}else o=t;return i.memoizedState=i.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},i.queue=e,e=e.dispatch=Yy.bind(null,pe,e),[i.memoizedState,e]},useRef:function(e){var t=yt();return e={current:e},t.memoizedState=e},useState:function(e){e=Zo(e);var t=e.queue,a=sf.bind(null,pe,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:eu,useDeferredValue:function(e,t){var a=yt();return tu(a,e,t)},useTransition:function(){var e=Zo(!1);return e=Wh.bind(null,pe,e.queue,!0,!1),yt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var i=pe,o=yt();if(Ne){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),$e===null)throw Error(l(349));(je&127)!==0||Oh(i,t,a)}o.memoizedState=a;var d={value:a,getSnapshot:t};return o.queue=d,Yh(Ch.bind(null,i,d,e),[e]),i.flags|=2048,fs(9,{destroy:void 0},Ah.bind(null,i,d,a,t),null),a},useId:function(){var e=yt(),t=$e.identifierPrefix;if(Ne){var a=la,i=ra;a=(i&~(1<<32-Ct(i)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Or++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=By++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:nu,useFormState:Lh,useActionState:Lh,useOptimistic:function(e){var t=yt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=su.bind(null,pe,!0,a),a.dispatch=t,[e,t]},useMemoCache:Qo,useCacheRefresh:function(){return yt().memoizedState=Gy.bind(null,pe)},useEffectEvent:function(e){var t=yt(),a={impl:e};return t.memoizedState=a,function(){if((ke&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},iu={readContext:dt,use:Cr,useCallback:Ih,useContext:dt,useEffect:Wo,useImperativeHandle:Jh,useInsertionEffect:Ph,useLayoutEffect:Xh,useMemo:Zh,useReducer:Rr,useRef:Gh,useState:function(){return Rr(Sa)},useDebugValue:eu,useDeferredValue:function(e,t){var a=Fe();return Fh(a,Me.memoizedState,e,t)},useTransition:function(){var e=Rr(Sa)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:hi(e),t]},useSyncExternalStore:Nh,useId:af,useHostTransitionStatus:nu,useFormState:$h,useActionState:$h,useOptimistic:function(e,t){var a=Fe();return Dh(a,Me,e,t)},useMemoCache:Qo,useCacheRefresh:nf};iu.useEffectEvent=Kh;var uf={readContext:dt,use:Cr,useCallback:Ih,useContext:dt,useEffect:Wo,useImperativeHandle:Jh,useInsertionEffect:Ph,useLayoutEffect:Xh,useMemo:Zh,useReducer:Io,useRef:Gh,useState:function(){return Io(Sa)},useDebugValue:eu,useDeferredValue:function(e,t){var a=Fe();return Me===null?tu(a,e,t):Fh(a,Me.memoizedState,e,t)},useTransition:function(){var e=Io(Sa)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:hi(e),t]},useSyncExternalStore:Nh,useId:af,useHostTransitionStatus:nu,useFormState:Vh,useActionState:Vh,useOptimistic:function(e,t){var a=Fe();return Me!==null?Dh(a,Me,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Qo,useCacheRefresh:nf};uf.useEffectEvent=Kh;function ru(e,t,a,i){t=e.memoizedState,a=a(i,t),a=a==null?t:_({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var lu={enqueueSetState:function(e,t,a){e=e._reactInternals;var i=Bt(),o=Va(i);o.payload=t,a!=null&&(o.callback=a),t=Ga(e,o,i),t!==null&&(xt(t,e,i),oi(t,e,i))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var i=Bt(),o=Va(i);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=Ga(e,o,i),t!==null&&(xt(t,e,i),oi(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Bt(),i=Va(a);i.tag=2,t!=null&&(i.callback=t),t=Ga(e,i,a),t!==null&&(xt(t,e,a),oi(t,e,a))}};function cf(e,t,a,i,o,d,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,d,g):t.prototype&&t.prototype.isPureReactComponent?!ei(a,i)||!ei(o,d):!0}function df(e,t,a,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,i),t.state!==e&&lu.enqueueReplaceState(t,t.state,null)}function Tn(e,t){var a=t;if("ref"in t){a={};for(var i in t)i!=="ref"&&(a[i]=t[i])}if(e=e.defaultProps){a===t&&(a=_({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function hf(e){hr(e)}function ff(e){console.error(e)}function mf(e){hr(e)}function zr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function vf(e,t,a){try{var i=e.onCaughtError;i(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function ou(e,t,a){return a=Va(a),a.tag=3,a.payload={element:null},a.callback=function(){zr(e,t)},a}function gf(e){return e=Va(e),e.tag=3,e}function pf(e,t,a,i){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var d=i.value;e.payload=function(){return o(d)},e.callback=function(){vf(t,a,i)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){vf(t,a,i),typeof o!="function"&&(Ja===null?Ja=new Set([this]):Ja.add(this));var b=i.stack;this.componentDidCatch(i.value,{componentStack:b!==null?b:""})})}function Ky(e,t,a,i,o){if(a.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=a.alternate,t!==null&&is(t,a,o,!0),a=Dt.current,a!==null){switch(a.tag){case 31:case 13:return Qt===null?Xr():a.alternate===null&&Je===0&&(Je=3),a.flags&=-257,a.flags|=65536,a.lanes=o,i===Sr?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([i]):t.add(i),Du(e,i,o)),!1;case 22:return a.flags|=65536,i===Sr?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([i]):a.add(i)),Du(e,i,o)),!1}throw Error(l(435,a.tag))}return Du(e,i,o),Xr(),!1}if(Ne)return t=Dt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,i!==No&&(e=Error(l(422),{cause:i}),ni(Yt(e,a)))):(i!==No&&(t=Error(l(423),{cause:i}),ni(Yt(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,i=Yt(i,a),o=ou(e.stateNode,i,o),qo(e,o),Je!==4&&(Je=2)),!1;var d=Error(l(520),{cause:i});if(d=Yt(d,a),Si===null?Si=[d]:Si.push(d),Je!==4&&(Je=2),t===null)return!0;i=Yt(i,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=ou(a.stateNode,i,e),qo(a,e),!1;case 1:if(t=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ja===null||!Ja.has(d))))return a.flags|=65536,o&=-o,a.lanes|=o,o=gf(o),pf(o,e,a,i),qo(a,o),!1}a=a.return}while(a!==null);return!1}var uu=Error(l(461)),tt=!1;function ht(e,t,a,i){t.child=e===null?_h(t,null,a,i):jn(t,e.child,a,i)}function yf(e,t,a,i,o){a=a.render;var d=t.ref;if("ref"in i){var g={};for(var b in i)b!=="ref"&&(g[b]=i[b])}else g=i;return _n(t),i=Yo(e,t,a,g,d,o),b=Ko(),e!==null&&!tt?(Po(e,t,o),Ea(e,t,o)):(Ne&&b&&xo(t),t.flags|=1,ht(e,t,i,o),t.child)}function bf(e,t,a,i,o){if(e===null){var d=a.type;return typeof d=="function"&&!So(d)&&d.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=d,_f(e,t,d,i,o)):(e=gr(a.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!pu(e,o)){var g=d.memoizedProps;if(a=a.compare,a=a!==null?a:ei,a(g,i)&&e.ref===t.ref)return Ea(e,t,o)}return t.flags|=1,e=pa(d,i),e.ref=t.ref,e.return=t,t.child=e}function _f(e,t,a,i,o){if(e!==null){var d=e.memoizedProps;if(ei(d,i)&&e.ref===t.ref)if(tt=!1,t.pendingProps=i=d,pu(e,o))(e.flags&131072)!==0&&(tt=!0);else return t.lanes=e.lanes,Ea(e,t,o)}return cu(e,t,a,i,o)}function wf(e,t,a,i){var o=i.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(i=t.child=e.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;i=o&~d}else i=0,t.child=null;return Sf(e,t,d,a,i)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&_r(t,d!==null?d.cachePool:null),d!==null?Eh(t,d):$o(),jh(t);else return i=t.lanes=536870912,Sf(e,t,d!==null?d.baseLanes|a:a,a,i)}else d!==null?(_r(t,d.cachePool),Eh(t,d),Ka(),t.memoizedState=null):(e!==null&&_r(t,null),$o(),Ka());return ht(e,t,o,a),t.child}function vi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Sf(e,t,a,i,o){var d=Uo();return d=d===null?null:{parent:We._currentValue,pool:d},t.memoizedState={baseLanes:a,cachePool:d},e!==null&&_r(t,null),$o(),jh(t),e!==null&&is(e,t,i,!0),t.childLanes=o,null}function Mr(e,t){return t=qr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ef(e,t,a){return jn(t,e.child,null,a),e=Mr(t,t.pendingProps),e.flags|=2,Ut(t),t.memoizedState=null,e}function Py(e,t,a){var i=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ne){if(i.mode==="hidden")return e=Mr(t,i),t.lanes=536870912,vi(null,e);if(Vo(t),(e=Ge)?(e=zm(e,Xt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ba!==null?{id:ra,overflow:la}:null,retryLane:536870912,hydrationErrors:null},a=ih(e),a.return=t,t.child=a,ct=t,Ge=null)):e=null,e===null)throw La(t);return t.lanes=536870912,null}return Mr(t,i)}var d=e.memoizedState;if(d!==null){var g=d.dehydrated;if(Vo(t),o)if(t.flags&256)t.flags&=-257,t=Ef(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(tt||is(e,t,a,!1),o=(a&e.childLanes)!==0,tt||o){if(i=$e,i!==null&&(g=hd(i,a),g!==0&&g!==d.retryLane))throw d.retryLane=g,gn(e,g),xt(i,e,g),uu;Xr(),t=Ef(e,t,a)}else e=d.treeContext,Ge=Jt(g.nextSibling),ct=t,Ne=!0,qa=null,Xt=!1,e!==null&&oh(t,e),t=Mr(t,i),t.flags|=4096;return t}return e=pa(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Br(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function cu(e,t,a,i,o){return _n(t),a=Yo(e,t,a,i,void 0,o),i=Ko(),e!==null&&!tt?(Po(e,t,o),Ea(e,t,o)):(Ne&&i&&xo(t),t.flags|=1,ht(e,t,a,o),t.child)}function jf(e,t,a,i,o,d){return _n(t),t.updateQueue=null,a=Th(t,i,a,o),xh(e),i=Ko(),e!==null&&!tt?(Po(e,t,d),Ea(e,t,d)):(Ne&&i&&xo(t),t.flags|=1,ht(e,t,a,d),t.child)}function xf(e,t,a,i,o){if(_n(t),t.stateNode===null){var d=ts,g=a.contextType;typeof g=="object"&&g!==null&&(d=dt(g)),d=new a(i,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=lu,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=i,d.state=t.memoizedState,d.refs={},Mo(t),g=a.contextType,d.context=typeof g=="object"&&g!==null?dt(g):ts,d.state=t.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(ru(t,a,g,i),d.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&lu.enqueueReplaceState(d,d.state,null),ci(t,i,d,o),ui(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){d=t.stateNode;var b=t.memoizedProps,E=Tn(a,b);d.props=E;var k=d.context,$=a.contextType;g=ts,typeof $=="object"&&$!==null&&(g=dt($));var G=a.getDerivedStateFromProps;$=typeof G=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||k!==g)&&df(t,d,i,g),Ha=!1;var D=t.memoizedState;d.state=D,ci(t,i,d,o),ui(),k=t.memoizedState,b||D!==k||Ha?(typeof G=="function"&&(ru(t,a,G,i),k=t.memoizedState),(E=Ha||cf(t,a,E,i,D,k,g))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=k),d.props=i,d.state=k,d.context=g,i=E):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{d=t.stateNode,Bo(e,t),g=t.memoizedProps,$=Tn(a,g),d.props=$,G=t.pendingProps,D=d.context,k=a.contextType,E=ts,typeof k=="object"&&k!==null&&(E=dt(k)),b=a.getDerivedStateFromProps,(k=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==G||D!==E)&&df(t,d,i,E),Ha=!1,D=t.memoizedState,d.state=D,ci(t,i,d,o),ui();var L=t.memoizedState;g!==G||D!==L||Ha||e!==null&&e.dependencies!==null&&yr(e.dependencies)?(typeof b=="function"&&(ru(t,a,b,i),L=t.memoizedState),($=Ha||cf(t,a,$,i,D,L,E)||e!==null&&e.dependencies!==null&&yr(e.dependencies))?(k||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(i,L,E),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(i,L,E)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=L),d.props=i,d.state=L,d.context=E,i=$):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),i=!1)}return d=i,Br(e,t),i=(t.flags&128)!==0,d||i?(d=t.stateNode,a=i&&typeof a.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&i?(t.child=jn(t,e.child,null,o),t.child=jn(t,null,a,o)):ht(e,t,a,o),t.memoizedState=d.state,e=t.child):e=Ea(e,t,o),e}function Tf(e,t,a,i){return yn(),t.flags|=256,ht(e,t,a,i),t.child}var du={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hu(e){return{baseLanes:e,cachePool:mh()}}function fu(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Mt),e}function Nf(e,t,a){var i=t.pendingProps,o=!1,d=(t.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(Ze.current&2)!==0),g&&(o=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ne){if(o?Ya(t):Ka(),(e=Ge)?(e=zm(e,Xt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ba!==null?{id:ra,overflow:la}:null,retryLane:536870912,hydrationErrors:null},a=ih(e),a.return=t,t.child=a,ct=t,Ge=null)):e=null,e===null)throw La(t);return Ju(e)?t.lanes=32:t.lanes=536870912,null}var b=i.children;return i=i.fallback,o?(Ka(),o=t.mode,b=qr({mode:"hidden",children:b},o),i=pn(i,o,a,null),b.return=t,i.return=t,b.sibling=i,t.child=b,i=t.child,i.memoizedState=hu(a),i.childLanes=fu(e,g,a),t.memoizedState=du,vi(null,i)):(Ya(t),mu(t,b))}var E=e.memoizedState;if(E!==null&&(b=E.dehydrated,b!==null)){if(d)t.flags&256?(Ya(t),t.flags&=-257,t=vu(e,t,a)):t.memoizedState!==null?(Ka(),t.child=e.child,t.flags|=128,t=null):(Ka(),b=i.fallback,o=t.mode,i=qr({mode:"visible",children:i.children},o),b=pn(b,o,a,null),b.flags|=2,i.return=t,b.return=t,i.sibling=b,t.child=i,jn(t,e.child,null,a),i=t.child,i.memoizedState=hu(a),i.childLanes=fu(e,g,a),t.memoizedState=du,t=vi(null,i));else if(Ya(t),Ju(b)){if(g=b.nextSibling&&b.nextSibling.dataset,g)var k=g.dgst;g=k,i=Error(l(419)),i.stack="",i.digest=g,ni({value:i,source:null,stack:null}),t=vu(e,t,a)}else if(tt||is(e,t,a,!1),g=(a&e.childLanes)!==0,tt||g){if(g=$e,g!==null&&(i=hd(g,a),i!==0&&i!==E.retryLane))throw E.retryLane=i,gn(e,i),xt(g,e,i),uu;Qu(b)||Xr(),t=vu(e,t,a)}else Qu(b)?(t.flags|=192,t.child=e.child,t=null):(e=E.treeContext,Ge=Jt(b.nextSibling),ct=t,Ne=!0,qa=null,Xt=!1,e!==null&&oh(t,e),t=mu(t,i.children),t.flags|=4096);return t}return o?(Ka(),b=i.fallback,o=t.mode,E=e.child,k=E.sibling,i=pa(E,{mode:"hidden",children:i.children}),i.subtreeFlags=E.subtreeFlags&65011712,k!==null?b=pa(k,b):(b=pn(b,o,a,null),b.flags|=2),b.return=t,i.return=t,i.sibling=b,t.child=i,vi(null,i),i=t.child,b=e.child.memoizedState,b===null?b=hu(a):(o=b.cachePool,o!==null?(E=We._currentValue,o=o.parent!==E?{parent:E,pool:E}:o):o=mh(),b={baseLanes:b.baseLanes|a,cachePool:o}),i.memoizedState=b,i.childLanes=fu(e,g,a),t.memoizedState=du,vi(e.child,i)):(Ya(t),a=e.child,e=a.sibling,a=pa(a,{mode:"visible",children:i.children}),a.return=t,a.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=a,t.memoizedState=null,a)}function mu(e,t){return t=qr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function qr(e,t){return e=kt(22,e,null,t),e.lanes=0,e}function vu(e,t,a){return jn(t,e.child,null,a),e=mu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Of(e,t,a){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Co(e.return,t,a)}function gu(e,t,a,i,o,d){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:a,tailMode:o,treeForkCount:d}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=i,g.tail=a,g.tailMode=o,g.treeForkCount=d)}function Af(e,t,a){var i=t.pendingProps,o=i.revealOrder,d=i.tail;i=i.children;var g=Ze.current,b=(g&2)!==0;if(b?(g=g&1|2,t.flags|=128):g&=1,F(Ze,g),ht(e,t,i,a),i=Ne?ai:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Of(e,a,t);else if(e.tag===19)Of(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&Tr(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),gu(t,!1,o,a,d,i);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Tr(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}gu(t,!0,a,null,d,i);break;case"together":gu(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function Ea(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Qa|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(is(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=pa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=pa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function pu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&yr(e)))}function Xy(e,t,a){switch(t.tag){case 3:it(t,t.stateNode.containerInfo),$a(t,We,e.memoizedState.cache),yn();break;case 27:case 5:X(t);break;case 4:it(t,t.stateNode.containerInfo);break;case 10:$a(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Vo(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Ya(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Nf(e,t,a):(Ya(t),e=Ea(e,t,a),e!==null?e.sibling:null);Ya(t);break;case 19:var o=(e.flags&128)!==0;if(i=(a&t.childLanes)!==0,i||(is(e,t,a,!1),i=(a&t.childLanes)!==0),o){if(i)return Af(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),F(Ze,Ze.current),i)break;return null;case 22:return t.lanes=0,wf(e,t,a,t.pendingProps);case 24:$a(t,We,e.memoizedState.cache)}return Ea(e,t,a)}function Cf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)tt=!0;else{if(!pu(e,a)&&(t.flags&128)===0)return tt=!1,Xy(e,t,a);tt=(e.flags&131072)!==0}else tt=!1,Ne&&(t.flags&1048576)!==0&&lh(t,ai,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=Sn(t.elementType),t.type=e,typeof e=="function")So(e)?(i=Tn(e,i),t.tag=1,t=xf(null,t,e,i,a)):(t.tag=0,t=cu(null,t,e,i,a));else{if(e!=null){var o=e.$$typeof;if(o===Q){t.tag=11,t=yf(null,t,e,i,a);break e}else if(o===I){t.tag=14,t=bf(null,t,e,i,a);break e}}throw t=oe(e)||e,Error(l(306,t,""))}}return t;case 0:return cu(e,t,t.type,t.pendingProps,a);case 1:return i=t.type,o=Tn(i,t.pendingProps),xf(e,t,i,o,a);case 3:e:{if(it(t,t.stateNode.containerInfo),e===null)throw Error(l(387));i=t.pendingProps;var d=t.memoizedState;o=d.element,Bo(e,t),ci(t,i,null,a);var g=t.memoizedState;if(i=g.cache,$a(t,We,i),i!==d.cache&&Ro(t,[We],a,!0),ui(),i=g.element,d.isDehydrated)if(d={element:i,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=Tf(e,t,i,a);break e}else if(i!==o){o=Yt(Error(l(424)),t),ni(o),t=Tf(e,t,i,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ge=Jt(e.firstChild),ct=t,Ne=!0,qa=null,Xt=!0,a=_h(t,null,i,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(yn(),i===o){t=Ea(e,t,a);break e}ht(e,t,i,a)}t=t.child}return t;case 26:return Br(e,t),e===null?(a=Hm(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ne||(a=t.type,e=t.pendingProps,i=el(ye.current).createElement(a),i[ut]=t,i[bt]=e,ft(i,a,e),lt(i),t.stateNode=i):t.memoizedState=Hm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return X(t),e===null&&Ne&&(i=t.stateNode=qm(t.type,t.pendingProps,ye.current),ct=t,Xt=!0,o=Ge,Wa(t.type)?(Iu=o,Ge=Jt(i.firstChild)):Ge=o),ht(e,t,t.pendingProps.children,a),Br(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ne&&((o=i=Ge)&&(i=E0(i,t.type,t.pendingProps,Xt),i!==null?(t.stateNode=i,ct=t,Ge=Jt(i.firstChild),Xt=!1,o=!0):o=!1),o||La(t)),X(t),o=t.type,d=t.pendingProps,g=e!==null?e.memoizedProps:null,i=d.children,Ku(o,d)?i=null:g!==null&&Ku(o,g)&&(t.flags|=32),t.memoizedState!==null&&(o=Yo(e,t,qy,null,null,a),Ci._currentValue=o),Br(e,t),ht(e,t,i,a),t.child;case 6:return e===null&&Ne&&((e=a=Ge)&&(a=j0(a,t.pendingProps,Xt),a!==null?(t.stateNode=a,ct=t,Ge=null,e=!0):e=!1),e||La(t)),null;case 13:return Nf(e,t,a);case 4:return it(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=jn(t,null,i,a):ht(e,t,i,a),t.child;case 11:return yf(e,t,t.type,t.pendingProps,a);case 7:return ht(e,t,t.pendingProps,a),t.child;case 8:return ht(e,t,t.pendingProps.children,a),t.child;case 12:return ht(e,t,t.pendingProps.children,a),t.child;case 10:return i=t.pendingProps,$a(t,t.type,i.value),ht(e,t,i.children,a),t.child;case 9:return o=t.type._context,i=t.pendingProps.children,_n(t),o=dt(o),i=i(o),t.flags|=1,ht(e,t,i,a),t.child;case 14:return bf(e,t,t.type,t.pendingProps,a);case 15:return _f(e,t,t.type,t.pendingProps,a);case 19:return Af(e,t,a);case 31:return Py(e,t,a);case 22:return wf(e,t,a,t.pendingProps);case 24:return _n(t),i=dt(We),e===null?(o=Uo(),o===null&&(o=$e,d=ko(),o.pooledCache=d,d.refCount++,d!==null&&(o.pooledCacheLanes|=a),o=d),t.memoizedState={parent:i,cache:o},Mo(t),$a(t,We,o)):((e.lanes&a)!==0&&(Bo(e,t),ci(t,null,null,a),ui()),o=e.memoizedState,d=t.memoizedState,o.parent!==i?(o={parent:i,cache:i},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),$a(t,We,i)):(i=d.cache,$a(t,We,i),i!==o.cache&&Ro(t,[We],a,!0))),ht(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function ja(e){e.flags|=4}function yu(e,t,a,i,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(nm())e.flags|=8192;else throw En=Sr,zo}else e.flags&=-16777217}function Rf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Pm(t))if(nm())e.flags|=8192;else throw En=Sr,zo}function Lr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ud():536870912,e.lanes|=t,ps|=t)}function gi(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,i=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,i|=o.subtreeFlags&65011712,i|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=a,t}function Qy(e,t,a){var i=t.pendingProps;switch(To(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return Ye(t),null;case 3:return a=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),_a(We),Ve(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ss(t)?ja(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Oo())),Ye(t),null;case 26:var o=t.type,d=t.memoizedState;return e===null?(ja(t),d!==null?(Ye(t),Rf(t,d)):(Ye(t),yu(t,o,null,i,a))):d?d!==e.memoizedState?(ja(t),Ye(t),Rf(t,d)):(Ye(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&ja(t),Ye(t),yu(t,o,e,i,a)),null;case 27:if(de(t),a=ye.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ja(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return Ye(t),null}e=ae.current,ss(t)?uh(t):(e=qm(o,i,a),t.stateNode=e,ja(t))}return Ye(t),null;case 5:if(de(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ja(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return Ye(t),null}if(d=ae.current,ss(t))uh(t);else{var g=el(ye.current);switch(d){case 1:d=g.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:d=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":d=g.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":d=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":d=g.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof i.is=="string"?g.createElement("select",{is:i.is}):g.createElement("select"),i.multiple?d.multiple=!0:i.size&&(d.size=i.size);break;default:d=typeof i.is=="string"?g.createElement(o,{is:i.is}):g.createElement(o)}}d[ut]=t,d[bt]=i;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)d.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=d;e:switch(ft(d,o,i),o){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ja(t)}}return Ye(t),yu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&ja(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(l(166));if(e=ye.current,ss(t)){if(e=t.stateNode,a=t.memoizedProps,i=null,o=ct,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}e[ut]=t,e=!!(e.nodeValue===a||i!==null&&i.suppressHydrationWarning===!0||Nm(e.nodeValue,a)),e||La(t,!0)}else e=el(e).createTextNode(i),e[ut]=t,t.stateNode=e}return Ye(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(i=ss(t),a!==null){if(e===null){if(!i)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[ut]=t}else yn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),e=!1}else a=Oo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Ut(t),t):(Ut(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Ye(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=ss(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[ut]=t}else yn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),o=!1}else o=Oo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Ut(t),t):(Ut(t),null)}return Ut(t),(t.flags&128)!==0?(t.lanes=a,t):(a=i!==null,e=e!==null&&e.memoizedState!==null,a&&(i=t.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool),d=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==o&&(i.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Lr(t,t.updateQueue),Ye(t),null);case 4:return Ve(),e===null&&$u(t.stateNode.containerInfo),Ye(t),null;case 10:return _a(t.type),Ye(t),null;case 19:if(H(Ze),i=t.memoizedState,i===null)return Ye(t),null;if(o=(t.flags&128)!==0,d=i.rendering,d===null)if(o)gi(i,!1);else{if(Je!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Tr(e),d!==null){for(t.flags|=128,gi(i,!1),e=d.updateQueue,t.updateQueue=e,Lr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)sh(a,e),a=a.sibling;return F(Ze,Ze.current&1|2),Ne&&ya(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&Ot()>Yr&&(t.flags|=128,o=!0,gi(i,!1),t.lanes=4194304)}else{if(!o)if(e=Tr(d),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Lr(t,e),gi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!d.alternate&&!Ne)return Ye(t),null}else 2*Ot()-i.renderingStartTime>Yr&&a!==536870912&&(t.flags|=128,o=!0,gi(i,!1),t.lanes=4194304);i.isBackwards?(d.sibling=t.child,t.child=d):(e=i.last,e!==null?e.sibling=d:t.child=d,i.last=d)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ot(),e.sibling=null,a=Ze.current,F(Ze,o?a&1|2:a&1),Ne&&ya(t,i.treeForkCount),e):(Ye(t),null);case 22:case 23:return Ut(t),Ho(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(a&536870912)!==0&&(t.flags&128)===0&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),a=t.updateQueue,a!==null&&Lr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==a&&(t.flags|=2048),e!==null&&H(wn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),_a(We),Ye(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Jy(e,t){switch(To(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _a(We),Ve(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return de(t),null;case 31:if(t.memoizedState!==null){if(Ut(t),t.alternate===null)throw Error(l(340));yn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ut(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));yn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return H(Ze),null;case 4:return Ve(),null;case 10:return _a(t.type),null;case 22:case 23:return Ut(t),Ho(),e!==null&&H(wn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return _a(We),null;case 25:return null;default:return null}}function kf(e,t){switch(To(t),t.tag){case 3:_a(We),Ve();break;case 26:case 27:case 5:de(t);break;case 4:Ve();break;case 31:t.memoizedState!==null&&Ut(t);break;case 13:Ut(t);break;case 19:H(Ze);break;case 10:_a(t.type);break;case 22:case 23:Ut(t),Ho(),e!==null&&H(wn);break;case 24:_a(We)}}function pi(e,t){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var o=i.next;a=o;do{if((a.tag&e)===e){i=void 0;var d=a.create,g=a.inst;i=d(),g.destroy=i}a=a.next}while(a!==o)}}catch(b){Ue(t,t.return,b)}}function Pa(e,t,a){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var d=o.next;i=d;do{if((i.tag&e)===e){var g=i.inst,b=g.destroy;if(b!==void 0){g.destroy=void 0,o=t;var E=a,k=b;try{k()}catch($){Ue(o,E,$)}}}i=i.next}while(i!==d)}}catch($){Ue(t,t.return,$)}}function Df(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Sh(t,a)}catch(i){Ue(e,e.return,i)}}}function Uf(e,t,a){a.props=Tn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(i){Ue(e,t,i)}}function yi(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof a=="function"?e.refCleanup=a(i):a.current=i}}catch(o){Ue(e,t,o)}}function oa(e,t){var a=e.ref,i=e.refCleanup;if(a!==null)if(typeof i=="function")try{i()}catch(o){Ue(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Ue(e,t,o)}else a.current=null}function zf(e){var t=e.type,a=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&i.focus();break e;case"img":a.src?i.src=a.src:a.srcSet&&(i.srcset=a.srcSet)}}catch(o){Ue(e,e.return,o)}}function bu(e,t,a){try{var i=e.stateNode;p0(i,e.type,a,t),i[bt]=t}catch(o){Ue(e,e.return,o)}}function Mf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Wa(e.type)||e.tag===4}function _u(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Wa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wu(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=va));else if(i!==4&&(i===27&&Wa(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(wu(e,t,a),e=e.sibling;e!==null;)wu(e,t,a),e=e.sibling}function $r(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(i!==4&&(i===27&&Wa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for($r(e,t,a),e=e.sibling;e!==null;)$r(e,t,a),e=e.sibling}function Bf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var i=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ft(t,i,a),t[ut]=e,t[bt]=a}catch(d){Ue(e,e.return,d)}}var xa=!1,at=!1,Su=!1,qf=typeof WeakSet=="function"?WeakSet:Set,ot=null;function Iy(e,t){if(e=e.containerInfo,Gu=ll,e=Jd(e),vo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var i=a.getSelection&&a.getSelection();if(i&&i.rangeCount!==0){a=i.anchorNode;var o=i.anchorOffset,d=i.focusNode;i=i.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var g=0,b=-1,E=-1,k=0,$=0,G=e,D=null;t:for(;;){for(var L;G!==a||o!==0&&G.nodeType!==3||(b=g+o),G!==d||i!==0&&G.nodeType!==3||(E=g+i),G.nodeType===3&&(g+=G.nodeValue.length),(L=G.firstChild)!==null;)D=G,G=L;for(;;){if(G===e)break t;if(D===a&&++k===o&&(b=g),D===d&&++$===i&&(E=g),(L=G.nextSibling)!==null)break;G=D,D=G.parentNode}G=L}a=b===-1||E===-1?null:{start:b,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yu={focusedElem:e,selectionRange:a},ll=!1,ot=t;ot!==null;)if(t=ot,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ot=e;else for(;ot!==null;){switch(t=ot,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=t,o=d.memoizedProps,d=d.memoizedState,i=a.stateNode;try{var se=Tn(a.type,o);e=i.getSnapshotBeforeUpdate(se,d),i.__reactInternalSnapshotBeforeUpdate=e}catch(ce){Ue(a,a.return,ce)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Xu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Xu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,ot=e;break}ot=t.return}}function Lf(e,t,a){var i=a.flags;switch(a.tag){case 0:case 11:case 15:Na(e,a),i&4&&pi(5,a);break;case 1:if(Na(e,a),i&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(g){Ue(a,a.return,g)}else{var o=Tn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Ue(a,a.return,g)}}i&64&&Df(a),i&512&&yi(a,a.return);break;case 3:if(Na(e,a),i&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Sh(e,t)}catch(g){Ue(a,a.return,g)}}break;case 27:t===null&&i&4&&Bf(a);case 26:case 5:Na(e,a),t===null&&i&4&&zf(a),i&512&&yi(a,a.return);break;case 12:Na(e,a);break;case 31:Na(e,a),i&4&&Vf(e,a);break;case 13:Na(e,a),i&4&&Gf(e,a),i&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=i0.bind(null,a),x0(e,a))));break;case 22:if(i=a.memoizedState!==null||xa,!i){t=t!==null&&t.memoizedState!==null||at,o=xa;var d=at;xa=i,(at=t)&&!d?Oa(e,a,(a.subtreeFlags&8772)!==0):Na(e,a),xa=o,at=d}break;case 30:break;default:Na(e,a)}}function $f(e){var t=e.alternate;t!==null&&(e.alternate=null,$f(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Zl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ke=null,wt=!1;function Ta(e,t,a){for(a=a.child;a!==null;)Hf(e,t,a),a=a.sibling}function Hf(e,t,a){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Vs,a)}catch{}switch(a.tag){case 26:at||oa(a,t),Ta(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:at||oa(a,t);var i=Ke,o=wt;Wa(a.type)&&(Ke=a.stateNode,wt=!1),Ta(e,t,a),Ni(a.stateNode),Ke=i,wt=o;break;case 5:at||oa(a,t);case 6:if(i=Ke,o=wt,Ke=null,Ta(e,t,a),Ke=i,wt=o,Ke!==null)if(wt)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(a.stateNode)}catch(d){Ue(a,t,d)}else try{Ke.removeChild(a.stateNode)}catch(d){Ue(a,t,d)}break;case 18:Ke!==null&&(wt?(e=Ke,Dm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),xs(e)):Dm(Ke,a.stateNode));break;case 4:i=Ke,o=wt,Ke=a.stateNode.containerInfo,wt=!0,Ta(e,t,a),Ke=i,wt=o;break;case 0:case 11:case 14:case 15:Pa(2,a,t),at||Pa(4,a,t),Ta(e,t,a);break;case 1:at||(oa(a,t),i=a.stateNode,typeof i.componentWillUnmount=="function"&&Uf(a,t,i)),Ta(e,t,a);break;case 21:Ta(e,t,a);break;case 22:at=(i=at)||a.memoizedState!==null,Ta(e,t,a),at=i;break;default:Ta(e,t,a)}}function Vf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{xs(e)}catch(a){Ue(t,t.return,a)}}}function Gf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{xs(e)}catch(a){Ue(t,t.return,a)}}function Zy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new qf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new qf),t;default:throw Error(l(435,e.tag))}}function Hr(e,t){var a=Zy(e);t.forEach(function(i){if(!a.has(i)){a.add(i);var o=r0.bind(null,e,i);i.then(o,o)}})}function St(e,t){var a=t.deletions;if(a!==null)for(var i=0;i<a.length;i++){var o=a[i],d=e,g=t,b=g;e:for(;b!==null;){switch(b.tag){case 27:if(Wa(b.type)){Ke=b.stateNode,wt=!1;break e}break;case 5:Ke=b.stateNode,wt=!1;break e;case 3:case 4:Ke=b.stateNode.containerInfo,wt=!0;break e}b=b.return}if(Ke===null)throw Error(l(160));Hf(d,g,o),Ke=null,wt=!1,d=o.alternate,d!==null&&(d.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Yf(t,e),t=t.sibling}var Ft=null;function Yf(e,t){var a=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:St(t,e),Et(e),i&4&&(Pa(3,e,e.return),pi(3,e),Pa(5,e,e.return));break;case 1:St(t,e),Et(e),i&512&&(at||a===null||oa(a,a.return)),i&64&&xa&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?i:a.concat(i))));break;case 26:var o=Ft;if(St(t,e),Et(e),i&512&&(at||a===null||oa(a,a.return)),i&4){var d=a!==null?a.memoizedState:null;if(i=e.memoizedState,a===null)if(i===null)if(e.stateNode===null){e:{i=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":d=o.getElementsByTagName("title")[0],(!d||d[Ks]||d[ut]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=o.createElement(i),o.head.insertBefore(d,o.querySelector("head > title"))),ft(d,i,a),d[ut]=e,lt(d),i=d;break e;case"link":var g=Ym("link","href",o).get(i+(a.href||""));if(g){for(var b=0;b<g.length;b++)if(d=g[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(b,1);break t}}d=o.createElement(i),ft(d,i,a),o.head.appendChild(d);break;case"meta":if(g=Ym("meta","content",o).get(i+(a.content||""))){for(b=0;b<g.length;b++)if(d=g[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(b,1);break t}}d=o.createElement(i),ft(d,i,a),o.head.appendChild(d);break;default:throw Error(l(468,i))}d[ut]=e,lt(d),i=d}e.stateNode=i}else Km(o,e.type,e.stateNode);else e.stateNode=Gm(o,i,e.memoizedProps);else d!==i?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,i===null?Km(o,e.type,e.stateNode):Gm(o,i,e.memoizedProps)):i===null&&e.stateNode!==null&&bu(e,e.memoizedProps,a.memoizedProps)}break;case 27:St(t,e),Et(e),i&512&&(at||a===null||oa(a,a.return)),a!==null&&i&4&&bu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(St(t,e),Et(e),i&512&&(at||a===null||oa(a,a.return)),e.flags&32){o=e.stateNode;try{Qn(o,"")}catch(se){Ue(e,e.return,se)}}i&4&&e.stateNode!=null&&(o=e.memoizedProps,bu(e,o,a!==null?a.memoizedProps:o)),i&1024&&(Su=!0);break;case 6:if(St(t,e),Et(e),i&4){if(e.stateNode===null)throw Error(l(162));i=e.memoizedProps,a=e.stateNode;try{a.nodeValue=i}catch(se){Ue(e,e.return,se)}}break;case 3:if(nl=null,o=Ft,Ft=tl(t.containerInfo),St(t,e),Ft=o,Et(e),i&4&&a!==null&&a.memoizedState.isDehydrated)try{xs(t.containerInfo)}catch(se){Ue(e,e.return,se)}Su&&(Su=!1,Kf(e));break;case 4:i=Ft,Ft=tl(e.stateNode.containerInfo),St(t,e),Et(e),Ft=i;break;case 12:St(t,e),Et(e);break;case 31:St(t,e),Et(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Hr(e,i)));break;case 13:St(t,e),Et(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Gr=Ot()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Hr(e,i)));break;case 22:o=e.memoizedState!==null;var E=a!==null&&a.memoizedState!==null,k=xa,$=at;if(xa=k||o,at=$||E,St(t,e),at=$,xa=k,Et(e),i&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||E||xa||at||Nn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){E=a=t;try{if(d=E.stateNode,o)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{b=E.stateNode;var G=E.memoizedProps.style,D=G!=null&&G.hasOwnProperty("display")?G.display:null;b.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(se){Ue(E,E.return,se)}}}else if(t.tag===6){if(a===null){E=t;try{E.stateNode.nodeValue=o?"":E.memoizedProps}catch(se){Ue(E,E.return,se)}}}else if(t.tag===18){if(a===null){E=t;try{var L=E.stateNode;o?Um(L,!0):Um(E.stateNode,!1)}catch(se){Ue(E,E.return,se)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(a=i.retryQueue,a!==null&&(i.retryQueue=null,Hr(e,a))));break;case 19:St(t,e),Et(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Hr(e,i)));break;case 30:break;case 21:break;default:St(t,e),Et(e)}}function Et(e){var t=e.flags;if(t&2){try{for(var a,i=e.return;i!==null;){if(Mf(i)){a=i;break}i=i.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var o=a.stateNode,d=_u(e);$r(e,d,o);break;case 5:var g=a.stateNode;a.flags&32&&(Qn(g,""),a.flags&=-33);var b=_u(e);$r(e,b,g);break;case 3:case 4:var E=a.stateNode.containerInfo,k=_u(e);wu(e,k,E);break;default:throw Error(l(161))}}catch($){Ue(e,e.return,$)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Kf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Kf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Na(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Lf(e,t.alternate,t),t=t.sibling}function Nn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Pa(4,t,t.return),Nn(t);break;case 1:oa(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Uf(t,t.return,a),Nn(t);break;case 27:Ni(t.stateNode);case 26:case 5:oa(t,t.return),Nn(t);break;case 22:t.memoizedState===null&&Nn(t);break;case 30:Nn(t);break;default:Nn(t)}e=e.sibling}}function Oa(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,o=e,d=t,g=d.flags;switch(d.tag){case 0:case 11:case 15:Oa(o,d,a),pi(4,d);break;case 1:if(Oa(o,d,a),i=d,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(k){Ue(i,i.return,k)}if(i=d,o=i.updateQueue,o!==null){var b=i.stateNode;try{var E=o.shared.hiddenCallbacks;if(E!==null)for(o.shared.hiddenCallbacks=null,o=0;o<E.length;o++)wh(E[o],b)}catch(k){Ue(i,i.return,k)}}a&&g&64&&Df(d),yi(d,d.return);break;case 27:Bf(d);case 26:case 5:Oa(o,d,a),a&&i===null&&g&4&&zf(d),yi(d,d.return);break;case 12:Oa(o,d,a);break;case 31:Oa(o,d,a),a&&g&4&&Vf(o,d);break;case 13:Oa(o,d,a),a&&g&4&&Gf(o,d);break;case 22:d.memoizedState===null&&Oa(o,d,a),yi(d,d.return);break;case 30:break;default:Oa(o,d,a)}t=t.sibling}}function Eu(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&si(a))}function ju(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&si(e))}function Wt(e,t,a,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Pf(e,t,a,i),t=t.sibling}function Pf(e,t,a,i){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Wt(e,t,a,i),o&2048&&pi(9,t);break;case 1:Wt(e,t,a,i);break;case 3:Wt(e,t,a,i),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&si(e)));break;case 12:if(o&2048){Wt(e,t,a,i),e=t.stateNode;try{var d=t.memoizedProps,g=d.id,b=d.onPostCommit;typeof b=="function"&&b(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){Ue(t,t.return,E)}}else Wt(e,t,a,i);break;case 31:Wt(e,t,a,i);break;case 13:Wt(e,t,a,i);break;case 23:break;case 22:d=t.stateNode,g=t.alternate,t.memoizedState!==null?d._visibility&2?Wt(e,t,a,i):bi(e,t):d._visibility&2?Wt(e,t,a,i):(d._visibility|=2,ms(e,t,a,i,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Eu(g,t);break;case 24:Wt(e,t,a,i),o&2048&&ju(t.alternate,t);break;default:Wt(e,t,a,i)}}function ms(e,t,a,i,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,g=t,b=a,E=i,k=g.flags;switch(g.tag){case 0:case 11:case 15:ms(d,g,b,E,o),pi(8,g);break;case 23:break;case 22:var $=g.stateNode;g.memoizedState!==null?$._visibility&2?ms(d,g,b,E,o):bi(d,g):($._visibility|=2,ms(d,g,b,E,o)),o&&k&2048&&Eu(g.alternate,g);break;case 24:ms(d,g,b,E,o),o&&k&2048&&ju(g.alternate,g);break;default:ms(d,g,b,E,o)}t=t.sibling}}function bi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,i=t,o=i.flags;switch(i.tag){case 22:bi(a,i),o&2048&&Eu(i.alternate,i);break;case 24:bi(a,i),o&2048&&ju(i.alternate,i);break;default:bi(a,i)}t=t.sibling}}var _i=8192;function vs(e,t,a){if(e.subtreeFlags&_i)for(e=e.child;e!==null;)Xf(e,t,a),e=e.sibling}function Xf(e,t,a){switch(e.tag){case 26:vs(e,t,a),e.flags&_i&&e.memoizedState!==null&&B0(a,Ft,e.memoizedState,e.memoizedProps);break;case 5:vs(e,t,a);break;case 3:case 4:var i=Ft;Ft=tl(e.stateNode.containerInfo),vs(e,t,a),Ft=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=_i,_i=16777216,vs(e,t,a),_i=i):vs(e,t,a));break;default:vs(e,t,a)}}function Qf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function wi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];ot=i,If(i,e)}Qf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Jf(e),e=e.sibling}function Jf(e){switch(e.tag){case 0:case 11:case 15:wi(e),e.flags&2048&&Pa(9,e,e.return);break;case 3:wi(e);break;case 12:wi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Vr(e)):wi(e);break;default:wi(e)}}function Vr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];ot=i,If(i,e)}Qf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Pa(8,t,t.return),Vr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Vr(t));break;default:Vr(t)}e=e.sibling}}function If(e,t){for(;ot!==null;){var a=ot;switch(a.tag){case 0:case 11:case 15:Pa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var i=a.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:si(a.memoizedState.cache)}if(i=a.child,i!==null)i.return=a,ot=i;else e:for(a=e;ot!==null;){i=ot;var o=i.sibling,d=i.return;if($f(i),i===a){ot=null;break e}if(o!==null){o.return=d,ot=o;break e}ot=d}}}var Fy={getCacheForType:function(e){var t=dt(We),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return dt(We).controller.signal}},Wy=typeof WeakMap=="function"?WeakMap:Map,ke=0,$e=null,Se=null,je=0,De=0,zt=null,Xa=!1,gs=!1,xu=!1,Aa=0,Je=0,Qa=0,On=0,Tu=0,Mt=0,ps=0,Si=null,jt=null,Nu=!1,Gr=0,Zf=0,Yr=1/0,Kr=null,Ja=null,rt=0,Ia=null,ys=null,Ca=0,Ou=0,Au=null,Ff=null,Ei=0,Cu=null;function Bt(){return(ke&2)!==0&&je!==0?je&-je:B.T!==null?Mu():fd()}function Wf(){if(Mt===0)if((je&536870912)===0||Ne){var e=Wi;Wi<<=1,(Wi&3932160)===0&&(Wi=262144),Mt=e}else Mt=536870912;return e=Dt.current,e!==null&&(e.flags|=32),Mt}function xt(e,t,a){(e===$e&&(De===2||De===9)||e.cancelPendingCommit!==null)&&(bs(e,0),Za(e,je,Mt,!1)),Ys(e,a),((ke&2)===0||e!==$e)&&(e===$e&&((ke&2)===0&&(On|=a),Je===4&&Za(e,je,Mt,!1)),ua(e))}function em(e,t,a){if((ke&6)!==0)throw Error(l(327));var i=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Gs(e,t),o=i?a0(e,t):ku(e,t,!0),d=i;do{if(o===0){gs&&!i&&Za(e,t,0,!1);break}else{if(a=e.current.alternate,d&&!e0(a)){o=ku(e,t,!1),d=!1;continue}if(o===2){if(d=t,e.errorRecoveryDisabledLanes&d)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var b=e;o=Si;var E=b.current.memoizedState.isDehydrated;if(E&&(bs(b,g).flags|=256),g=ku(b,g,!1),g!==2){if(xu&&!E){b.errorRecoveryDisabledLanes|=d,On|=d,o=4;break e}d=jt,jt=o,d!==null&&(jt===null?jt=d:jt.push.apply(jt,d))}o=g}if(d=!1,o!==2)continue}}if(o===1){bs(e,0),Za(e,t,0,!0);break}e:{switch(i=e,d=o,d){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Za(i,t,Mt,!Xa);break e;case 2:jt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=Gr+300-Ot(),10<o)){if(Za(i,t,Mt,!Xa),tr(i,0,!0)!==0)break e;Ca=t,i.timeoutHandle=Rm(tm.bind(null,i,a,jt,Kr,Nu,t,Mt,On,ps,Xa,d,"Throttled",-0,0),o);break e}tm(i,a,jt,Kr,Nu,t,Mt,On,ps,Xa,d,null,-0,0)}}break}while(!0);ua(e)}function tm(e,t,a,i,o,d,g,b,E,k,$,G,D,L){if(e.timeoutHandle=-1,G=t.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:va},Xf(t,d,G);var se=(d&62914560)===d?Gr-Ot():(d&4194048)===d?Zf-Ot():0;if(se=q0(G,se),se!==null){Ca=d,e.cancelPendingCommit=se(um.bind(null,e,t,d,a,i,o,g,b,E,$,G,null,D,L)),Za(e,d,g,!k);return}}um(e,t,d,a,i,o,g,b,E)}function e0(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var i=0;i<a.length;i++){var o=a[i],d=o.getSnapshot;o=o.value;try{if(!Rt(d(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Za(e,t,a,i){t&=~Tu,t&=~On,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var o=t;0<o;){var d=31-Ct(o),g=1<<d;i[d]=-1,o&=~g}a!==0&&cd(e,a,t)}function Pr(){return(ke&6)===0?(ji(0),!1):!0}function Ru(){if(Se!==null){if(De===0)var e=Se.return;else e=Se,ba=bn=null,Xo(e),us=null,ri=0,e=Se;for(;e!==null;)kf(e.alternate,e),e=e.return;Se=null}}function bs(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,_0(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ca=0,Ru(),$e=e,Se=a=pa(e.current,null),je=t,De=0,zt=null,Xa=!1,gs=Gs(e,t),xu=!1,ps=Mt=Tu=On=Qa=Je=0,jt=Si=null,Nu=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var o=31-Ct(i),d=1<<o;t|=e[o],i&=~d}return Aa=t,fr(),a}function am(e,t){pe=null,B.H=mi,t===os||t===wr?(t=ph(),De=3):t===zo?(t=ph(),De=4):De=t===uu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,zt=t,Se===null&&(Je=1,zr(e,Yt(t,e.current)))}function nm(){var e=Dt.current;return e===null?!0:(je&4194048)===je?Qt===null:(je&62914560)===je||(je&536870912)!==0?e===Qt:!1}function sm(){var e=B.H;return B.H=mi,e===null?mi:e}function im(){var e=B.A;return B.A=Fy,e}function Xr(){Je=4,Xa||(je&4194048)!==je&&Dt.current!==null||(gs=!0),(Qa&134217727)===0&&(On&134217727)===0||$e===null||Za($e,je,Mt,!1)}function ku(e,t,a){var i=ke;ke|=2;var o=sm(),d=im();($e!==e||je!==t)&&(Kr=null,bs(e,t)),t=!1;var g=Je;e:do try{if(De!==0&&Se!==null){var b=Se,E=zt;switch(De){case 8:Ru(),g=6;break e;case 3:case 2:case 9:case 6:Dt.current===null&&(t=!0);var k=De;if(De=0,zt=null,_s(e,b,E,k),a&&gs){g=0;break e}break;default:k=De,De=0,zt=null,_s(e,b,E,k)}}t0(),g=Je;break}catch($){am(e,$)}while(!0);return t&&e.shellSuspendCounter++,ba=bn=null,ke=i,B.H=o,B.A=d,Se===null&&($e=null,je=0,fr()),g}function t0(){for(;Se!==null;)rm(Se)}function a0(e,t){var a=ke;ke|=2;var i=sm(),o=im();$e!==e||je!==t?(Kr=null,Yr=Ot()+500,bs(e,t)):gs=Gs(e,t);e:do try{if(De!==0&&Se!==null){t=Se;var d=zt;t:switch(De){case 1:De=0,zt=null,_s(e,t,d,1);break;case 2:case 9:if(vh(d)){De=0,zt=null,lm(t);break}t=function(){De!==2&&De!==9||$e!==e||(De=7),ua(e)},d.then(t,t);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:vh(d)?(De=0,zt=null,lm(t)):(De=0,zt=null,_s(e,t,d,7));break;case 5:var g=null;switch(Se.tag){case 26:g=Se.memoizedState;case 5:case 27:var b=Se;if(g?Pm(g):b.stateNode.complete){De=0,zt=null;var E=b.sibling;if(E!==null)Se=E;else{var k=b.return;k!==null?(Se=k,Qr(k)):Se=null}break t}}De=0,zt=null,_s(e,t,d,5);break;case 6:De=0,zt=null,_s(e,t,d,6);break;case 8:Ru(),Je=6;break e;default:throw Error(l(462))}}n0();break}catch($){am(e,$)}while(!0);return ba=bn=null,B.H=i,B.A=o,ke=a,Se!==null?0:($e=null,je=0,fr(),Je)}function n0(){for(;Se!==null&&!Tp();)rm(Se)}function rm(e){var t=Cf(e.alternate,e,Aa);e.memoizedProps=e.pendingProps,t===null?Qr(e):Se=t}function lm(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=jf(a,t,t.pendingProps,t.type,void 0,je);break;case 11:t=jf(a,t,t.pendingProps,t.type.render,t.ref,je);break;case 5:Xo(t);default:kf(a,t),t=Se=sh(t,Aa),t=Cf(a,t,Aa)}e.memoizedProps=e.pendingProps,t===null?Qr(e):Se=t}function _s(e,t,a,i){ba=bn=null,Xo(t),us=null,ri=0;var o=t.return;try{if(Ky(e,o,t,a,je)){Je=1,zr(e,Yt(a,e.current)),Se=null;return}}catch(d){if(o!==null)throw Se=o,d;Je=1,zr(e,Yt(a,e.current)),Se=null;return}t.flags&32768?(Ne||i===1?e=!0:gs||(je&536870912)!==0?e=!1:(Xa=e=!0,(i===2||i===9||i===3||i===6)&&(i=Dt.current,i!==null&&i.tag===13&&(i.flags|=16384))),om(t,e)):Qr(t)}function Qr(e){var t=e;do{if((t.flags&32768)!==0){om(t,Xa);return}e=t.return;var a=Qy(t.alternate,t,Aa);if(a!==null){Se=a;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);Je===0&&(Je=5)}function om(e,t){do{var a=Jy(e.alternate,e);if(a!==null){a.flags&=32767,Se=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Se=e;return}Se=e=a}while(e!==null);Je=6,Se=null}function um(e,t,a,i,o,d,g,b,E){e.cancelPendingCommit=null;do Jr();while(rt!==0);if((ke&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(d=t.lanes|t.childLanes,d|=_o,Mp(e,a,d,g,b,E),e===$e&&(Se=$e=null,je=0),ys=t,Ia=e,Ca=a,Ou=d,Au=o,Ff=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,l0(Zi,function(){return mm(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=B.T,B.T=null,o=P.p,P.p=2,g=ke,ke|=4;try{Iy(e,t,a)}finally{ke=g,P.p=o,B.T=i}}rt=1,cm(),dm(),hm()}}function cm(){if(rt===1){rt=0;var e=Ia,t=ys,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var i=P.p;P.p=2;var o=ke;ke|=4;try{Yf(t,e);var d=Yu,g=Jd(e.containerInfo),b=d.focusedElem,E=d.selectionRange;if(g!==b&&b&&b.ownerDocument&&Qd(b.ownerDocument.documentElement,b)){if(E!==null&&vo(b)){var k=E.start,$=E.end;if($===void 0&&($=k),"selectionStart"in b)b.selectionStart=k,b.selectionEnd=Math.min($,b.value.length);else{var G=b.ownerDocument||document,D=G&&G.defaultView||window;if(D.getSelection){var L=D.getSelection(),se=b.textContent.length,ce=Math.min(E.start,se),qe=E.end===void 0?ce:Math.min(E.end,se);!L.extend&&ce>qe&&(g=qe,qe=ce,ce=g);var C=Xd(b,ce),O=Xd(b,qe);if(C&&O&&(L.rangeCount!==1||L.anchorNode!==C.node||L.anchorOffset!==C.offset||L.focusNode!==O.node||L.focusOffset!==O.offset)){var R=G.createRange();R.setStart(C.node,C.offset),L.removeAllRanges(),ce>qe?(L.addRange(R),L.extend(O.node,O.offset)):(R.setEnd(O.node,O.offset),L.addRange(R))}}}}for(G=[],L=b;L=L.parentNode;)L.nodeType===1&&G.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<G.length;b++){var V=G[b];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}ll=!!Gu,Yu=Gu=null}finally{ke=o,P.p=i,B.T=a}}e.current=t,rt=2}}function dm(){if(rt===2){rt=0;var e=Ia,t=ys,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var i=P.p;P.p=2;var o=ke;ke|=4;try{Lf(e,t.alternate,t)}finally{ke=o,P.p=i,B.T=a}}rt=3}}function hm(){if(rt===4||rt===3){rt=0,Np();var e=Ia,t=ys,a=Ca,i=Ff;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?rt=5:(rt=0,ys=Ia=null,fm(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Ja=null),Jl(a),t=t.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Vs,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=B.T,o=P.p,P.p=2,B.T=null;try{for(var d=e.onRecoverableError,g=0;g<i.length;g++){var b=i[g];d(b.value,{componentStack:b.stack})}}finally{B.T=t,P.p=o}}(Ca&3)!==0&&Jr(),ua(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===Cu?Ei++:(Ei=0,Cu=e):Ei=0,ji(0)}}function fm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,si(t)))}function Jr(){return cm(),dm(),hm(),mm()}function mm(){if(rt!==5)return!1;var e=Ia,t=Ou;Ou=0;var a=Jl(Ca),i=B.T,o=P.p;try{P.p=32>a?32:a,B.T=null,a=Au,Au=null;var d=Ia,g=Ca;if(rt=0,ys=Ia=null,Ca=0,(ke&6)!==0)throw Error(l(331));var b=ke;if(ke|=4,Jf(d.current),Pf(d,d.current,g,a),ke=b,ji(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Vs,d)}catch{}return!0}finally{P.p=o,B.T=i,fm(e,t)}}function vm(e,t,a){t=Yt(a,t),t=ou(e.stateNode,t,2),e=Ga(e,t,2),e!==null&&(Ys(e,2),ua(e))}function Ue(e,t,a){if(e.tag===3)vm(e,e,a);else for(;t!==null;){if(t.tag===3){vm(t,e,a);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ja===null||!Ja.has(i))){e=Yt(a,e),a=gf(2),i=Ga(t,a,2),i!==null&&(pf(a,i,t,e),Ys(i,2),ua(i));break}}t=t.return}}function Du(e,t,a){var i=e.pingCache;if(i===null){i=e.pingCache=new Wy;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(a)||(xu=!0,o.add(a),e=s0.bind(null,e,t,a),t.then(e,e))}function s0(e,t,a){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,$e===e&&(je&a)===a&&(Je===4||Je===3&&(je&62914560)===je&&300>Ot()-Gr?(ke&2)===0&&bs(e,0):Tu|=a,ps===je&&(ps=0)),ua(e)}function gm(e,t){t===0&&(t=ud()),e=gn(e,t),e!==null&&(Ys(e,t),ua(e))}function i0(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),gm(e,a)}function r0(e,t){var a=0;switch(e.tag){case 31:case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(l(314))}i!==null&&i.delete(t),gm(e,a)}function l0(e,t){return Kl(e,t)}var Ir=null,ws=null,Uu=!1,Zr=!1,zu=!1,Fa=0;function ua(e){e!==ws&&e.next===null&&(ws===null?Ir=ws=e:ws=ws.next=e),Zr=!0,Uu||(Uu=!0,u0())}function ji(e,t){if(!zu&&Zr){zu=!0;do for(var a=!1,i=Ir;i!==null;){if(e!==0){var o=i.pendingLanes;if(o===0)var d=0;else{var g=i.suspendedLanes,b=i.pingedLanes;d=(1<<31-Ct(42|e)+1)-1,d&=o&~(g&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,_m(i,d))}else d=je,d=tr(i,i===$e?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(d&3)===0||Gs(i,d)||(a=!0,_m(i,d));i=i.next}while(a);zu=!1}}function o0(){pm()}function pm(){Zr=Uu=!1;var e=0;Fa!==0&&b0()&&(e=Fa);for(var t=Ot(),a=null,i=Ir;i!==null;){var o=i.next,d=ym(i,t);d===0?(i.next=null,a===null?Ir=o:a.next=o,o===null&&(ws=a)):(a=i,(e!==0||(d&3)!==0)&&(Zr=!0)),i=o}rt!==0&&rt!==5||ji(e),Fa!==0&&(Fa=0)}function ym(e,t){for(var a=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var g=31-Ct(d),b=1<<g,E=o[g];E===-1?((b&a)===0||(b&i)!==0)&&(o[g]=zp(b,t)):E<=t&&(e.expiredLanes|=b),d&=~b}if(t=$e,a=je,a=tr(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,a===0||e===t&&(De===2||De===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Pl(i),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Gs(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(i!==null&&Pl(i),Jl(a)){case 2:case 8:a=ld;break;case 32:a=Zi;break;case 268435456:a=od;break;default:a=Zi}return i=bm.bind(null,e),a=Kl(a,i),e.callbackPriority=t,e.callbackNode=a,t}return i!==null&&i!==null&&Pl(i),e.callbackPriority=2,e.callbackNode=null,2}function bm(e,t){if(rt!==0&&rt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Jr()&&e.callbackNode!==a)return null;var i=je;return i=tr(e,e===$e?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(em(e,i,t),ym(e,Ot()),e.callbackNode!=null&&e.callbackNode===a?bm.bind(null,e):null)}function _m(e,t){if(Jr())return null;em(e,t,!0)}function u0(){w0(function(){(ke&6)!==0?Kl(rd,o0):pm()})}function Mu(){if(Fa===0){var e=rs;e===0&&(e=Fi,Fi<<=1,(Fi&261888)===0&&(Fi=256)),Fa=e}return Fa}function wm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ir(""+e)}function Sm(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function c0(e,t,a,i,o){if(t==="submit"&&a&&a.stateNode===o){var d=wm((o[bt]||null).action),g=i.submitter;g&&(t=(t=g[bt]||null)?wm(t.formAction):g.getAttribute("formAction"),t!==null&&(d=t,g=null));var b=new ur("action","action",null,i,o);e.push({event:b,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Fa!==0){var E=g?Sm(o,g):new FormData(o);au(a,{pending:!0,data:E,method:o.method,action:d},null,E)}}else typeof d=="function"&&(b.preventDefault(),E=g?Sm(o,g):new FormData(o),au(a,{pending:!0,data:E,method:o.method,action:d},d,E))},currentTarget:o}]})}}for(var Bu=0;Bu<bo.length;Bu++){var qu=bo[Bu],d0=qu.toLowerCase(),h0=qu[0].toUpperCase()+qu.slice(1);Zt(d0,"on"+h0)}Zt(Fd,"onAnimationEnd"),Zt(Wd,"onAnimationIteration"),Zt(eh,"onAnimationStart"),Zt("dblclick","onDoubleClick"),Zt("focusin","onFocus"),Zt("focusout","onBlur"),Zt(Oy,"onTransitionRun"),Zt(Ay,"onTransitionStart"),Zt(Cy,"onTransitionCancel"),Zt(th,"onTransitionEnd"),Pn("onMouseEnter",["mouseout","mouseover"]),Pn("onMouseLeave",["mouseout","mouseover"]),Pn("onPointerEnter",["pointerout","pointerover"]),Pn("onPointerLeave",["pointerout","pointerover"]),hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xi));function Em(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var i=e[a],o=i.event;i=i.listeners;e:{var d=void 0;if(t)for(var g=i.length-1;0<=g;g--){var b=i[g],E=b.instance,k=b.currentTarget;if(b=b.listener,E!==d&&o.isPropagationStopped())break e;d=b,o.currentTarget=k;try{d(o)}catch($){hr($)}o.currentTarget=null,d=E}else for(g=0;g<i.length;g++){if(b=i[g],E=b.instance,k=b.currentTarget,b=b.listener,E!==d&&o.isPropagationStopped())break e;d=b,o.currentTarget=k;try{d(o)}catch($){hr($)}o.currentTarget=null,d=E}}}}function Ee(e,t){var a=t[Il];a===void 0&&(a=t[Il]=new Set);var i=e+"__bubble";a.has(i)||(jm(t,e,2,!1),a.add(i))}function Lu(e,t,a){var i=0;t&&(i|=4),jm(a,e,i,t)}var Fr="_reactListening"+Math.random().toString(36).slice(2);function $u(e){if(!e[Fr]){e[Fr]=!0,gd.forEach(function(a){a!=="selectionchange"&&(f0.has(a)||Lu(a,!1,e),Lu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fr]||(t[Fr]=!0,Lu("selectionchange",!1,t))}}function jm(e,t,a,i){switch(Wm(t)){case 2:var o=H0;break;case 8:o=V0;break;default:o=tc}a=o.bind(null,t,a,e),o=void 0,!io||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function Hu(e,t,a,i,o){var d=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var g=i.tag;if(g===3||g===4){var b=i.stateNode.containerInfo;if(b===o)break;if(g===4)for(g=i.return;g!==null;){var E=g.tag;if((E===3||E===4)&&g.stateNode.containerInfo===o)return;g=g.return}for(;b!==null;){if(g=Gn(b),g===null)return;if(E=g.tag,E===5||E===6||E===26||E===27){i=d=g;continue e}b=b.parentNode}}i=i.return}Od(function(){var k=d,$=no(a),G=[];e:{var D=ah.get(e);if(D!==void 0){var L=ur,se=e;switch(e){case"keypress":if(lr(a)===0)break e;case"keydown":case"keyup":L=ry;break;case"focusin":se="focus",L=uo;break;case"focusout":se="blur",L=uo;break;case"beforeblur":case"afterblur":L=uo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Rd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=Qp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=uy;break;case Fd:case Wd:case eh:L=Zp;break;case th:L=dy;break;case"scroll":case"scrollend":L=Pp;break;case"wheel":L=fy;break;case"copy":case"cut":case"paste":L=Wp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Dd;break;case"toggle":case"beforetoggle":L=vy}var ce=(t&4)!==0,qe=!ce&&(e==="scroll"||e==="scrollend"),C=ce?D!==null?D+"Capture":null:D;ce=[];for(var O=k,R;O!==null;){var V=O;if(R=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||R===null||C===null||(V=Xs(O,C),V!=null&&ce.push(Ti(O,V,R))),qe)break;O=O.return}0<ce.length&&(D=new L(D,se,null,a,$),G.push({event:D,listeners:ce}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",D&&a!==ao&&(se=a.relatedTarget||a.fromElement)&&(Gn(se)||se[Vn]))break e;if((L||D)&&(D=$.window===$?$:(D=$.ownerDocument)?D.defaultView||D.parentWindow:window,L?(se=a.relatedTarget||a.toElement,L=k,se=se?Gn(se):null,se!==null&&(qe=c(se),ce=se.tag,se!==qe||ce!==5&&ce!==27&&ce!==6)&&(se=null)):(L=null,se=k),L!==se)){if(ce=Rd,V="onMouseLeave",C="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(ce=Dd,V="onPointerLeave",C="onPointerEnter",O="pointer"),qe=L==null?D:Ps(L),R=se==null?D:Ps(se),D=new ce(V,O+"leave",L,a,$),D.target=qe,D.relatedTarget=R,V=null,Gn($)===k&&(ce=new ce(C,O+"enter",se,a,$),ce.target=R,ce.relatedTarget=qe,V=ce),qe=V,L&&se)t:{for(ce=m0,C=L,O=se,R=0,V=C;V;V=ce(V))R++;V=0;for(var le=O;le;le=ce(le))V++;for(;0<R-V;)C=ce(C),R--;for(;0<V-R;)O=ce(O),V--;for(;R--;){if(C===O||O!==null&&C===O.alternate){ce=C;break t}C=ce(C),O=ce(O)}ce=null}else ce=null;L!==null&&xm(G,D,L,ce,!1),se!==null&&qe!==null&&xm(G,qe,se,ce,!0)}}e:{if(D=k?Ps(k):window,L=D.nodeName&&D.nodeName.toLowerCase(),L==="select"||L==="input"&&D.type==="file")var Ce=Hd;else if(Ld(D))if(Vd)Ce=xy;else{Ce=Ey;var ie=Sy}else L=D.nodeName,!L||L.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?k&&to(k.elementType)&&(Ce=Hd):Ce=jy;if(Ce&&(Ce=Ce(e,k))){$d(G,Ce,a,$);break e}ie&&ie(e,D,k),e==="focusout"&&k&&D.type==="number"&&k.memoizedProps.value!=null&&eo(D,"number",D.value)}switch(ie=k?Ps(k):window,e){case"focusin":(Ld(ie)||ie.contentEditable==="true")&&(Fn=ie,go=k,ti=null);break;case"focusout":ti=go=Fn=null;break;case"mousedown":po=!0;break;case"contextmenu":case"mouseup":case"dragend":po=!1,Id(G,a,$);break;case"selectionchange":if(Ny)break;case"keydown":case"keyup":Id(G,a,$)}var be;if(ho)e:{switch(e){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Zn?Bd(e,a)&&(xe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(Ud&&a.locale!=="ko"&&(Zn||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Zn&&(be=Ad()):(Ma=$,ro="value"in Ma?Ma.value:Ma.textContent,Zn=!0)),ie=Wr(k,xe),0<ie.length&&(xe=new kd(xe,e,null,a,$),G.push({event:xe,listeners:ie}),be?xe.data=be:(be=qd(a),be!==null&&(xe.data=be)))),(be=py?yy(e,a):by(e,a))&&(xe=Wr(k,"onBeforeInput"),0<xe.length&&(ie=new kd("onBeforeInput","beforeinput",null,a,$),G.push({event:ie,listeners:xe}),ie.data=be)),c0(G,e,k,a,$)}Em(G,t)})}function Ti(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Wr(e,t){for(var a=t+"Capture",i=[];e!==null;){var o=e,d=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||d===null||(o=Xs(e,a),o!=null&&i.unshift(Ti(e,o,d)),o=Xs(e,t),o!=null&&i.push(Ti(e,o,d))),e.tag===3)return i;e=e.return}return[]}function m0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function xm(e,t,a,i,o){for(var d=t._reactName,g=[];a!==null&&a!==i;){var b=a,E=b.alternate,k=b.stateNode;if(b=b.tag,E!==null&&E===i)break;b!==5&&b!==26&&b!==27||k===null||(E=k,o?(k=Xs(a,d),k!=null&&g.unshift(Ti(a,k,E))):o||(k=Xs(a,d),k!=null&&g.push(Ti(a,k,E)))),a=a.return}g.length!==0&&e.push({event:t,listeners:g})}var v0=/\r\n?/g,g0=/\u0000|\uFFFD/g;function Tm(e){return(typeof e=="string"?e:""+e).replace(v0,`
`).replace(g0,"")}function Nm(e,t){return t=Tm(t),Tm(e)===t}function Be(e,t,a,i,o,d){switch(a){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Qn(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Qn(e,""+i);break;case"className":nr(e,"class",i);break;case"tabIndex":nr(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":nr(e,a,i);break;case"style":Td(e,i,d);break;case"data":if(t!=="object"){nr(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=ir(""+i),e.setAttribute(a,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(t!=="input"&&Be(e,t,"name",o.name,o,null),Be(e,t,"formEncType",o.formEncType,o,null),Be(e,t,"formMethod",o.formMethod,o,null),Be(e,t,"formTarget",o.formTarget,o,null)):(Be(e,t,"encType",o.encType,o,null),Be(e,t,"method",o.method,o,null),Be(e,t,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=ir(""+i),e.setAttribute(a,i);break;case"onClick":i!=null&&(e.onclick=va);break;case"onScroll":i!=null&&Ee("scroll",e);break;case"onScrollEnd":i!=null&&Ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(a=i.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}a=ir(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""+i):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":i===!0?e.setAttribute(a,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,i):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(a,i):e.removeAttribute(a);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(a):e.setAttribute(a,i);break;case"popover":Ee("beforetoggle",e),Ee("toggle",e),ar(e,"popover",i);break;case"xlinkActuate":ma(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ma(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ma(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ma(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ma(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ma(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ma(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ma(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ma(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ar(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Yp.get(a)||a,ar(e,a,i))}}function Vu(e,t,a,i,o,d){switch(a){case"style":Td(e,i,d);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(a=i.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof i=="string"?Qn(e,i):(typeof i=="number"||typeof i=="bigint")&&Qn(e,""+i);break;case"onScroll":i!=null&&Ee("scroll",e);break;case"onScrollEnd":i!=null&&Ee("scrollend",e);break;case"onClick":i!=null&&(e.onclick=va);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pd.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),d=e[bt]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(t,d,o),typeof i=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,i,o);break e}a in e?e[a]=i:i===!0?e.setAttribute(a,""):ar(e,a,i)}}}function ft(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",e),Ee("load",e);var i=!1,o=!1,d;for(d in a)if(a.hasOwnProperty(d)){var g=a[d];if(g!=null)switch(d){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Be(e,t,d,g,a,null)}}o&&Be(e,t,"srcSet",a.srcSet,a,null),i&&Be(e,t,"src",a.src,a,null);return;case"input":Ee("invalid",e);var b=d=g=o=null,E=null,k=null;for(i in a)if(a.hasOwnProperty(i)){var $=a[i];if($!=null)switch(i){case"name":o=$;break;case"type":g=$;break;case"checked":E=$;break;case"defaultChecked":k=$;break;case"value":d=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(l(137,t));break;default:Be(e,t,i,$,a,null)}}Sd(e,d,b,E,k,g,o,!1);return;case"select":Ee("invalid",e),i=g=d=null;for(o in a)if(a.hasOwnProperty(o)&&(b=a[o],b!=null))switch(o){case"value":d=b;break;case"defaultValue":g=b;break;case"multiple":i=b;default:Be(e,t,o,b,a,null)}t=d,a=g,e.multiple=!!i,t!=null?Xn(e,!!i,t,!1):a!=null&&Xn(e,!!i,a,!0);return;case"textarea":Ee("invalid",e),d=o=i=null;for(g in a)if(a.hasOwnProperty(g)&&(b=a[g],b!=null))switch(g){case"value":i=b;break;case"defaultValue":o=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(l(91));break;default:Be(e,t,g,b,a,null)}jd(e,i,o,d);return;case"option":for(E in a)if(a.hasOwnProperty(E)&&(i=a[E],i!=null))switch(E){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Be(e,t,E,i,a,null)}return;case"dialog":Ee("beforetoggle",e),Ee("toggle",e),Ee("cancel",e),Ee("close",e);break;case"iframe":case"object":Ee("load",e);break;case"video":case"audio":for(i=0;i<xi.length;i++)Ee(xi[i],e);break;case"image":Ee("error",e),Ee("load",e);break;case"details":Ee("toggle",e);break;case"embed":case"source":case"link":Ee("error",e),Ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(i=a[k],i!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Be(e,t,k,i,a,null)}return;default:if(to(t)){for($ in a)a.hasOwnProperty($)&&(i=a[$],i!==void 0&&Vu(e,t,$,i,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(i=a[b],i!=null&&Be(e,t,b,i,a,null))}function p0(e,t,a,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,d=null,g=null,b=null,E=null,k=null,$=null;for(L in a){var G=a[L];if(a.hasOwnProperty(L)&&G!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":E=G;default:i.hasOwnProperty(L)||Be(e,t,L,null,i,G)}}for(var D in i){var L=i[D];if(G=a[D],i.hasOwnProperty(D)&&(L!=null||G!=null))switch(D){case"type":d=L;break;case"name":o=L;break;case"checked":k=L;break;case"defaultChecked":$=L;break;case"value":g=L;break;case"defaultValue":b=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(l(137,t));break;default:L!==G&&Be(e,t,D,L,i,G)}}Wl(e,g,b,E,k,$,d,o);return;case"select":L=g=b=D=null;for(d in a)if(E=a[d],a.hasOwnProperty(d)&&E!=null)switch(d){case"value":break;case"multiple":L=E;default:i.hasOwnProperty(d)||Be(e,t,d,null,i,E)}for(o in i)if(d=i[o],E=a[o],i.hasOwnProperty(o)&&(d!=null||E!=null))switch(o){case"value":D=d;break;case"defaultValue":b=d;break;case"multiple":g=d;default:d!==E&&Be(e,t,o,d,i,E)}t=b,a=g,i=L,D!=null?Xn(e,!!a,D,!1):!!i!=!!a&&(t!=null?Xn(e,!!a,t,!0):Xn(e,!!a,a?[]:"",!1));return;case"textarea":L=D=null;for(b in a)if(o=a[b],a.hasOwnProperty(b)&&o!=null&&!i.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Be(e,t,b,null,i,o)}for(g in i)if(o=i[g],d=a[g],i.hasOwnProperty(g)&&(o!=null||d!=null))switch(g){case"value":D=o;break;case"defaultValue":L=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==d&&Be(e,t,g,o,i,d)}Ed(e,D,L);return;case"option":for(var se in a)if(D=a[se],a.hasOwnProperty(se)&&D!=null&&!i.hasOwnProperty(se))switch(se){case"selected":e.selected=!1;break;default:Be(e,t,se,null,i,D)}for(E in i)if(D=i[E],L=a[E],i.hasOwnProperty(E)&&D!==L&&(D!=null||L!=null))switch(E){case"selected":e.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Be(e,t,E,D,i,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in a)D=a[ce],a.hasOwnProperty(ce)&&D!=null&&!i.hasOwnProperty(ce)&&Be(e,t,ce,null,i,D);for(k in i)if(D=i[k],L=a[k],i.hasOwnProperty(k)&&D!==L&&(D!=null||L!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(l(137,t));break;default:Be(e,t,k,D,i,L)}return;default:if(to(t)){for(var qe in a)D=a[qe],a.hasOwnProperty(qe)&&D!==void 0&&!i.hasOwnProperty(qe)&&Vu(e,t,qe,void 0,i,D);for($ in i)D=i[$],L=a[$],!i.hasOwnProperty($)||D===L||D===void 0&&L===void 0||Vu(e,t,$,D,i,L);return}}for(var C in a)D=a[C],a.hasOwnProperty(C)&&D!=null&&!i.hasOwnProperty(C)&&Be(e,t,C,null,i,D);for(G in i)D=i[G],L=a[G],!i.hasOwnProperty(G)||D===L||D==null&&L==null||Be(e,t,G,D,i,L)}function Om(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function y0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),i=0;i<a.length;i++){var o=a[i],d=o.transferSize,g=o.initiatorType,b=o.duration;if(d&&b&&Om(g)){for(g=0,b=o.responseEnd,i+=1;i<a.length;i++){var E=a[i],k=E.startTime;if(k>b)break;var $=E.transferSize,G=E.initiatorType;$&&Om(G)&&(E=E.responseEnd,g+=$*(E<b?1:(b-k)/(E-k)))}if(--i,t+=8*(d+g)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Gu=null,Yu=null;function el(e){return e.nodeType===9?e:e.ownerDocument}function Am(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ku(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pu=null;function b0(){var e=window.event;return e&&e.type==="popstate"?e===Pu?!1:(Pu=e,!0):(Pu=null,!1)}var Rm=typeof setTimeout=="function"?setTimeout:void 0,_0=typeof clearTimeout=="function"?clearTimeout:void 0,km=typeof Promise=="function"?Promise:void 0,w0=typeof queueMicrotask=="function"?queueMicrotask:typeof km<"u"?function(e){return km.resolve(null).then(e).catch(S0)}:Rm;function S0(e){setTimeout(function(){throw e})}function Wa(e){return e==="head"}function Dm(e,t){var a=t,i=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(i===0){e.removeChild(o),xs(t);return}i--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")i++;else if(a==="html")Ni(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ni(a);for(var d=a.firstChild;d;){var g=d.nextSibling,b=d.nodeName;d[Ks]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=g}}else a==="body"&&Ni(e.ownerDocument.body);a=o}while(a);xs(t)}function Um(e,t){var a=e;e=0;do{var i=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),i&&i.nodeType===8)if(a=i.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=i}while(a)}function Xu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Xu(a),Zl(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function E0(e,t,a,i){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Ks])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Jt(e.nextSibling),e===null)break}return null}function j0(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Jt(e.nextSibling),e===null))return null;return e}function zm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Jt(e.nextSibling),e===null))return null;return e}function Qu(e){return e.data==="$?"||e.data==="$~"}function Ju(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function x0(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var i=function(){t(),a.removeEventListener("DOMContentLoaded",i)};a.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Iu=null;function Mm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Jt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Bm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function qm(e,t,a){switch(t=el(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Ni(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Zl(e)}var It=new Map,Lm=new Set;function tl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ra=P.d;P.d={f:T0,r:N0,D:O0,C:A0,L:C0,m:R0,X:D0,S:k0,M:U0};function T0(){var e=Ra.f(),t=Pr();return e||t}function N0(e){var t=Yn(e);t!==null&&t.tag===5&&t.type==="form"?tf(t):Ra.r(e)}var Ss=typeof document>"u"?null:document;function $m(e,t,a){var i=Ss;if(i&&typeof t=="string"&&t){var o=Vt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),Lm.has(o)||(Lm.add(o),e={rel:e,crossOrigin:a,href:t},i.querySelector(o)===null&&(t=i.createElement("link"),ft(t,"link",e),lt(t),i.head.appendChild(t)))}}function O0(e){Ra.D(e),$m("dns-prefetch",e,null)}function A0(e,t){Ra.C(e,t),$m("preconnect",e,t)}function C0(e,t,a){Ra.L(e,t,a);var i=Ss;if(i&&e&&t){var o='link[rel="preload"][as="'+Vt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+Vt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+Vt(a.imageSizes)+'"]')):o+='[href="'+Vt(e)+'"]';var d=o;switch(t){case"style":d=Es(e);break;case"script":d=js(e)}It.has(d)||(e=_({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),It.set(d,e),i.querySelector(o)!==null||t==="style"&&i.querySelector(Oi(d))||t==="script"&&i.querySelector(Ai(d))||(t=i.createElement("link"),ft(t,"link",e),lt(t),i.head.appendChild(t)))}}function R0(e,t){Ra.m(e,t);var a=Ss;if(a&&e){var i=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Vt(i)+'"][href="'+Vt(e)+'"]',d=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=js(e)}if(!It.has(d)&&(e=_({rel:"modulepreload",href:e},t),It.set(d,e),a.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ai(d)))return}i=a.createElement("link"),ft(i,"link",e),lt(i),a.head.appendChild(i)}}}function k0(e,t,a){Ra.S(e,t,a);var i=Ss;if(i&&e){var o=Kn(i).hoistableStyles,d=Es(e);t=t||"default";var g=o.get(d);if(!g){var b={loading:0,preload:null};if(g=i.querySelector(Oi(d)))b.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},a),(a=It.get(d))&&Zu(e,a);var E=g=i.createElement("link");lt(E),ft(E,"link",e),E._p=new Promise(function(k,$){E.onload=k,E.onerror=$}),E.addEventListener("load",function(){b.loading|=1}),E.addEventListener("error",function(){b.loading|=2}),b.loading|=4,al(g,t,i)}g={type:"stylesheet",instance:g,count:1,state:b},o.set(d,g)}}}function D0(e,t){Ra.X(e,t);var a=Ss;if(a&&e){var i=Kn(a).hoistableScripts,o=js(e),d=i.get(o);d||(d=a.querySelector(Ai(o)),d||(e=_({src:e,async:!0},t),(t=It.get(o))&&Fu(e,t),d=a.createElement("script"),lt(d),ft(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},i.set(o,d))}}function U0(e,t){Ra.M(e,t);var a=Ss;if(a&&e){var i=Kn(a).hoistableScripts,o=js(e),d=i.get(o);d||(d=a.querySelector(Ai(o)),d||(e=_({src:e,async:!0,type:"module"},t),(t=It.get(o))&&Fu(e,t),d=a.createElement("script"),lt(d),ft(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},i.set(o,d))}}function Hm(e,t,a,i){var o=(o=ye.current)?tl(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Es(a.href),a=Kn(o).hoistableStyles,i=a.get(t),i||(i={type:"style",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Es(a.href);var d=Kn(o).hoistableStyles,g=d.get(e);if(g||(o=o.ownerDocument||o,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,g),(d=o.querySelector(Oi(e)))&&!d._p&&(g.instance=d,g.state.loading=5),It.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},It.set(e,a),d||z0(o,e,a,g.state))),t&&i===null)throw Error(l(528,""));return g}if(t&&i!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=js(a),a=Kn(o).hoistableScripts,i=a.get(t),i||(i={type:"script",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Es(e){return'href="'+Vt(e)+'"'}function Oi(e){return'link[rel="stylesheet"]['+e+"]"}function Vm(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function z0(e,t,a,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ft(t,"link",a),lt(t),e.head.appendChild(t))}function js(e){return'[src="'+Vt(e)+'"]'}function Ai(e){return"script[async]"+e}function Gm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Vt(a.href)+'"]');if(i)return t.instance=i,lt(i),i;var o=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),lt(i),ft(i,"style",o),al(i,a.precedence,e),t.instance=i;case"stylesheet":o=Es(a.href);var d=e.querySelector(Oi(o));if(d)return t.state.loading|=4,t.instance=d,lt(d),d;i=Vm(a),(o=It.get(o))&&Zu(i,o),d=(e.ownerDocument||e).createElement("link"),lt(d);var g=d;return g._p=new Promise(function(b,E){g.onload=b,g.onerror=E}),ft(d,"link",i),t.state.loading|=4,al(d,a.precedence,e),t.instance=d;case"script":return d=js(a.src),(o=e.querySelector(Ai(d)))?(t.instance=o,lt(o),o):(i=a,(o=It.get(d))&&(i=_({},a),Fu(i,o)),e=e.ownerDocument||e,o=e.createElement("script"),lt(o),ft(o,"link",i),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,al(i,a.precedence,e));return t.instance}function al(e,t,a){for(var i=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,d=o,g=0;g<i.length;g++){var b=i[g];if(b.dataset.precedence===t)d=b;else if(d!==o)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Zu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Fu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var nl=null;function Ym(e,t,a){if(nl===null){var i=new Map,o=nl=new Map;o.set(a,i)}else o=nl,i=o.get(a),i||(i=new Map,o.set(a,i));if(i.has(e))return i;for(i.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var d=a[o];if(!(d[Ks]||d[ut]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(t)||"";g=e+g;var b=i.get(g);b?b.push(d):i.set(g,[d])}}return i}function Km(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function M0(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Pm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function B0(e,t,a,i){if(a.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=Es(i.href),d=t.querySelector(Oi(o));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=sl.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=d,lt(d);return}d=t.ownerDocument||t,i=Vm(i),(o=It.get(o))&&Zu(i,o),d=d.createElement("link"),lt(d);var g=d;g._p=new Promise(function(b,E){g.onload=b,g.onerror=E}),ft(d,"link",i),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=sl.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Wu=0;function q0(e,t){return e.stylesheets&&e.count===0&&rl(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var i=setTimeout(function(){if(e.stylesheets&&rl(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&Wu===0&&(Wu=62500*y0());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&rl(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Wu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(o)}}:null}function sl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var il=null;function rl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,il=new Map,t.forEach(L0,e),il=null,sl.call(e))}function L0(e,t){if(!(t.state.loading&4)){var a=il.get(e);if(a)var i=a.get(null);else{a=new Map,il.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<o.length;d++){var g=o[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),i=g)}i&&a.set(null,i)}o=t.instance,g=o.getAttribute("data-precedence"),d=a.get(g)||i,d===i&&a.set(null,o),a.set(g,o),this.count++,i=sl.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),d?d.parentNode.insertBefore(o,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Ci={$$typeof:q,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function $0(e,t,a,i,o,d,g,b,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xl(0),this.hiddenUpdates=Xl(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Xm(e,t,a,i,o,d,g,b,E,k,$,G){return e=new $0(e,t,a,g,E,k,$,G,b),t=1,d===!0&&(t|=24),d=kt(3,null,null,t),e.current=d,d.stateNode=e,t=ko(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:i,isDehydrated:a,cache:t},Mo(d),e}function Qm(e){return e?(e=ts,e):ts}function Jm(e,t,a,i,o,d){o=Qm(o),i.context===null?i.context=o:i.pendingContext=o,i=Va(t),i.payload={element:a},d=d===void 0?null:d,d!==null&&(i.callback=d),a=Ga(e,i,t),a!==null&&(xt(a,e,t),oi(a,e,t))}function Im(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function ec(e,t){Im(e,t),(e=e.alternate)&&Im(e,t)}function Zm(e){if(e.tag===13||e.tag===31){var t=gn(e,67108864);t!==null&&xt(t,e,67108864),ec(e,67108864)}}function Fm(e){if(e.tag===13||e.tag===31){var t=Bt();t=Ql(t);var a=gn(e,t);a!==null&&xt(a,e,t),ec(e,t)}}var ll=!0;function H0(e,t,a,i){var o=B.T;B.T=null;var d=P.p;try{P.p=2,tc(e,t,a,i)}finally{P.p=d,B.T=o}}function V0(e,t,a,i){var o=B.T;B.T=null;var d=P.p;try{P.p=8,tc(e,t,a,i)}finally{P.p=d,B.T=o}}function tc(e,t,a,i){if(ll){var o=ac(i);if(o===null)Hu(e,t,i,ol,a),ev(e,i);else if(Y0(o,e,t,a,i))i.stopPropagation();else if(ev(e,i),t&4&&-1<G0.indexOf(e)){for(;o!==null;){var d=Yn(o);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=dn(d.pendingLanes);if(g!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;g;){var E=1<<31-Ct(g);b.entanglements[1]|=E,g&=~E}ua(d),(ke&6)===0&&(Yr=Ot()+500,ji(0))}}break;case 31:case 13:b=gn(d,2),b!==null&&xt(b,d,2),Pr(),ec(d,2)}if(d=ac(i),d===null&&Hu(e,t,i,ol,a),d===o)break;o=d}o!==null&&i.stopPropagation()}else Hu(e,t,i,null,a)}}function ac(e){return e=no(e),nc(e)}var ol=null;function nc(e){if(ol=null,e=Gn(e),e!==null){var t=c(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===31){if(e=m(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ol=e,null}function Wm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Op()){case rd:return 2;case ld:return 8;case Zi:case Ap:return 32;case od:return 268435456;default:return 32}default:return 32}}var sc=!1,en=null,tn=null,an=null,Ri=new Map,ki=new Map,nn=[],G0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ev(e,t){switch(e){case"focusin":case"focusout":en=null;break;case"dragenter":case"dragleave":tn=null;break;case"mouseover":case"mouseout":an=null;break;case"pointerover":case"pointerout":Ri.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ki.delete(t.pointerId)}}function Di(e,t,a,i,o,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:a,eventSystemFlags:i,nativeEvent:d,targetContainers:[o]},t!==null&&(t=Yn(t),t!==null&&Zm(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Y0(e,t,a,i,o){switch(t){case"focusin":return en=Di(en,e,t,a,i,o),!0;case"dragenter":return tn=Di(tn,e,t,a,i,o),!0;case"mouseover":return an=Di(an,e,t,a,i,o),!0;case"pointerover":var d=o.pointerId;return Ri.set(d,Di(Ri.get(d)||null,e,t,a,i,o)),!0;case"gotpointercapture":return d=o.pointerId,ki.set(d,Di(ki.get(d)||null,e,t,a,i,o)),!0}return!1}function tv(e){var t=Gn(e.target);if(t!==null){var a=c(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,md(e.priority,function(){Fm(a)});return}}else if(t===31){if(t=m(a),t!==null){e.blockedOn=t,md(e.priority,function(){Fm(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ul(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=ac(e.nativeEvent);if(a===null){a=e.nativeEvent;var i=new a.constructor(a.type,a);ao=i,a.target.dispatchEvent(i),ao=null}else return t=Yn(a),t!==null&&Zm(t),e.blockedOn=a,!1;t.shift()}return!0}function av(e,t,a){ul(e)&&a.delete(t)}function K0(){sc=!1,en!==null&&ul(en)&&(en=null),tn!==null&&ul(tn)&&(tn=null),an!==null&&ul(an)&&(an=null),Ri.forEach(av),ki.forEach(av)}function cl(e,t){e.blockedOn===t&&(e.blockedOn=null,sc||(sc=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,K0)))}var dl=null;function nv(e){dl!==e&&(dl=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){dl===e&&(dl=null);for(var t=0;t<e.length;t+=3){var a=e[t],i=e[t+1],o=e[t+2];if(typeof i!="function"){if(nc(i||a)===null)continue;break}var d=Yn(a);d!==null&&(e.splice(t,3),t-=3,au(d,{pending:!0,data:o,method:a.method,action:i},i,o))}}))}function xs(e){function t(E){return cl(E,e)}en!==null&&cl(en,e),tn!==null&&cl(tn,e),an!==null&&cl(an,e),Ri.forEach(t),ki.forEach(t);for(var a=0;a<nn.length;a++){var i=nn[a];i.blockedOn===e&&(i.blockedOn=null)}for(;0<nn.length&&(a=nn[0],a.blockedOn===null);)tv(a),a.blockedOn===null&&nn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(i=0;i<a.length;i+=3){var o=a[i],d=a[i+1],g=o[bt]||null;if(typeof d=="function")g||nv(a);else if(g){var b=null;if(d&&d.hasAttribute("formAction")){if(o=d,g=d[bt]||null)b=g.formAction;else if(nc(o)!==null)continue}else b=g.action;typeof b=="function"?a[i+1]=b:(a.splice(i,3),i-=3),nv(a)}}}function sv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(g){return o=g})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),i||setTimeout(a,20)}function a(){if(!i&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function ic(e){this._internalRoot=e}hl.prototype.render=ic.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,i=Bt();Jm(a,i,e,t,null,null)},hl.prototype.unmount=ic.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Jm(e.current,2,null,e,null,null),Pr(),t[Vn]=null}};function hl(e){this._internalRoot=e}hl.prototype.unstable_scheduleHydration=function(e){if(e){var t=fd();e={blockedOn:null,target:e,priority:t};for(var a=0;a<nn.length&&t!==0&&t<nn[a].priority;a++);nn.splice(a,0,e),a===0&&tv(e)}};var iv=n.version;if(iv!=="19.2.1")throw Error(l(527,iv,"19.2.1"));P.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var P0={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fl.isDisabled&&fl.supportsFiber)try{Vs=fl.inject(P0),At=fl}catch{}}return zi.createRoot=function(e,t){if(!u(e))throw Error(l(299));var a=!1,i="",o=hf,d=ff,g=mf;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=Xm(e,1,!1,null,null,a,i,null,o,d,g,sv),e[Vn]=t.current,$u(e),new ic(t)},zi.hydrateRoot=function(e,t,a){if(!u(e))throw Error(l(299));var i=!1,o="",d=hf,g=ff,b=mf,E=null;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(E=a.formState)),t=Xm(e,1,!0,t,a??null,i,o,E,d,g,b,sv),t.context=Qm(null),a=t.current,i=Bt(),i=Ql(i),o=Va(i),o.callback=null,Ga(a,o,i),a=i,t.current.lanes=a,Ys(t,a),ua(t),e[Vn]=t.current,$u(e),new hl(t)},zi.version="19.2.1",zi}var vv;function ib(){if(vv)return oc.exports;vv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),oc.exports=sb(),oc.exports}var rb=ib();function Ie(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function sa(r,n){if(!r){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Sc({pathname:r="/",search:n="",hash:s=""}){return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function Bl(r){let n={};if(r){let s=r.indexOf("#");s>=0&&(n.hash=r.substring(s),r=r.substring(0,s));let l=r.indexOf("?");l>=0&&(n.search=r.substring(l),r=r.substring(0,l)),r&&(n.pathname=r)}return n}function Zv(r,n,s="/"){return lb(r,n,s,!1)}function lb(r,n,s,l){let u=typeof n=="string"?Bl(n):n,c=un(u.pathname||"/",s);if(c==null)return null;let h=Fv(r);ob(h);let m=null;for(let v=0;m==null&&v<h.length;++v){let p=bb(c);m=pb(h[v],p,l)}return m}function Fv(r,n=[],s=[],l="",u=!1){let c=(h,m,v=u,p)=>{let y={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(l)&&v)return;Ie(y.relativePath.startsWith(l),`Absolute route path "${y.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(l.length)}let _=ka([l,y.relativePath]),w=s.concat(y);h.children&&h.children.length>0&&(Ie(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Fv(h.children,n,w,_,v)),!(h.path==null&&!h.index)&&n.push({path:_,score:vb(_,h.index),routesMeta:w})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))c(h,m);else for(let v of Wv(h.path))c(h,m,!0,v)}),n}function Wv(r){let n=r.split("/");if(n.length===0)return[];let[s,...l]=n,u=s.endsWith("?"),c=s.replace(/\?$/,"");if(l.length===0)return u?[c,""]:[c];let h=Wv(l.join("/")),m=[];return m.push(...h.map(v=>v===""?c:[c,v].join("/"))),u&&m.push(...h),m.map(v=>r.startsWith("/")&&v===""?"/":v)}function ob(r){r.sort((n,s)=>n.score!==s.score?s.score-n.score:gb(n.routesMeta.map(l=>l.childrenIndex),s.routesMeta.map(l=>l.childrenIndex)))}var ub=/^:[\w-]+$/,cb=3,db=2,hb=1,fb=10,mb=-2,gv=r=>r==="*";function vb(r,n){let s=r.split("/"),l=s.length;return s.some(gv)&&(l+=mb),n&&(l+=db),s.filter(u=>!gv(u)).reduce((u,c)=>u+(ub.test(c)?cb:c===""?hb:fb),l)}function gb(r,n){return r.length===n.length&&r.slice(0,-1).every((l,u)=>l===n[u])?r[r.length-1]-n[n.length-1]:0}function pb(r,n,s=!1){let{routesMeta:l}=r,u={},c="/",h=[];for(let m=0;m<l.length;++m){let v=l[m],p=m===l.length-1,y=c==="/"?n:n.slice(c.length)||"/",_=Ol({path:v.relativePath,caseSensitive:v.caseSensitive,end:p},y),w=v.route;if(!_&&p&&s&&!l[l.length-1].route.index&&(_=Ol({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},y)),!_)return null;Object.assign(u,_.params),h.push({params:u,pathname:ka([c,_.pathname]),pathnameBase:jb(ka([c,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(c=ka([c,_.pathnameBase]))}return h}function Ol(r,n){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[s,l]=yb(r.path,r.caseSensitive,r.end),u=n.match(s);if(!u)return null;let c=u[0],h=c.replace(/(.)\/+$/,"$1"),m=u.slice(1);return{params:l.reduce((p,{paramName:y,isOptional:_},w)=>{if(y==="*"){let j=m[w]||"";h=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const S=m[w];return _&&!S?p[y]=void 0:p[y]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:h,pattern:r}}function yb(r,n=!1,s=!0){sa(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let l=[],u="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,v)=>(l.push({paramName:m,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(l.push({paramName:"*"}),u+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?u+="\\/*$":r!==""&&r!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,n?void 0:"i"),l]}function bb(r){try{return r.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return sa(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),r}}function un(r,n){if(n==="/")return r;if(!r.toLowerCase().startsWith(n.toLowerCase()))return null;let s=n.endsWith("/")?n.length-1:n.length,l=r.charAt(s);return l&&l!=="/"?null:r.slice(s)||"/"}var _b=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wb=r=>_b.test(r);function Sb(r,n="/"){let{pathname:s,search:l="",hash:u=""}=typeof r=="string"?Bl(r):r,c;if(s)if(wb(s))c=s;else{if(s.includes("//")){let h=s;s=s.replace(/\/\/+/g,"/"),sa(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${s}`)}s.startsWith("/")?c=pv(s.substring(1),"/"):c=pv(s,n)}else c=n;return{pathname:c,search:xb(l),hash:Tb(u)}}function pv(r,n){let s=n.replace(/\/+$/,"").split("/");return r.split("/").forEach(u=>{u===".."?s.length>1&&s.pop():u!=="."&&s.push(u)}),s.length>1?s.join("/"):"/"}function hc(r,n,s,l){return`Cannot include a '${r}' character in a manually specified \`to.${n}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Eb(r){return r.filter((n,s)=>s===0||n.route.path&&n.route.path.length>0)}function Yc(r){let n=Eb(r);return n.map((s,l)=>l===n.length-1?s.pathname:s.pathnameBase)}function Kc(r,n,s,l=!1){let u;typeof r=="string"?u=Bl(r):(u={...r},Ie(!u.pathname||!u.pathname.includes("?"),hc("?","pathname","search",u)),Ie(!u.pathname||!u.pathname.includes("#"),hc("#","pathname","hash",u)),Ie(!u.search||!u.search.includes("#"),hc("#","search","hash",u)));let c=r===""||u.pathname==="",h=c?"/":u.pathname,m;if(h==null)m=s;else{let _=n.length-1;if(!l&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),_-=1;u.pathname=w.join("/")}m=_>=0?n[_]:"/"}let v=Sb(u,m),p=h&&h!=="/"&&h.endsWith("/"),y=(c||h===".")&&s.endsWith("/");return!v.pathname.endsWith("/")&&(p||y)&&(v.pathname+="/"),v}var ka=r=>r.join("/").replace(/\/\/+/g,"/"),jb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),xb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Tb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Nb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Ob(r){return r.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var eg=["POST","PUT","PATCH","DELETE"];new Set(eg);var Ab=["GET",...eg];new Set(Ab);var qs=N.createContext(null);qs.displayName="DataRouter";var ql=N.createContext(null);ql.displayName="DataRouterState";N.createContext(!1);var tg=N.createContext({isTransitioning:!1});tg.displayName="ViewTransition";var Cb=N.createContext(new Map);Cb.displayName="Fetchers";var Rb=N.createContext(null);Rb.displayName="Await";var ia=N.createContext(null);ia.displayName="Navigation";var Ll=N.createContext(null);Ll.displayName="Location";var da=N.createContext({outlet:null,matches:[],isDataRoute:!1});da.displayName="Route";var Pc=N.createContext(null);Pc.displayName="RouteError";function kb(r,{relative:n}={}){Ie(Qi(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:l}=N.useContext(ia),{hash:u,pathname:c,search:h}=Ji(r,{relative:n}),m=c;return s!=="/"&&(m=c==="/"?s:ka([s,c])),l.createHref({pathname:m,search:h,hash:u})}function Qi(){return N.useContext(Ll)!=null}function Da(){return Ie(Qi(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Ll).location}var ag="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ng(r){N.useContext(ia).static||N.useLayoutEffect(r)}function ha(){let{isDataRoute:r}=N.useContext(da);return r?Kb():Db()}function Db(){Ie(Qi(),"useNavigate() may be used only in the context of a <Router> component.");let r=N.useContext(qs),{basename:n,navigator:s}=N.useContext(ia),{matches:l}=N.useContext(da),{pathname:u}=Da(),c=JSON.stringify(Yc(l)),h=N.useRef(!1);return ng(()=>{h.current=!0}),N.useCallback((v,p={})=>{if(sa(h.current,ag),!h.current)return;if(typeof v=="number"){s.go(v);return}let y=Kc(v,JSON.parse(c),u,p.relative==="path");r==null&&n!=="/"&&(y.pathname=y.pathname==="/"?n:ka([n,y.pathname])),(p.replace?s.replace:s.push)(y,p.state,p)},[n,s,c,u,r])}N.createContext(null);function Ji(r,{relative:n}={}){let{matches:s}=N.useContext(da),{pathname:l}=Da(),u=JSON.stringify(Yc(s));return N.useMemo(()=>Kc(r,JSON.parse(u),l,n==="path"),[r,u,l,n])}function Ub(r,n){return sg(r,n)}function sg(r,n,s,l,u){Ie(Qi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=N.useContext(ia),{matches:h}=N.useContext(da),m=h[h.length-1],v=m?m.params:{},p=m?m.pathname:"/",y=m?m.pathnameBase:"/",_=m&&m.route;{let z=_&&_.path||"";ig(p,!_||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let w=Da(),S;if(n){let z=typeof n=="string"?Bl(n):n;Ie(y==="/"||z.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${z.pathname}" was given in the \`location\` prop.`),S=z}else S=w;let j=S.pathname||"/",A=j;if(y!=="/"){let z=y.replace(/^\//,"").split("/");A="/"+j.replace(/^\//,"").split("/").slice(z.length).join("/")}let T=Zv(r,{pathname:A});sa(_||T!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),sa(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=Lb(T&&T.map(z=>Object.assign({},z,{params:Object.assign({},v,z.params),pathname:ka([y,c.encodeLocation?c.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?y:ka([y,c.encodeLocation?c.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),h,s,l,u);return n&&U?N.createElement(Ll.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},U):U}function zb(){let r=Yb(),n=Nb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),s=r instanceof Error?r.stack:null,l="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:l},c={padding:"2px 4px",backgroundColor:l},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:c},"ErrorBoundary")," or"," ",N.createElement("code",{style:c},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},n),s?N.createElement("pre",{style:u},s):null,h)}var Mb=N.createElement(zb,null),Bb=class extends N.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){this.props.onError?this.props.onError(r,n):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?N.createElement(da.Provider,{value:this.props.routeContext},N.createElement(Pc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qb({routeContext:r,match:n,children:s}){let l=N.useContext(qs);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(da.Provider,{value:r},s)}function Lb(r,n=[],s=null,l=null,u=null){if(r==null){if(!s)return null;if(s.errors)r=s.matches;else if(n.length===0&&!s.initialized&&s.matches.length>0)r=s.matches;else return null}let c=r,h=s?.errors;if(h!=null){let y=c.findIndex(_=>_.route.id&&h?.[_.route.id]!==void 0);Ie(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let m=!1,v=-1;if(s)for(let y=0;y<c.length;y++){let _=c[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(v=y),_.route.id){let{loaderData:w,errors:S}=s,j=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!S||S[_.route.id]===void 0);if(_.route.lazy||j){m=!0,v>=0?c=c.slice(0,v+1):c=[c[0]];break}}}let p=s&&l?(y,_)=>{l(y,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:Ob(s.matches),errorInfo:_})}:void 0;return c.reduceRight((y,_,w)=>{let S,j=!1,A=null,T=null;s&&(S=h&&_.route.id?h[_.route.id]:void 0,A=_.route.errorElement||Mb,m&&(v<0&&w===0?(ig("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,T=null):v===w&&(j=!0,T=_.route.hydrateFallbackElement||null)));let U=n.concat(c.slice(0,w+1)),z=()=>{let q;return S?q=A:j?q=T:_.route.Component?q=N.createElement(_.route.Component,null):_.route.element?q=_.route.element:q=y,N.createElement(qb,{match:_,routeContext:{outlet:y,matches:U,isDataRoute:s!=null},children:q})};return s&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?N.createElement(Bb,{location:s.location,revalidation:s.revalidation,component:A,error:S,children:z(),routeContext:{outlet:null,matches:U,isDataRoute:!0},onError:p}):z()},null)}function Xc(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $b(r){let n=N.useContext(qs);return Ie(n,Xc(r)),n}function Hb(r){let n=N.useContext(ql);return Ie(n,Xc(r)),n}function Vb(r){let n=N.useContext(da);return Ie(n,Xc(r)),n}function Qc(r){let n=Vb(r),s=n.matches[n.matches.length-1];return Ie(s.route.id,`${r} can only be used on routes that contain a unique "id"`),s.route.id}function Gb(){return Qc("useRouteId")}function Yb(){let r=N.useContext(Pc),n=Hb("useRouteError"),s=Qc("useRouteError");return r!==void 0?r:n.errors?.[s]}function Kb(){let{router:r}=$b("useNavigate"),n=Qc("useNavigate"),s=N.useRef(!1);return ng(()=>{s.current=!0}),N.useCallback(async(u,c={})=>{sa(s.current,ag),s.current&&(typeof u=="number"?await r.navigate(u):await r.navigate(u,{fromRouteId:n,...c}))},[r,n])}var yv={};function ig(r,n,s){!n&&!yv[r]&&(yv[r]=!0,sa(!1,s))}N.memo(Pb);function Pb({routes:r,future:n,state:s,unstable_onError:l}){return sg(r,void 0,s,l,n)}function rg({to:r,replace:n,state:s,relative:l}){Ie(Qi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=N.useContext(ia);sa(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=N.useContext(da),{pathname:h}=Da(),m=ha(),v=Kc(r,Yc(c),h,l==="path"),p=JSON.stringify(v);return N.useEffect(()=>{m(JSON.parse(p),{replace:n,state:s,relative:l})},[m,p,l,n,s]),null}function rn(r){Ie(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Xb({children:r,location:n}){return Ub(Ec(r),n)}function Ec(r,n=[]){let s=[];return N.Children.forEach(r,(l,u)=>{if(!N.isValidElement(l))return;let c=[...n,u];if(l.type===N.Fragment){s.push.apply(s,Ec(l.props.children,c));return}Ie(l.type===rn,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ie(!l.props.index||!l.props.children,"An index route cannot have child routes.");let h={id:l.props.id||c.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(h.children=Ec(l.props.children,c)),s.push(h)}),s}var jl="get",xl="application/x-www-form-urlencoded";function $l(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function Qb(r){return $l(r)&&r.tagName.toLowerCase()==="button"}function Jb(r){return $l(r)&&r.tagName.toLowerCase()==="form"}function Ib(r){return $l(r)&&r.tagName.toLowerCase()==="input"}function Zb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Fb(r,n){return r.button===0&&(!n||n==="_self")&&!Zb(r)}var ml=null;function Wb(){if(ml===null)try{new FormData(document.createElement("form"),0),ml=!1}catch{ml=!0}return ml}var e_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fc(r){return r!=null&&!e_.has(r)?(sa(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xl}"`),null):r}function t_(r,n){let s,l,u,c,h;if(Jb(r)){let m=r.getAttribute("action");l=m?un(m,n):null,s=r.getAttribute("method")||jl,u=fc(r.getAttribute("enctype"))||xl,c=new FormData(r)}else if(Qb(r)||Ib(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=r.getAttribute("formaction")||m.getAttribute("action");if(l=v?un(v,n):null,s=r.getAttribute("formmethod")||m.getAttribute("method")||jl,u=fc(r.getAttribute("formenctype"))||fc(m.getAttribute("enctype"))||xl,c=new FormData(m,r),!Wb()){let{name:p,type:y,value:_}=r;if(y==="image"){let w=p?`${p}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else p&&c.append(p,_)}}else{if($l(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=jl,l=null,u=xl,h=r}return c&&u==="text/plain"&&(h=c,c=void 0),{action:l,method:s.toLowerCase(),encType:u,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Jc(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function a_(r,n,s){let l=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return l.pathname==="/"?l.pathname=`_root.${s}`:n&&un(l.pathname,n)==="/"?l.pathname=`${n.replace(/\/$/,"")}/_root.${s}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${s}`,l}async function n_(r,n){if(r.id in n)return n[r.id];try{let s=await import(r.module);return n[r.id]=s,s}catch(s){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function s_(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function i_(r,n,s){let l=await Promise.all(r.map(async u=>{let c=n.routes[u.route.id];if(c){let h=await n_(c,s);return h.links?h.links():[]}return[]}));return u_(l.flat(1).filter(s_).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function bv(r,n,s,l,u,c){let h=(v,p)=>s[p]?v.route.id!==s[p].route.id:!0,m=(v,p)=>s[p].pathname!==v.pathname||s[p].route.path?.endsWith("*")&&s[p].params["*"]!==v.params["*"];return c==="assets"?n.filter((v,p)=>h(v,p)||m(v,p)):c==="data"?n.filter((v,p)=>{let y=l.routes[v.route.id];if(!y||!y.hasLoader)return!1;if(h(v,p)||m(v,p))return!0;if(v.route.shouldRevalidate){let _=v.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function r_(r,n,{includeHydrateFallback:s}={}){return l_(r.map(l=>{let u=n.routes[l.route.id];if(!u)return[];let c=[u.module];return u.clientActionModule&&(c=c.concat(u.clientActionModule)),u.clientLoaderModule&&(c=c.concat(u.clientLoaderModule)),s&&u.hydrateFallbackModule&&(c=c.concat(u.hydrateFallbackModule)),u.imports&&(c=c.concat(u.imports)),c}).flat(1))}function l_(r){return[...new Set(r)]}function o_(r){let n={},s=Object.keys(r).sort();for(let l of s)n[l]=r[l];return n}function u_(r,n){let s=new Set;return new Set(n),r.reduce((l,u)=>{let c=JSON.stringify(o_(u));return s.has(c)||(s.add(c),l.push({key:c,link:u})),l},[])}function lg(){let r=N.useContext(qs);return Jc(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function c_(){let r=N.useContext(ql);return Jc(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ic=N.createContext(void 0);Ic.displayName="FrameworkContext";function og(){let r=N.useContext(Ic);return Jc(r,"You must render this element inside a <HydratedRouter> element"),r}function d_(r,n){let s=N.useContext(Ic),[l,u]=N.useState(!1),[c,h]=N.useState(!1),{onFocus:m,onBlur:v,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=n,w=N.useRef(null);N.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let A=U=>{U.forEach(z=>{h(z.isIntersecting)})},T=new IntersectionObserver(A,{threshold:.5});return w.current&&T.observe(w.current),()=>{T.disconnect()}}},[r]),N.useEffect(()=>{if(l){let A=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(A)}}},[l]);let S=()=>{u(!0)},j=()=>{u(!1),h(!1)};return s?r!=="intent"?[c,w,{}]:[c,w,{onFocus:Mi(m,S),onBlur:Mi(v,j),onMouseEnter:Mi(p,S),onMouseLeave:Mi(y,j),onTouchStart:Mi(_,S)}]:[!1,w,{}]}function Mi(r,n){return s=>{r&&r(s),s.defaultPrevented||n(s)}}function h_({page:r,...n}){let{router:s}=lg(),l=N.useMemo(()=>Zv(s.routes,r,s.basename),[s.routes,r,s.basename]);return l?N.createElement(m_,{page:r,matches:l,...n}):null}function f_(r){let{manifest:n,routeModules:s}=og(),[l,u]=N.useState([]);return N.useEffect(()=>{let c=!1;return i_(r,n,s).then(h=>{c||u(h)}),()=>{c=!0}},[r,n,s]),l}function m_({page:r,matches:n,...s}){let l=Da(),{manifest:u,routeModules:c}=og(),{basename:h}=lg(),{loaderData:m,matches:v}=c_(),p=N.useMemo(()=>bv(r,n,v,u,l,"data"),[r,n,v,u,l]),y=N.useMemo(()=>bv(r,n,v,u,l,"assets"),[r,n,v,u,l]),_=N.useMemo(()=>{if(r===l.pathname+l.search+l.hash)return[];let j=new Set,A=!1;if(n.forEach(U=>{let z=u.routes[U.route.id];!z||!z.hasLoader||(!p.some(q=>q.route.id===U.route.id)&&U.route.id in m&&c[U.route.id]?.shouldRevalidate||z.hasClientLoader?A=!0:j.add(U.route.id))}),j.size===0)return[];let T=a_(r,h,"data");return A&&j.size>0&&T.searchParams.set("_routes",n.filter(U=>j.has(U.route.id)).map(U=>U.route.id).join(",")),[T.pathname+T.search]},[h,m,l,u,p,n,r,c]),w=N.useMemo(()=>r_(y,u),[y,u]),S=f_(y);return N.createElement(N.Fragment,null,_.map(j=>N.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...s})),w.map(j=>N.createElement("link",{key:j,rel:"modulepreload",href:j,...s})),S.map(({key:j,link:A})=>N.createElement("link",{key:j,nonce:s.nonce,...A})))}function v_(...r){return n=>{r.forEach(s=>{typeof s=="function"?s(n):s!=null&&(s.current=n)})}}var ug=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ug&&(window.__reactRouterVersion="7.10.1")}catch{}var cg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dg=N.forwardRef(function({onClick:n,discover:s="render",prefetch:l="none",relative:u,reloadDocument:c,replace:h,state:m,target:v,to:p,preventScrollReset:y,viewTransition:_,...w},S){let{basename:j,unstable_useTransitions:A}=N.useContext(ia),T=typeof p=="string"&&cg.test(p),U,z=!1;if(typeof p=="string"&&T&&(U=p,ug))try{let W=new URL(window.location.href),me=p.startsWith("//")?new URL(W.protocol+p):new URL(p),_e=un(me.pathname,j);me.origin===W.origin&&_e!=null?p=_e+me.search+me.hash:z=!0}catch{sa(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=kb(p,{relative:u}),[Q,te,J]=d_(l,w),I=y_(p,{replace:h,state:m,target:v,preventScrollReset:y,relative:u,viewTransition:_,unstable_useTransitions:A});function Y(W){n&&n(W),W.defaultPrevented||I(W)}let M=N.createElement("a",{...w,...J,href:U||q,onClick:z||c?n:Y,ref:v_(S,te),target:v,"data-discover":!T&&s==="render"?"true":void 0});return Q&&!T?N.createElement(N.Fragment,null,M,N.createElement(h_,{page:q})):M});dg.displayName="Link";var $i=N.forwardRef(function({"aria-current":n="page",caseSensitive:s=!1,className:l="",end:u=!1,style:c,to:h,viewTransition:m,children:v,...p},y){let _=Ji(h,{relative:p.relative}),w=Da(),S=N.useContext(ql),{navigator:j,basename:A}=N.useContext(ia),T=S!=null&&E_(_)&&m===!0,U=j.encodeLocation?j.encodeLocation(_).pathname:_.pathname,z=w.pathname,q=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;s||(z=z.toLowerCase(),q=q?q.toLowerCase():null,U=U.toLowerCase()),q&&A&&(q=un(q,A)||q);const Q=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let te=z===U||!u&&z.startsWith(U)&&z.charAt(Q)==="/",J=q!=null&&(q===U||!u&&q.startsWith(U)&&q.charAt(U.length)==="/"),I={isActive:te,isPending:J,isTransitioning:T},Y=te?n:void 0,M;typeof l=="function"?M=l(I):M=[l,te?"active":null,J?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let W=typeof c=="function"?c(I):c;return N.createElement(dg,{...p,"aria-current":Y,className:M,ref:y,style:W,to:h,viewTransition:m},typeof v=="function"?v(I):v)});$i.displayName="NavLink";var g_=N.forwardRef(({discover:r="render",fetcherKey:n,navigate:s,reloadDocument:l,replace:u,state:c,method:h=jl,action:m,onSubmit:v,relative:p,preventScrollReset:y,viewTransition:_,...w},S)=>{let{unstable_useTransitions:j}=N.useContext(ia),A=w_(),T=S_(m,{relative:p}),U=h.toLowerCase()==="get"?"get":"post",z=typeof m=="string"&&cg.test(m),q=Q=>{if(v&&v(Q),Q.defaultPrevented)return;Q.preventDefault();let te=Q.nativeEvent.submitter,J=te?.getAttribute("formmethod")||h,I=()=>A(te||Q.currentTarget,{fetcherKey:n,method:J,navigate:s,replace:u,state:c,relative:p,preventScrollReset:y,viewTransition:_});j&&s!==!1?N.startTransition(()=>I()):I()};return N.createElement("form",{ref:S,method:U,action:T,onSubmit:l?v:q,...w,"data-discover":!z&&r==="render"?"true":void 0})});g_.displayName="Form";function p_(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hg(r){let n=N.useContext(qs);return Ie(n,p_(r)),n}function y_(r,{target:n,replace:s,state:l,preventScrollReset:u,relative:c,viewTransition:h,unstable_useTransitions:m}={}){let v=ha(),p=Da(),y=Ji(r,{relative:c});return N.useCallback(_=>{if(Fb(_,n)){_.preventDefault();let w=s!==void 0?s:Sc(p)===Sc(y),S=()=>v(r,{replace:w,state:l,preventScrollReset:u,relative:c,viewTransition:h});m?N.startTransition(()=>S()):S()}},[p,v,y,s,l,n,r,u,c,h,m])}var b_=0,__=()=>`__${String(++b_)}__`;function w_(){let{router:r}=hg("useSubmit"),{basename:n}=N.useContext(ia),s=Gb(),l=r.fetch,u=r.navigate;return N.useCallback(async(c,h={})=>{let{action:m,method:v,encType:p,formData:y,body:_}=t_(c,n);if(h.navigate===!1){let w=h.fetcherKey||__();await l(w,s,h.action||m,{preventScrollReset:h.preventScrollReset,formData:y,body:_,formMethod:h.method||v,formEncType:h.encType||p,flushSync:h.flushSync})}else await u(h.action||m,{preventScrollReset:h.preventScrollReset,formData:y,body:_,formMethod:h.method||v,formEncType:h.encType||p,replace:h.replace,state:h.state,fromRouteId:s,flushSync:h.flushSync,viewTransition:h.viewTransition})},[l,u,n,s])}function S_(r,{relative:n}={}){let{basename:s}=N.useContext(ia),l=N.useContext(da);Ie(l,"useFormAction must be used inside a RouteContext");let[u]=l.matches.slice(-1),c={...Ji(r||".",{relative:n})},h=Da();if(r==null){c.search=h.search;let m=new URLSearchParams(c.search),v=m.getAll("index");if(v.some(y=>y==="")){m.delete("index"),v.filter(_=>_).forEach(_=>m.append("index",_));let y=m.toString();c.search=y?`?${y}`:""}}return(!r||r===".")&&u.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(c.pathname=c.pathname==="/"?s:ka([s,c.pathname])),Sc(c)}function E_(r,{relative:n}={}){let s=N.useContext(tg);Ie(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=hg("useViewTransitionState"),u=Ji(r,{relative:n});if(!s.isTransitioning)return!1;let c=un(s.currentLocation.pathname,l)||s.currentLocation.pathname,h=un(s.nextLocation.pathname,l)||s.nextLocation.pathname;return Ol(u.pathname,h)!=null||Ol(u.pathname,c)!=null}var jc=function(r,n){return jc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])},jc(r,n)};function fg(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");jc(r,n);function s(){this.constructor=r}r.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}var Al=function(){return Al=Object.assign||function(n){for(var s,l=1,u=arguments.length;l<u;l++){s=arguments[l];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(n[c]=s[c])}return n},Al.apply(this,arguments)};function Ls(r,n){var s={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&n.indexOf(l)<0&&(s[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(r);u<l.length;u++)n.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(r,l[u])&&(s[l[u]]=r[l[u]]);return s}function mg(r,n,s,l){var u=arguments.length,c=u<3?n:l===null?l=Object.getOwnPropertyDescriptor(n,s):l,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(r,n,s,l);else for(var m=r.length-1;m>=0;m--)(h=r[m])&&(c=(u<3?h(c):u>3?h(n,s,c):h(n,s))||c);return u>3&&c&&Object.defineProperty(n,s,c),c}function vg(r,n){return function(s,l){n(s,l,r)}}function gg(r,n,s,l,u,c){function h(U){if(U!==void 0&&typeof U!="function")throw new TypeError("Function expected");return U}for(var m=l.kind,v=m==="getter"?"get":m==="setter"?"set":"value",p=!n&&r?l.static?r:r.prototype:null,y=n||(p?Object.getOwnPropertyDescriptor(p,l.name):{}),_,w=!1,S=s.length-1;S>=0;S--){var j={};for(var A in l)j[A]=A==="access"?{}:l[A];for(var A in l.access)j.access[A]=l.access[A];j.addInitializer=function(U){if(w)throw new TypeError("Cannot add initializers after decoration has completed");c.push(h(U||null))};var T=(0,s[S])(m==="accessor"?{get:y.get,set:y.set}:y[v],j);if(m==="accessor"){if(T===void 0)continue;if(T===null||typeof T!="object")throw new TypeError("Object expected");(_=h(T.get))&&(y.get=_),(_=h(T.set))&&(y.set=_),(_=h(T.init))&&u.unshift(_)}else(_=h(T))&&(m==="field"?u.unshift(_):y[v]=_)}p&&Object.defineProperty(p,l.name,y),w=!0}function pg(r,n,s){for(var l=arguments.length>2,u=0;u<n.length;u++)s=l?n[u].call(r,s):n[u].call(r);return l?s:void 0}function yg(r){return typeof r=="symbol"?r:"".concat(r)}function bg(r,n,s){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(r,"name",{configurable:!0,value:s?"".concat(s," ",n):n})}function _g(r,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,n)}function ne(r,n,s,l){function u(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(y){try{p(l.next(y))}catch(_){h(_)}}function v(y){try{p(l.throw(y))}catch(_){h(_)}}function p(y){y.done?c(y.value):u(y.value).then(m,v)}p((l=l.apply(r,n||[])).next())})}function wg(r,n){var s={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},l,u,c,h=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return h.next=m(0),h.throw=m(1),h.return=m(2),typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(p){return function(y){return v([p,y])}}function v(p){if(l)throw new TypeError("Generator is already executing.");for(;h&&(h=0,p[0]&&(s=0)),s;)try{if(l=1,u&&(c=p[0]&2?u.return:p[0]?u.throw||((c=u.return)&&c.call(u),0):u.next)&&!(c=c.call(u,p[1])).done)return c;switch(u=0,c&&(p=[p[0]&2,c.value]),p[0]){case 0:case 1:c=p;break;case 4:return s.label++,{value:p[1],done:!1};case 5:s.label++,u=p[1],p=[0];continue;case 7:p=s.ops.pop(),s.trys.pop();continue;default:if(c=s.trys,!(c=c.length>0&&c[c.length-1])&&(p[0]===6||p[0]===2)){s=0;continue}if(p[0]===3&&(!c||p[1]>c[0]&&p[1]<c[3])){s.label=p[1];break}if(p[0]===6&&s.label<c[1]){s.label=c[1],c=p;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(p);break}c[2]&&s.ops.pop(),s.trys.pop();continue}p=n.call(r,s)}catch(y){p=[6,y],u=0}finally{l=c=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var Hl=Object.create?(function(r,n,s,l){l===void 0&&(l=s);var u=Object.getOwnPropertyDescriptor(n,s);(!u||("get"in u?!n.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return n[s]}}),Object.defineProperty(r,l,u)}):(function(r,n,s,l){l===void 0&&(l=s),r[l]=n[s]});function Sg(r,n){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(n,s)&&Hl(n,r,s)}function Cl(r){var n=typeof Symbol=="function"&&Symbol.iterator,s=n&&r[n],l=0;if(s)return s.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&l>=r.length&&(r=void 0),{value:r&&r[l++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zc(r,n){var s=typeof Symbol=="function"&&r[Symbol.iterator];if(!s)return r;var l=s.call(r),u,c=[],h;try{for(;(n===void 0||n-- >0)&&!(u=l.next()).done;)c.push(u.value)}catch(m){h={error:m}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(h)throw h.error}}return c}function Eg(){for(var r=[],n=0;n<arguments.length;n++)r=r.concat(Zc(arguments[n]));return r}function jg(){for(var r=0,n=0,s=arguments.length;n<s;n++)r+=arguments[n].length;for(var l=Array(r),u=0,n=0;n<s;n++)for(var c=arguments[n],h=0,m=c.length;h<m;h++,u++)l[u]=c[h];return l}function xg(r,n,s){if(s||arguments.length===2)for(var l=0,u=n.length,c;l<u;l++)(c||!(l in n))&&(c||(c=Array.prototype.slice.call(n,0,l)),c[l]=n[l]);return r.concat(c||Array.prototype.slice.call(n))}function zs(r){return this instanceof zs?(this.v=r,this):new zs(r)}function Tg(r,n,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=s.apply(r,n||[]),u,c=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",h),u[Symbol.asyncIterator]=function(){return this},u;function h(S){return function(j){return Promise.resolve(j).then(S,_)}}function m(S,j){l[S]&&(u[S]=function(A){return new Promise(function(T,U){c.push([S,A,T,U])>1||v(S,A)})},j&&(u[S]=j(u[S])))}function v(S,j){try{p(l[S](j))}catch(A){w(c[0][3],A)}}function p(S){S.value instanceof zs?Promise.resolve(S.value.v).then(y,_):w(c[0][2],S)}function y(S){v("next",S)}function _(S){v("throw",S)}function w(S,j){S(j),c.shift(),c.length&&v(c[0][0],c[0][1])}}function Ng(r){var n,s;return n={},l("next"),l("throw",function(u){throw u}),l("return"),n[Symbol.iterator]=function(){return this},n;function l(u,c){n[u]=r[u]?function(h){return(s=!s)?{value:zs(r[u](h)),done:!1}:c?c(h):h}:c}}function Og(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r[Symbol.asyncIterator],s;return n?n.call(r):(r=typeof Cl=="function"?Cl(r):r[Symbol.iterator](),s={},l("next"),l("throw"),l("return"),s[Symbol.asyncIterator]=function(){return this},s);function l(c){s[c]=r[c]&&function(h){return new Promise(function(m,v){h=r[c](h),u(m,v,h.done,h.value)})}}function u(c,h,m,v){Promise.resolve(v).then(function(p){c({value:p,done:m})},h)}}function Ag(r,n){return Object.defineProperty?Object.defineProperty(r,"raw",{value:n}):r.raw=n,r}var j_=Object.create?(function(r,n){Object.defineProperty(r,"default",{enumerable:!0,value:n})}):function(r,n){r.default=n},xc=function(r){return xc=Object.getOwnPropertyNames||function(n){var s=[];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(s[s.length]=l);return s},xc(r)};function Cg(r){if(r&&r.__esModule)return r;var n={};if(r!=null)for(var s=xc(r),l=0;l<s.length;l++)s[l]!=="default"&&Hl(n,r,s[l]);return j_(n,r),n}function Rg(r){return r&&r.__esModule?r:{default:r}}function kg(r,n,s,l){if(s==="a"&&!l)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?r!==n||!l:!n.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?l:s==="a"?l.call(r):l?l.value:n.get(r)}function Dg(r,n,s,l,u){if(l==="m")throw new TypeError("Private method is not writable");if(l==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?r!==n||!u:!n.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return l==="a"?u.call(r,s):u?u.value=s:n.set(r,s),s}function Ug(r,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?n===r:r.has(n)}function zg(r,n,s){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var l,u;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");l=n[Symbol.asyncDispose]}if(l===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");l=n[Symbol.dispose],s&&(u=l)}if(typeof l!="function")throw new TypeError("Object not disposable.");u&&(l=function(){try{u.call(this)}catch(c){return Promise.reject(c)}}),r.stack.push({value:n,dispose:l,async:s})}else s&&r.stack.push({async:!0});return n}var x_=typeof SuppressedError=="function"?SuppressedError:function(r,n,s){var l=new Error(s);return l.name="SuppressedError",l.error=r,l.suppressed=n,l};function Mg(r){function n(c){r.error=r.hasError?new x_(c,r.error,"An error was suppressed during disposal."):c,r.hasError=!0}var s,l=0;function u(){for(;s=r.stack.pop();)try{if(!s.async&&l===1)return l=0,r.stack.push(s),Promise.resolve().then(u);if(s.dispose){var c=s.dispose.call(s.value);if(s.async)return l|=2,Promise.resolve(c).then(u,function(h){return n(h),u()})}else l|=1}catch(h){n(h)}if(l===1)return r.hasError?Promise.reject(r.error):Promise.resolve();if(r.hasError)throw r.error}return u()}function Bg(r,n){return typeof r=="string"&&/^\.\.?\//.test(r)?r.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,l,u,c,h){return l?n?".jsx":".js":u&&(!c||!h)?s:u+c+"."+h.toLowerCase()+"js"}):r}const T_={__extends:fg,__assign:Al,__rest:Ls,__decorate:mg,__param:vg,__esDecorate:gg,__runInitializers:pg,__propKey:yg,__setFunctionName:bg,__metadata:_g,__awaiter:ne,__generator:wg,__createBinding:Hl,__exportStar:Sg,__values:Cl,__read:Zc,__spread:Eg,__spreadArrays:jg,__spreadArray:xg,__await:zs,__asyncGenerator:Tg,__asyncDelegator:Ng,__asyncValues:Og,__makeTemplateObject:Ag,__importStar:Cg,__importDefault:Rg,__classPrivateFieldGet:kg,__classPrivateFieldSet:Dg,__classPrivateFieldIn:Ug,__addDisposableResource:zg,__disposeResources:Mg,__rewriteRelativeImportExtension:Bg},N_=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:zg,get __assign(){return Al},__asyncDelegator:Ng,__asyncGenerator:Tg,__asyncValues:Og,__await:zs,__awaiter:ne,__classPrivateFieldGet:kg,__classPrivateFieldIn:Ug,__classPrivateFieldSet:Dg,__createBinding:Hl,__decorate:mg,__disposeResources:Mg,__esDecorate:gg,__exportStar:Sg,__extends:fg,__generator:wg,__importDefault:Rg,__importStar:Cg,__makeTemplateObject:Ag,__metadata:_g,__param:vg,__propKey:yg,__read:Zc,__rest:Ls,__rewriteRelativeImportExtension:Bg,__runInitializers:pg,__setFunctionName:bg,__spread:Eg,__spreadArray:xg,__spreadArrays:jg,__values:Cl,default:T_},Symbol.toStringTag,{value:"Module"})),O_=r=>r?(...n)=>r(...n):(...n)=>fetch(...n);class Vl extends Error{constructor(n,s="FunctionsError",l){super(n),this.name=s,this.context=l}}class qg extends Vl{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Tc extends Vl{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Nc extends Vl{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Rl;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Rl||(Rl={}));class A_{constructor(n,{headers:s={},customFetch:l,region:u=Rl.Any}={}){this.url=n,this.headers=s,this.region=u,this.fetch=O_(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return ne(this,arguments,void 0,function*(s,l={}){var u;let c,h;try{const{headers:m,method:v,body:p,signal:y,timeout:_}=l;let w={},{region:S}=l;S||(S=this.region);const j=new URL(`${this.url}/${s}`);S&&S!=="any"&&(w["x-region"]=S,j.searchParams.set("forceFunctionRegion",S));let A;p&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",A=p):typeof p=="string"?(w["Content-Type"]="text/plain",A=p):typeof FormData<"u"&&p instanceof FormData?A=p:(w["Content-Type"]="application/json",A=JSON.stringify(p)):A=p;let T=y;_&&(h=new AbortController,c=setTimeout(()=>h.abort(),_),y?(T=h.signal,y.addEventListener("abort",()=>h.abort())):T=h.signal);const U=yield this.fetch(j.toString(),{method:v||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),m),body:A,signal:T}).catch(te=>{throw new qg(te)}),z=U.headers.get("x-relay-error");if(z&&z==="true")throw new Tc(U);if(!U.ok)throw new Nc(U);let q=((u=U.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),Q;return q==="application/json"?Q=yield U.json():q==="application/octet-stream"||q==="application/pdf"?Q=yield U.blob():q==="text/event-stream"?Q=U:q==="multipart/form-data"?Q=yield U.formData():Q=yield U.text(),{data:Q,error:null,response:U}}catch(m){return{data:null,error:m,response:m instanceof Nc||m instanceof Tc?m.context:void 0}}finally{c&&clearTimeout(c)}})}}var pt={};const $s=I0(N_);var vl={},gl={},pl={},yl={},bl={},_l={},_v;function Lg(){if(_v)return _l;_v=1,Object.defineProperty(_l,"__esModule",{value:!0});class r extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return _l.default=r,_l}var wv;function $g(){if(wv)return bl;wv=1,Object.defineProperty(bl,"__esModule",{value:!0});const n=$s.__importDefault(Lg());class s{constructor(u){var c,h;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(c=u.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=u.signal,this.isMaybeSingle=(h=u.isMaybeSingle)!==null&&h!==void 0?h:!1,u.fetch?this.fetch=u.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,c){return this.headers=new Headers(this.headers),this.headers.set(u,c),this}then(u,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let m=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async v=>{var p,y,_,w;let S=null,j=null,A=null,T=v.status,U=v.statusText;if(v.ok){if(this.method!=="HEAD"){const te=await v.text();te===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?j=te:j=JSON.parse(te))}const q=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),Q=(_=v.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");q&&Q&&Q.length>1&&(A=parseInt(Q[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(S={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,A=null,T=406,U="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const q=await v.text();try{S=JSON.parse(q),Array.isArray(S)&&v.status===404&&(j=[],S=null,T=200,U="OK")}catch{v.status===404&&q===""?(T=204,U="No Content"):S={message:q}}if(S&&this.isMaybeSingle&&(!((w=S?.details)===null||w===void 0)&&w.includes("0 rows"))&&(S=null,T=200,U="OK"),S&&this.shouldThrowOnError)throw new n.default(S)}return{error:S,data:j,count:A,status:T,statusText:U}});return this.shouldThrowOnError||(m=m.catch(v=>{var p,y,_,w,S,j;let A="";const T=v?.cause;if(T){const U=(p=T?.message)!==null&&p!==void 0?p:"",z=(y=T?.code)!==null&&y!==void 0?y:"";A=`${(_=v?.name)!==null&&_!==void 0?_:"FetchError"}: ${v?.message}`,A+=`

Caused by: ${(w=T?.name)!==null&&w!==void 0?w:"Error"}: ${U}`,z&&(A+=` (${z})`),T?.stack&&(A+=`
${T.stack}`)}else A=(S=v?.stack)!==null&&S!==void 0?S:"";return{error:{message:`${(j=v?.name)!==null&&j!==void 0?j:"FetchError"}: ${v?.message}`,details:A,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),m.then(u,c)}returns(){return this}overrideTypes(){return this}}return bl.default=s,bl}var Sv;function Hg(){if(Sv)return yl;Sv=1,Object.defineProperty(yl,"__esModule",{value:!0});const n=$s.__importDefault($g());class s extends n.default{select(u){let c=!1;const h=(u??"*").split("").map(m=>/\s/.test(m)&&!c?"":(m==='"'&&(c=!c),m)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(u,{ascending:c=!0,nullsFirst:h,foreignTable:m,referencedTable:v=m}={}){const p=v?`${v}.order`:"order",y=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${y?`${y},`:""}${u}.${c?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:c,referencedTable:h=c}={}){const m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${u}`),this}range(u,c,{foreignTable:h,referencedTable:m=h}={}){const v=typeof m>"u"?"offset":`${m}.offset`,p=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(v,`${u}`),this.url.searchParams.set(p,`${c-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:u=!1,verbose:c=!1,settings:h=!1,buffers:m=!1,wal:v=!1,format:p="text"}={}){var y;const _=[u?"analyze":null,c?"verbose":null,h?"settings":null,m?"buffers":null,v?"wal":null].filter(Boolean).join("|"),w=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${w}"; options=${_};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(u){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${u}`),this}}return yl.default=s,yl}var Ev;function Fc(){if(Ev)return pl;Ev=1,Object.defineProperty(pl,"__esModule",{value:!0});const n=$s.__importDefault(Hg()),s=new RegExp("[,()]");class l extends n.default{eq(c,h){return this.url.searchParams.append(c,`eq.${h}`),this}neq(c,h){return this.url.searchParams.append(c,`neq.${h}`),this}gt(c,h){return this.url.searchParams.append(c,`gt.${h}`),this}gte(c,h){return this.url.searchParams.append(c,`gte.${h}`),this}lt(c,h){return this.url.searchParams.append(c,`lt.${h}`),this}lte(c,h){return this.url.searchParams.append(c,`lte.${h}`),this}like(c,h){return this.url.searchParams.append(c,`like.${h}`),this}likeAllOf(c,h){return this.url.searchParams.append(c,`like(all).{${h.join(",")}}`),this}likeAnyOf(c,h){return this.url.searchParams.append(c,`like(any).{${h.join(",")}}`),this}ilike(c,h){return this.url.searchParams.append(c,`ilike.${h}`),this}ilikeAllOf(c,h){return this.url.searchParams.append(c,`ilike(all).{${h.join(",")}}`),this}ilikeAnyOf(c,h){return this.url.searchParams.append(c,`ilike(any).{${h.join(",")}}`),this}regexMatch(c,h){return this.url.searchParams.append(c,`match.${h}`),this}regexIMatch(c,h){return this.url.searchParams.append(c,`imatch.${h}`),this}is(c,h){return this.url.searchParams.append(c,`is.${h}`),this}isDistinct(c,h){return this.url.searchParams.append(c,`isdistinct.${h}`),this}in(c,h){const m=Array.from(new Set(h)).map(v=>typeof v=="string"&&s.test(v)?`"${v}"`:`${v}`).join(",");return this.url.searchParams.append(c,`in.(${m})`),this}contains(c,h){return typeof h=="string"?this.url.searchParams.append(c,`cs.${h}`):Array.isArray(h)?this.url.searchParams.append(c,`cs.{${h.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(h)}`),this}containedBy(c,h){return typeof h=="string"?this.url.searchParams.append(c,`cd.${h}`):Array.isArray(h)?this.url.searchParams.append(c,`cd.{${h.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(h)}`),this}rangeGt(c,h){return this.url.searchParams.append(c,`sr.${h}`),this}rangeGte(c,h){return this.url.searchParams.append(c,`nxl.${h}`),this}rangeLt(c,h){return this.url.searchParams.append(c,`sl.${h}`),this}rangeLte(c,h){return this.url.searchParams.append(c,`nxr.${h}`),this}rangeAdjacent(c,h){return this.url.searchParams.append(c,`adj.${h}`),this}overlaps(c,h){return typeof h=="string"?this.url.searchParams.append(c,`ov.${h}`):this.url.searchParams.append(c,`ov.{${h.join(",")}}`),this}textSearch(c,h,{config:m,type:v}={}){let p="";v==="plain"?p="pl":v==="phrase"?p="ph":v==="websearch"&&(p="w");const y=m===void 0?"":`(${m})`;return this.url.searchParams.append(c,`${p}fts${y}.${h}`),this}match(c){return Object.entries(c).forEach(([h,m])=>{this.url.searchParams.append(h,`eq.${m}`)}),this}not(c,h,m){return this.url.searchParams.append(c,`not.${h}.${m}`),this}or(c,{foreignTable:h,referencedTable:m=h}={}){const v=m?`${m}.or`:"or";return this.url.searchParams.append(v,`(${c})`),this}filter(c,h,m){return this.url.searchParams.append(c,`${h}.${m}`),this}}return pl.default=l,pl}var jv;function Vg(){if(jv)return gl;jv=1,Object.defineProperty(gl,"__esModule",{value:!0});const n=$s.__importDefault(Fc());class s{constructor(u,{headers:c={},schema:h,fetch:m}){this.url=u,this.headers=new Headers(c),this.schema=h,this.fetch=m}select(u,c){const{head:h=!1,count:m}=c??{},v=h?"HEAD":"GET";let p=!1;const y=(u??"*").split("").map(_=>/\s/.test(_)&&!p?"":(_==='"'&&(p=!p),_)).join("");return this.url.searchParams.set("select",y),m&&this.headers.append("Prefer",`count=${m}`),new n.default({method:v,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(u,{count:c,defaultToNull:h=!0}={}){var m;const v="POST";if(c&&this.headers.append("Prefer",`count=${c}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const p=u.reduce((y,_)=>y.concat(Object.keys(_)),[]);if(p.length>0){const y=[...new Set(p)].map(_=>`"${_}"`);this.url.searchParams.set("columns",y.join(","))}}return new n.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(u,{onConflict:c,ignoreDuplicates:h=!1,count:m,defaultToNull:v=!0}={}){var p;const y="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),m&&this.headers.append("Prefer",`count=${m}`),v||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const _=u.reduce((w,S)=>w.concat(Object.keys(S)),[]);if(_.length>0){const w=[...new Set(_)].map(S=>`"${S}"`);this.url.searchParams.set("columns",w.join(","))}}return new n.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(u,{count:c}={}){var h;const m="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:u}={}){var c;const h="DELETE";return u&&this.headers.append("Prefer",`count=${u}`),new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return gl.default=s,gl}var xv;function C_(){if(xv)return vl;xv=1,Object.defineProperty(vl,"__esModule",{value:!0});const r=$s,n=r.__importDefault(Vg()),s=r.__importDefault(Fc());class l{constructor(c,{headers:h={},schema:m,fetch:v}={}){this.url=c,this.headers=new Headers(h),this.schemaName=m,this.fetch=v}from(c){if(!c||typeof c!="string"||c.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const h=new URL(`${this.url}/${c}`);return new n.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new l(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,h={},{head:m=!1,get:v=!1,count:p}={}){var y;let _;const w=new URL(`${this.url}/rpc/${c}`);let S;m||v?(_=m?"HEAD":"GET",Object.entries(h).filter(([A,T])=>T!==void 0).map(([A,T])=>[A,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([A,T])=>{w.searchParams.append(A,T)})):(_="POST",S=h);const j=new Headers(this.headers);return p&&j.set("Prefer",`count=${p}`),new s.default({method:_,url:w,headers:j,schema:this.schemaName,body:S,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return vl.default=l,vl}var Tv;function R_(){if(Tv)return pt;Tv=1,Object.defineProperty(pt,"__esModule",{value:!0}),pt.PostgrestError=pt.PostgrestBuilder=pt.PostgrestTransformBuilder=pt.PostgrestFilterBuilder=pt.PostgrestQueryBuilder=pt.PostgrestClient=void 0;const r=$s,n=r.__importDefault(C_());pt.PostgrestClient=n.default;const s=r.__importDefault(Vg());pt.PostgrestQueryBuilder=s.default;const l=r.__importDefault(Fc());pt.PostgrestFilterBuilder=l.default;const u=r.__importDefault(Hg());pt.PostgrestTransformBuilder=u.default;const c=r.__importDefault($g());pt.PostgrestBuilder=c.default;const h=r.__importDefault(Lg());return pt.PostgrestError=h.default,pt.default={PostgrestClient:n.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:c.default,PostgrestError:h.default},pt}var Gg=R_();const Yg=J0(Gg),k_=Q0({__proto__:null,default:Yg},[Gg]),{PostgrestClient:D_,PostgrestQueryBuilder:SE,PostgrestFilterBuilder:EE,PostgrestTransformBuilder:jE,PostgrestBuilder:xE,PostgrestError:U_}=Yg||k_;class Kg{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const l=s.node,u=parseInt(l.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let s=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(s+=`

Suggested solution: ${n.workaround}`),new Error(s)}static createWebSocket(n,s){const l=this.getWebSocketConstructor();return new l(n,s)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const z_="2.87.3",M_=`realtime-js/${z_}`,Pg="1.0.0",B_="2.0.0",Nv=Pg,Oc=1e4,q_=1e3,L_=100;var Un;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Un||(Un={}));var nt;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(nt||(nt={}));var aa;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(aa||(aa={}));var Ac;(function(r){r.websocket="websocket"})(Ac||(Ac={}));var zn;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(zn||(zn={}));class $_{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,s){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return s(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var s;return this._isArrayBuffer((s=n.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var s,l;const u=(l=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(n){var s,l;const u=(l=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&l!==void 0?l:{},h=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(n,s,l){var u,c;const h=n.topic,m=(u=n.ref)!==null&&u!==void 0?u:"",v=(c=n.join_ref)!==null&&c!==void 0?c:"",p=n.payload.event,y=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},_=Object.keys(y).length===0?"":JSON.stringify(y);if(v.length>255)throw new Error(`joinRef length ${v.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+v.length+m.length+h.length+p.length+_.length,S=new ArrayBuffer(this.HEADER_LENGTH+w);let j=new DataView(S),A=0;j.setUint8(A++,this.KINDS.userBroadcastPush),j.setUint8(A++,v.length),j.setUint8(A++,m.length),j.setUint8(A++,h.length),j.setUint8(A++,p.length),j.setUint8(A++,_.length),j.setUint8(A++,s),Array.from(v,U=>j.setUint8(A++,U.charCodeAt(0))),Array.from(m,U=>j.setUint8(A++,U.charCodeAt(0))),Array.from(h,U=>j.setUint8(A++,U.charCodeAt(0))),Array.from(p,U=>j.setUint8(A++,U.charCodeAt(0))),Array.from(_,U=>j.setUint8(A++,U.charCodeAt(0)));var T=new Uint8Array(S.byteLength+l.byteLength);return T.set(new Uint8Array(S),0),T.set(new Uint8Array(l),S.byteLength),T.buffer}decode(n,s){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return s(l)}if(typeof n=="string"){const l=JSON.parse(n),[u,c,h,m,v]=l;return s({join_ref:u,ref:c,topic:h,event:m,payload:v})}return s({})}_binaryDecode(n){const s=new DataView(n),l=s.getUint8(0),u=new TextDecoder;switch(l){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,s,u)}}_decodeUserBroadcast(n,s,l){const u=s.getUint8(1),c=s.getUint8(2),h=s.getUint8(3),m=s.getUint8(4);let v=this.HEADER_LENGTH+4;const p=l.decode(n.slice(v,v+u));v=v+u;const y=l.decode(n.slice(v,v+c));v=v+c;const _=l.decode(n.slice(v,v+h));v=v+h;const w=n.slice(v,n.byteLength),S=m===this.JSON_ENCODING?JSON.parse(l.decode(w)):w,j={type:this.BROADCAST_EVENT,event:y,payload:S};return h>0&&(j.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(n){var s;return n instanceof ArrayBuffer||((s=n?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(n,s){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>s.includes(l)))}}class Xg{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var He;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(He||(He={}));const Ov=(r,n,s={})=>{var l;const u=(l=s.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((c,h)=>(c[h]=H_(h,r,n,u),c),{}):{}},H_=(r,n,s,l)=>{const u=n.find(m=>m.name===r),c=u?.type,h=s[r];return c&&!l.includes(c)?Qg(c,h):Cc(h)},Qg=(r,n)=>{if(r.charAt(0)==="_"){const s=r.slice(1,r.length);return K_(n,s)}switch(r){case He.bool:return V_(n);case He.float4:case He.float8:case He.int2:case He.int4:case He.int8:case He.numeric:case He.oid:return G_(n);case He.json:case He.jsonb:return Y_(n);case He.timestamp:return P_(n);case He.abstime:case He.date:case He.daterange:case He.int4range:case He.int8range:case He.money:case He.reltime:case He.text:case He.time:case He.timestamptz:case He.timetz:case He.tsrange:case He.tstzrange:return Cc(n);default:return Cc(n)}},Cc=r=>r,V_=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},G_=r=>{if(typeof r=="string"){const n=parseFloat(r);if(!Number.isNaN(n))return n}return r},Y_=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(n){return console.log(`JSON parse error: ${n}`),r}return r},K_=(r,n)=>{if(typeof r!="string")return r;const s=r.length-1,l=r[s];if(r[0]==="{"&&l==="}"){let c;const h=r.slice(1,s);try{c=JSON.parse("["+h+"]")}catch{c=h?h.split(","):[]}return c.map(m=>Qg(n,m))}return r},P_=r=>typeof r=="string"?r.replace(" ","T"):r,Jg=r=>{const n=new URL(r);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class mc{constructor(n,s,l={},u=Oc){this.channel=n,this.event=s,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var l;return this._hasReceived(n)&&s((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Rc;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Rc||(Rc={}));class ks{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:c,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ks.syncState(this.state,u,c,h),this.pendingDiffs.forEach(v=>{this.state=ks.syncDiff(this.state,v,c,h)}),this.pendingDiffs=[],m()}),this.channel._on(l.diff,{},u=>{const{onJoin:c,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=ks.syncDiff(this.state,u,c,h),m())}),this.onJoin((u,c,h)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:c,newPresences:h})}),this.onLeave((u,c,h)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:c,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,l,u){const c=this.cloneDeep(n),h=this.transformState(s),m={},v={};return this.map(c,(p,y)=>{h[p]||(v[p]=y)}),this.map(h,(p,y)=>{const _=c[p];if(_){const w=y.map(T=>T.presence_ref),S=_.map(T=>T.presence_ref),j=y.filter(T=>S.indexOf(T.presence_ref)<0),A=_.filter(T=>w.indexOf(T.presence_ref)<0);j.length>0&&(m[p]=j),A.length>0&&(v[p]=A)}else m[p]=y}),this.syncDiff(c,{joins:m,leaves:v},l,u)}static syncDiff(n,s,l,u){const{joins:c,leaves:h}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(c,(m,v)=>{var p;const y=(p=n[m])!==null&&p!==void 0?p:[];if(n[m]=this.cloneDeep(v),y.length>0){const _=n[m].map(S=>S.presence_ref),w=y.filter(S=>_.indexOf(S.presence_ref)<0);n[m].unshift(...w)}l(m,y,v)}),this.map(h,(m,v)=>{let p=n[m];if(!p)return;const y=v.map(_=>_.presence_ref);p=p.filter(_=>y.indexOf(_.presence_ref)<0),n[m]=p,u(m,p,v),p.length===0&&delete n[m]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(l=>s(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,l)=>{const u=n[l];return"metas"in u?s[l]=u.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[l]=u,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kc;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(kc||(kc={}));var Ds;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Ds||(Ds={}));var ca;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(ca||(ca={}));const X_=nt;class Mn{constructor(n,s={config:{}},l){var u,c;if(this.topic=n,this.params=s,this.socket=l,this.bindings={},this.state=nt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new mc(this,aa.join,this.params,this.timeout),this.rejoinTimer=new Xg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=nt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=nt.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(aa.reply,{},(h,m)=>{this._trigger(this._replyEventName(m),h)}),this.presence=new ks(this),this.broadcastEndpointURL=Jg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,s=this.timeout){var l,u,c;if(this.socket.isConnected()||this.socket.connect(),this.state==nt.closed){const{config:{broadcast:h,presence:m,private:v}}=this.params,p=(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(S=>S.filter))!==null&&u!==void 0?u:[],y=!!this.bindings[Ds.PRESENCE]&&this.bindings[Ds.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,_={},w={broadcast:h,presence:Object.assign(Object.assign({},m),{enabled:y}),postgres_changes:p,private:v};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(S=>n?.(ca.CHANNEL_ERROR,S)),this._onClose(()=>n?.(ca.CLOSED)),this.updateJoinPayload(Object.assign({config:w},_)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:S})=>{var j;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){n?.(ca.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,T=(j=A?.length)!==null&&j!==void 0?j:0,U=[];for(let z=0;z<T;z++){const q=A[z],{filter:{event:Q,schema:te,table:J,filter:I}}=q,Y=S&&S[z];if(Y&&Y.event===Q&&Mn.isFilterValueEqual(Y.schema,te)&&Mn.isFilterValueEqual(Y.table,J)&&Mn.isFilterValueEqual(Y.filter,I))U.push(Object.assign(Object.assign({},q),{id:Y.id}));else{this.unsubscribe(),this.state=nt.errored,n?.(ca.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=U,n&&n(ca.SUBSCRIBED);return}}).receive("error",S=>{this.state=nt.errored,n?.(ca.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{n?.(ca.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,l){return this.state===nt.joined&&n===Ds.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,s,l)}async httpSend(n,s,l={}){var u;const c=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(s==null)return Promise.reject("Payload is required for httpSend()");const h={method:"POST",headers:{Authorization:c,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:s,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(u=l.timeout)!==null&&u!==void 0?u:this.timeout);if(m.status===202)return{success:!0};let v=m.statusText;try{const p=await m.json();v=p.error||p.message||v}catch{}return Promise.reject(new Error(v))}async send(n,s={}){var l,u;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:h}=n,v={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,v,(l=s.timeout)!==null&&l!==void 0?l:this.timeout);return await((u=p.body)===null||u===void 0?void 0:u.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,m,v;const p=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((v=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||v===void 0)&&v.ack)&&c("ok"),p.receive("ok",()=>c("ok")),p.receive("error",()=>c("error")),p.receive("timeout",()=>c("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=nt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(aa.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(u=>{l=new mc(this,aa.leave,{},n),l.receive("ok",()=>{s(),u("ok")}).receive("timeout",()=>{s(),u("timed out")}).receive("error",()=>{u("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=nt.closed,this.bindings={}}async _fetchWithTimeout(n,s,l){const u=new AbortController,c=setTimeout(()=>u.abort(),l),h=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:u.signal}));return clearTimeout(c),h}_push(n,s,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new mc(this,n,s,l);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>L_){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(n,s,l){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,l){var u,c;const h=n.toLocaleLowerCase(),{close:m,error:v,leave:p,join:y}=aa;if(l&&[m,v,p,y].indexOf(h)>=0&&l!==this._joinRef())return;let w=this._onMessage(h,s,l);if(s&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(S=>{var j,A,T;return((j=S.filter)===null||j===void 0?void 0:j.event)==="*"||((T=(A=S.filter)===null||A===void 0?void 0:A.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===h}).map(S=>S.callback(w,l)):(c=this.bindings[h])===null||c===void 0||c.filter(S=>{var j,A,T,U,z,q;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in S){const Q=S.id,te=(j=S.filter)===null||j===void 0?void 0:j.event;return Q&&((A=s.ids)===null||A===void 0?void 0:A.includes(Q))&&(te==="*"||te?.toLocaleLowerCase()===((T=s.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const Q=(z=(U=S?.filter)===null||U===void 0?void 0:U.event)===null||z===void 0?void 0:z.toLocaleLowerCase();return Q==="*"||Q===((q=s?.event)===null||q===void 0?void 0:q.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===h}).map(S=>{if(typeof w=="object"&&"ids"in w){const j=w.data,{schema:A,table:T,commit_timestamp:U,type:z,errors:q}=j;w=Object.assign(Object.assign({},{schema:A,table:T,commit_timestamp:U,eventType:z,new:{},old:{},errors:q}),this._getPayloadRecords(j))}S.callback(w,l)})}_isClosed(){return this.state===nt.closed}_isJoined(){return this.state===nt.joined}_isJoining(){return this.state===nt.joining}_isLeaving(){return this.state===nt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,l){const u=n.toLocaleLowerCase(),c={type:u,filter:s,callback:l};return this.bindings[u]?this.bindings[u].push(c):this.bindings[u]=[c],this}_off(n,s){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(u=>{var c;return!(((c=u.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===l&&Mn.isEqual(u.filter,s))})),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const l in n)if(n[l]!==s[l])return!1;return!0}static isFilterValueEqual(n,s){return(n??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(aa.close,{},n)}_onError(n){this._on(aa.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=nt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=Ov(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=Ov(n.columns,n.old_record)),s}}const vc=()=>{},wl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Q_=[1e3,2e3,5e3,1e4],J_=1e4,I_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ig{constructor(n,s){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Oc,this.transport=null,this.heartbeatIntervalMs=wl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vc,this.ref=0,this.reconnectTimer=null,this.vsn=Nv,this.logger=vc,this.conn=null,this.sendBuffer=[],this.serializer=new $_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>u?(...c)=>u(...c):(...c)=>fetch(...c),!(!((l=s?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${n}/${Ac.websocket}`,this.httpEndpoint=Jg(n),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Kg.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const s=n.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,l){this.logger(n,s,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Un.connecting:return zn.Connecting;case Un.open:return zn.Open;case Un.closing:return zn.Closing;default:return zn.Closed}}isConnected(){return this.connectionState()===zn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,s={config:{}}){const l=`realtime:${n}`,u=this.getChannels().find(c=>c.topic===l);if(u)return u;{const c=new Mn(`realtime:${n}`,s,this);return this.channels.push(c),c}}push(n){const{topic:s,event:l,payload:u,ref:c}=n,h=()=>{this.encode(n,m=>{var v;(v=this.conn)===null||v===void 0||v.send(m)})};this.log("push",`${s} ${l} (${c})`,u),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(q_,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},wl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:u,payload:c,ref:h}=s,m=h?`(${h})`:"",v=c.status||"";this.log("receive",`${v} ${l} ${u} ${m}`.trim(),c),this.channels.filter(p=>p._isMember(l)).forEach(p=>p._trigger(u,c,h)),this._triggerStateCallbacks("message",s)})}_clearTimer(n){var s;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Un.open||this.conn.readyState===Un.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var s;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(aa.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const l=n.match(/\?/)?"&":"?",u=new URLSearchParams(s);return`${n}${l}${u}`}_workerObjectUrl(n){let s;if(n)s=n;else{const l=new Blob([I_],{type:"application/javascript"});s=URL.createObjectURL(l)}return s}_setConnectionState(n,s=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(n=null){let s,l=!1;if(n)s=n,l=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),s=this.accessTokenValue}else s=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(u=>{const c={access_token:s,version:M_};s&&u.updateJoinPayload(c),u.joinedOnce&&u._isJoined()&&u._push(aa.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${n}`,s)})}_triggerStateCallbacks(n,s){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(s)}catch(u){this.log("error",`error in ${n} callback`,u)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new Xg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},wl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var s,l,u,c,h,m,v,p,y,_,w,S;switch(this.transport=(s=n?.transport)!==null&&s!==void 0?s:null,this.timeout=(l=n?.timeout)!==null&&l!==void 0?l:Oc,this.heartbeatIntervalMs=(u=n?.heartbeatIntervalMs)!==null&&u!==void 0?u:wl.HEARTBEAT_INTERVAL,this.worker=(c=n?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(h=n?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(m=n?.heartbeatCallback)!==null&&m!==void 0?m:vc,this.vsn=(v=n?.vsn)!==null&&v!==void 0?v:Nv,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=n?.reconnectAfterMs)!==null&&p!==void 0?p:(j=>Q_[j-1]||J_),this.vsn){case Pg:this.encode=(y=n?.encode)!==null&&y!==void 0?y:((j,A)=>A(JSON.stringify(j))),this.decode=(_=n?.decode)!==null&&_!==void 0?_:((j,A)=>A(JSON.parse(j)));break;case B_:this.encode=(w=n?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(S=n?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}class Gl extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Pe(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class Z_ extends Gl{constructor(n,s,l){super(n),this.name="StorageApiError",this.status=s,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Dc extends Gl{constructor(n,s){super(n),this.name="StorageUnknownError",this.originalError=s}}const Wc=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),F_=()=>Response,Uc=r=>{if(Array.isArray(r))return r.map(s=>Uc(s));if(typeof r=="function"||r!==Object(r))return r;const n={};return Object.entries(r).forEach(([s,l])=>{const u=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));n[u]=Uc(l)}),n},W_=r=>{if(typeof r!="object"||r===null)return!1;const n=Object.getPrototypeOf(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},ew=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r),gc=r=>{var n;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(n=r.error)===null||n===void 0?void 0:n.message)||JSON.stringify(r)},tw=(r,n,s)=>ne(void 0,void 0,void 0,function*(){const l=yield F_();r instanceof l&&!s?.noResolveJson?r.json().then(u=>{const c=r.status||500,h=u?.statusCode||c+"";n(new Z_(gc(u),c,h))}).catch(u=>{n(new Dc(gc(u),u))}):n(new Dc(gc(r),r))}),aw=(r,n,s,l)=>{const u={method:r,headers:n?.headers||{}};return r==="GET"||!l?u:(W_(l)?(u.headers=Object.assign({"Content-Type":"application/json"},n?.headers),u.body=JSON.stringify(l)):u.body=l,n?.duplex&&(u.duplex=n.duplex),Object.assign(Object.assign({},u),s))};function Ii(r,n,s,l,u,c){return ne(this,void 0,void 0,function*(){return new Promise((h,m)=>{r(s,aw(n,l,u,c)).then(v=>{if(!v.ok)throw v;return l?.noResolveJson?v:v.json()}).then(v=>h(v)).catch(v=>tw(v,m,l))})})}function Yi(r,n,s,l){return ne(this,void 0,void 0,function*(){return Ii(r,"GET",n,s,l)})}function ta(r,n,s,l,u){return ne(this,void 0,void 0,function*(){return Ii(r,"POST",n,l,u,s)})}function zc(r,n,s,l,u){return ne(this,void 0,void 0,function*(){return Ii(r,"PUT",n,l,u,s)})}function nw(r,n,s,l){return ne(this,void 0,void 0,function*(){return Ii(r,"HEAD",n,Object.assign(Object.assign({},s),{noResolveJson:!0}),l)})}function ed(r,n,s,l,u){return ne(this,void 0,void 0,function*(){return Ii(r,"DELETE",n,l,u,s)})}class sw{constructor(n,s){this.downloadFn=n,this.shouldThrowOnError=s}then(n,s){return this.execute().then(n,s)}execute(){return ne(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}}var Zg;class iw{constructor(n,s){this.downloadFn=n,this.shouldThrowOnError=s,this[Zg]="BlobDownloadBuilder",this.promise=null}asStream(){return new sw(this.downloadFn,this.shouldThrowOnError)}then(n,s){return this.getPromise().then(n,s)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ne(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}}Zg=Symbol.toStringTag;const rw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Av={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class lw{constructor(n,s={},l,u){this.shouldThrowOnError=!1,this.url=n,this.headers=s,this.bucketId=l,this.fetch=Wc(u)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,s,l,u){return ne(this,void 0,void 0,function*(){try{let c;const h=Object.assign(Object.assign({},Av),u);let m=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(h.upsert)});const v=h.metadata;typeof Blob<"u"&&l instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),v&&c.append("metadata",this.encodeMetadata(v)),c.append("",l)):typeof FormData<"u"&&l instanceof FormData?(c=l,c.has("cacheControl")||c.append("cacheControl",h.cacheControl),v&&!c.has("metadata")&&c.append("metadata",this.encodeMetadata(v))):(c=l,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,v&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(v))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!h.duplex&&(h.duplex="half")),u?.headers&&(m=Object.assign(Object.assign({},m),u.headers));const p=this._removeEmptyFolders(s),y=this._getFinalPath(p),_=yield(n=="PUT"?zc:ta)(this.fetch,`${this.url}/object/${y}`,c,Object.assign({headers:m},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:p,id:_.Id,fullPath:_.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Pe(c))return{data:null,error:c};throw c}})}upload(n,s,l){return ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,s,l)})}uploadToSignedUrl(n,s,l,u){return ne(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(n),h=this._getFinalPath(c),m=new URL(this.url+`/object/upload/sign/${h}`);m.searchParams.set("token",s);try{let v;const p=Object.assign({upsert:Av.upsert},u),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&l instanceof Blob?(v=new FormData,v.append("cacheControl",p.cacheControl),v.append("",l)):typeof FormData<"u"&&l instanceof FormData?(v=l,v.append("cacheControl",p.cacheControl)):(v=l,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType);const _=yield zc(this.fetch,m.toString(),v,{headers:y});return{data:{path:c,fullPath:_.Key},error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(Pe(v))return{data:null,error:v};throw v}})}createSignedUploadUrl(n,s){return ne(this,void 0,void 0,function*(){try{let l=this._getFinalPath(n);const u=Object.assign({},this.headers);s?.upsert&&(u["x-upsert"]="true");const c=yield ta(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:u}),h=new URL(this.url+c.url),m=h.searchParams.get("token");if(!m)throw new Gl("No token returned by API");return{data:{signedUrl:h.toString(),path:n,token:m},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}update(n,s,l){return ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,s,l)})}move(n,s,l){return ne(this,void 0,void 0,function*(){try{return{data:yield ta(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:l?.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}})}copy(n,s,l){return ne(this,void 0,void 0,function*(){try{return{data:{path:(yield ta(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:l?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}})}createSignedUrl(n,s,l){return ne(this,void 0,void 0,function*(){try{let u=this._getFinalPath(n),c=yield ta(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:s},l?.transform?{transform:l.transform}:{}),{headers:this.headers});const h=l?.download?`&download=${l.download===!0?"":l.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${h}`)},{data:c,error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}})}createSignedUrls(n,s,l){return ne(this,void 0,void 0,function*(){try{const u=yield ta(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:n},{headers:this.headers}),c=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{data:u.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${c}`):null})),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}})}download(n,s){const u=typeof s?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(s?.transform||{}),h=c?`?${c}`:"",m=this._getFinalPath(n),v=()=>Yi(this.fetch,`${this.url}/${u}/${m}${h}`,{headers:this.headers,noResolveJson:!0});return new iw(v,this.shouldThrowOnError)}info(n){return ne(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{const l=yield Yi(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Uc(l),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}exists(n){return ne(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{return yield nw(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Pe(l)&&l instanceof Dc){const u=l.originalError;if([400,404].includes(u?.status))return{data:!1,error:l}}throw l}})}getPublicUrl(n,s){const l=this._getFinalPath(n),u=[],c=s?.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&u.push(c);const m=typeof s?.transform<"u"?"render/image":"object",v=this.transformOptsToQueryString(s?.transform||{});v!==""&&u.push(v);let p=u.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${l}${p}`)}}}remove(n){return ne(this,void 0,void 0,function*(){try{return{data:yield ed(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}list(n,s,l){return ne(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},rw),s),{prefix:n||""});return{data:yield ta(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},l),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}})}listV2(n,s){return ne(this,void 0,void 0,function*(){try{const l=Object.assign({},n);return{data:yield ta(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,l,{headers:this.headers},s),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const s=[];return n.width&&s.push(`width=${n.width}`),n.height&&s.push(`height=${n.height}`),n.resize&&s.push(`resize=${n.resize}`),n.format&&s.push(`format=${n.format}`),n.quality&&s.push(`quality=${n.quality}`),s.join("&")}}const Fg="2.87.3",Wg={"X-Client-Info":`storage-js/${Fg}`};class ow{constructor(n,s={},l,u){this.shouldThrowOnError=!1;const c=new URL(n);u?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wg),s),this.fetch=Wc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(n){return ne(this,void 0,void 0,function*(){try{const s=this.listBucketOptionsToQueryString(n);return{data:yield Yi(this.fetch,`${this.url}/bucket${s}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}getBucket(n){return ne(this,void 0,void 0,function*(){try{return{data:yield Yi(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}createBucket(n){return ne(this,arguments,void 0,function*(s,l={public:!1}){try{return{data:yield ta(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:l.type,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}})}updateBucket(n,s){return ne(this,void 0,void 0,function*(){try{return{data:yield zc(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}emptyBucket(n){return ne(this,void 0,void 0,function*(){try{return{data:yield ta(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}deleteBucket(n){return ne(this,void 0,void 0,function*(){try{return{data:yield ed(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}listBucketOptionsToQueryString(n){const s={};return n&&("limit"in n&&(s.limit=String(n.limit)),"offset"in n&&(s.offset=String(n.offset)),n.search&&(s.search=n.search),n.sortColumn&&(s.sortColumn=n.sortColumn),n.sortOrder&&(s.sortOrder=n.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}}var Ki=class extends Error{constructor(r,n){super(r),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function uw(r,n,s){const l=new URL(n,r);if(s)for(const[u,c]of Object.entries(s))c!==void 0&&l.searchParams.set(u,c);return l.toString()}async function cw(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function dw(r){const n=r.fetchImpl??globalThis.fetch;return{async request({method:s,path:l,query:u,body:c,headers:h}){const m=uw(r.baseUrl,l,u),v=await cw(r.auth),p=await n(m,{method:s,headers:{...c?{"Content-Type":"application/json"}:{},...v,...h},body:c?JSON.stringify(c):void 0}),y=await p.text(),_=(p.headers.get("content-type")||"").includes("application/json"),w=_&&y?JSON.parse(y):y;if(!p.ok){const S=_?w:void 0,j=S?.error;throw new Ki(j?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:j?.type,icebergCode:j?.code,details:S})}return{status:p.status,headers:p.headers,data:w}}}}function Sl(r){return r.join("")}var hw=class{constructor(r,n=""){this.client=r,this.prefix=n}async listNamespaces(r){const n=r?{parent:Sl(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(r,n){const s={namespace:r.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Sl(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Sl(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Sl(r.namespace)}`}),!0}catch(n){if(n instanceof Ki&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(r,n){try{return await this.createNamespace(r,n)}catch(s){if(s instanceof Ki&&s.status===409)return;throw s}}};function Ts(r){return r.join("")}var fw=class{constructor(r,n="",s){this.client=r,this.prefix=n,this.accessDelegation=s}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ts(r.namespace)}/tables`})).data.identifiers}async createTable(r,n){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ts(r.namespace)}/tables`,body:n,headers:s})).data.metadata}async updateTable(r,n){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ts(r.namespace)}/tables/${r.name}`,body:n});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(r,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ts(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(r){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ts(r.namespace)}/tables/${r.name}`,headers:n})).data.metadata}async tableExists(r){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ts(r.namespace)}/tables/${r.name}`,headers:n}),!0}catch(s){if(s instanceof Ki&&s.status===404)return!1;throw s}}async createTableIfNotExists(r,n){try{return await this.createTable(r,n)}catch(s){if(s instanceof Ki&&s.status===409)return await this.loadTable({namespace:r.namespace,name:n.name});throw s}}},mw=class{constructor(r){let n="v1";r.catalogName&&(n+=`/${r.catalogName}`);const s=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=dw({baseUrl:s,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new hw(this.client,n),this.tableOps=new fw(this.client,n,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,n){return this.namespaceOps.createNamespace(r,n)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,n){return this.tableOps.createTable(r,n)}async updateTable(r,n){return this.tableOps.updateTable(r,n)}async dropTable(r,n){await this.tableOps.dropTable(r,n)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,n){return this.namespaceOps.createNamespaceIfNotExists(r,n)}async createTableIfNotExists(r,n){return this.tableOps.createTableIfNotExists(r,n)}};class vw{constructor(n,s={},l){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wg),s),this.fetch=Wc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return ne(this,void 0,void 0,function*(){try{return{data:yield ta(this.fetch,`${this.url}/bucket`,{name:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}listBuckets(n){return ne(this,void 0,void 0,function*(){try{const s=new URLSearchParams;n?.limit!==void 0&&s.set("limit",n.limit.toString()),n?.offset!==void 0&&s.set("offset",n.offset.toString()),n?.sortColumn&&s.set("sortColumn",n.sortColumn),n?.sortOrder&&s.set("sortOrder",n.sortOrder),n?.search&&s.set("search",n.search);const l=s.toString(),u=l?`${this.url}/bucket?${l}`:`${this.url}/bucket`;return{data:yield Yi(this.fetch,u,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}deleteBucket(n){return ne(this,void 0,void 0,function*(){try{return{data:yield ed(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}from(n){if(!ew(n))throw new Gl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new mw({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:()=>ne(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(s,{get(c,h){const m=c[h];return typeof m!="function"?m:(...v)=>ne(this,void 0,void 0,function*(){try{return{data:yield m.apply(c,v),error:null}}catch(p){if(l)throw p;return{data:null,error:p}}})}})}}const td={"X-Client-Info":`storage-js/${Fg}`,"Content-Type":"application/json"};class ep extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function qt(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}class pc extends ep{constructor(n,s,l){super(n),this.name="StorageVectorsApiError",this.status=s,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class gw extends ep{constructor(n,s){super(n),this.name="StorageVectorsUnknownError",this.originalError=s}}var Cv;(function(r){r.InternalError="InternalError",r.S3VectorConflictException="S3VectorConflictException",r.S3VectorNotFoundException="S3VectorNotFoundException",r.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",r.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",r.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Cv||(Cv={}));const ad=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),pw=r=>{if(typeof r!="object"||r===null)return!1;const n=Object.getPrototypeOf(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Rv=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),yw=(r,n,s)=>ne(void 0,void 0,void 0,function*(){if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!s?.noResolveJson){const u=r.status||500,c=r;if(typeof c.json=="function")c.json().then(h=>{const m=h?.statusCode||h?.code||u+"";n(new pc(Rv(h),u,m))}).catch(()=>{const h=u+"",m=c.statusText||`HTTP ${u} error`;n(new pc(m,u,h))});else{const h=u+"",m=c.statusText||`HTTP ${u} error`;n(new pc(m,u,h))}}else n(new gw(Rv(r),r))}),bw=(r,n,s,l)=>{const u={method:r,headers:n?.headers||{}};return l?(pw(l)?(u.headers=Object.assign({"Content-Type":"application/json"},n?.headers),u.body=JSON.stringify(l)):u.body=l,Object.assign(Object.assign({},u),s)):u};function _w(r,n,s,l,u,c){return ne(this,void 0,void 0,function*(){return new Promise((h,m)=>{r(s,bw(n,l,u,c)).then(v=>{if(!v.ok)throw v;if(l?.noResolveJson)return v;const p=v.headers.get("content-type");return!p||!p.includes("application/json")?{}:v.json()}).then(v=>h(v)).catch(v=>yw(v,m,l))})})}function Lt(r,n,s,l,u){return ne(this,void 0,void 0,function*(){return _w(r,"POST",n,l,u,s)})}class ww{constructor(n,s={},l){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},td),s),this.fetch=ad(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(n){return ne(this,void 0,void 0,function*(){try{return{data:(yield Lt(this.fetch,`${this.url}/CreateIndex`,n,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qt(s))return{data:null,error:s};throw s}})}getIndex(n,s){return ne(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:n,indexName:s},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(qt(l))return{data:null,error:l};throw l}})}listIndexes(n){return ne(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/ListIndexes`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qt(s))return{data:null,error:s};throw s}})}deleteIndex(n,s){return ne(this,void 0,void 0,function*(){try{return{data:(yield Lt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:n,indexName:s},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(qt(l))return{data:null,error:l};throw l}})}}class Sw{constructor(n,s={},l){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},td),s),this.fetch=ad(l)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(n){return ne(this,void 0,void 0,function*(){try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Lt(this.fetch,`${this.url}/PutVectors`,n,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qt(s))return{data:null,error:s};throw s}})}getVectors(n){return ne(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/GetVectors`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qt(s))return{data:null,error:s};throw s}})}listVectors(n){return ne(this,void 0,void 0,function*(){try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:yield Lt(this.fetch,`${this.url}/ListVectors`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qt(s))return{data:null,error:s};throw s}})}queryVectors(n){return ne(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/QueryVectors`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qt(s))return{data:null,error:s};throw s}})}deleteVectors(n){return ne(this,void 0,void 0,function*(){try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Lt(this.fetch,`${this.url}/DeleteVectors`,n,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qt(s))return{data:null,error:s};throw s}})}}class Ew{constructor(n,s={},l){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},td),s),this.fetch=ad(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return ne(this,void 0,void 0,function*(){try{return{data:(yield Lt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qt(s))return{data:null,error:s};throw s}})}getBucket(n){return ne(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qt(s))return{data:null,error:s};throw s}})}listBuckets(){return ne(this,arguments,void 0,function*(n={}){try{return{data:yield Lt(this.fetch,`${this.url}/ListVectorBuckets`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qt(s))return{data:null,error:s};throw s}})}deleteBucket(n){return ne(this,void 0,void 0,function*(){try{return{data:(yield Lt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qt(s))return{data:null,error:s};throw s}})}}class jw extends Ew{constructor(n,s={}){super(n,s.headers||{},s.fetch)}from(n){return new xw(this.url,this.headers,n,this.fetch)}createBucket(n){const s=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ne(this,void 0,void 0,function*(){return s.createBucket.call(this,n)})}getBucket(n){const s=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ne(this,void 0,void 0,function*(){return s.getBucket.call(this,n)})}listBuckets(){const n=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ne(this,arguments,void 0,function*(s={}){return n.listBuckets.call(this,s)})}deleteBucket(n){const s=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ne(this,void 0,void 0,function*(){return s.deleteBucket.call(this,n)})}}class xw extends ww{constructor(n,s,l,u){super(n,s,u),this.vectorBucketName=l}createIndex(n){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ne(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const n=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ne(this,arguments,void 0,function*(s={}){return n.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(n){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ne(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,n)})}deleteIndex(n){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ne(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,n)})}index(n){return new Tw(this.url,this.headers,this.vectorBucketName,n,this.fetch)}}class Tw extends Sw{constructor(n,s,l,u,c){super(n,s,c),this.vectorBucketName=l,this.indexName=u}putVectors(n){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ne(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(n){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ne(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const n=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ne(this,arguments,void 0,function*(s={}){return n.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(n){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ne(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(n){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ne(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Nw extends ow{constructor(n,s={},l,u){super(n,s,l,u)}from(n){return new lw(this.url,this.headers,n,this.fetch)}get vectors(){return new jw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new vw(this.url+"/iceberg",this.headers,this.fetch)}}const Ow="2.87.3";let Hi="";typeof Deno<"u"?Hi="deno":typeof document<"u"?Hi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Hi="react-native":Hi="node";const Aw={"X-Client-Info":`supabase-js-${Hi}/${Ow}`},Cw={headers:Aw},Rw={schema:"public"},kw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Dw={},Uw=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),zw=()=>Headers,Mw=(r,n,s)=>{const l=Uw(s),u=zw();return async(c,h)=>{var m;const v=(m=await n())!==null&&m!==void 0?m:r;let p=new u(h?.headers);return p.has("apikey")||p.set("apikey",r),p.has("Authorization")||p.set("Authorization",`Bearer ${v}`),l(c,Object.assign(Object.assign({},h),{headers:p}))}};function Bw(r){return r.endsWith("/")?r:r+"/"}function qw(r,n){var s,l;const{db:u,auth:c,realtime:h,global:m}=r,{db:v,auth:p,realtime:y,global:_}=n,w={db:Object.assign(Object.assign({},v),u),auth:Object.assign(Object.assign({},p),c),realtime:Object.assign(Object.assign({},y),h),storage:{},global:Object.assign(Object.assign(Object.assign({},_),m),{headers:Object.assign(Object.assign({},(s=_?.headers)!==null&&s!==void 0?s:{}),(l=m?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return r.accessToken?w.accessToken=r.accessToken:delete w.accessToken,w}function Lw(r){const n=r?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Bw(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const tp="2.87.3",Cs=30*1e3,Mc=3,yc=Mc*Cs,$w="http://localhost:9999",Hw="supabase.auth.token",Vw={"X-Client-Info":`gotrue-js/${tp}`},Bc="X-Supabase-Api-Version",ap={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Gw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Yw=600*1e3;class Ms extends Error{constructor(n,s,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=l}}function re(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class np extends Ms{constructor(n,s,l){super(n,s,l),this.name="AuthApiError",this.status=s,this.code=l}}function sp(r){return re(r)&&r.name==="AuthApiError"}class ln extends Ms{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}}class fa extends Ms{constructor(n,s,l,u){super(n,l,u),this.name=s,this.status=l}}class Tt extends fa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ip(r){return re(r)&&r.name==="AuthSessionMissingError"}class Rn extends fa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vi extends fa{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Gi extends fa{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function rp(r){return re(r)&&r.name==="AuthImplicitGrantRedirectError"}class qc extends fa{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class lp extends fa{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}function Kw(r){return re(r)&&r.name==="AuthPKCECodeVerifierMissingError"}class kl extends fa{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}}function Tl(r){return re(r)&&r.name==="AuthRetryableFetchError"}class Lc extends fa{constructor(n,s,l){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=l}}function Pw(r){return re(r)&&r.name==="AuthWeakPasswordError"}class Dl extends fa{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ul="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kv=` 	
\r=`.split(""),Xw=(()=>{const r=new Array(128);for(let n=0;n<r.length;n+=1)r[n]=-1;for(let n=0;n<kv.length;n+=1)r[kv[n].charCodeAt(0)]=-2;for(let n=0;n<Ul.length;n+=1)r[Ul[n].charCodeAt(0)]=n;return r})();function Dv(r,n,s){if(r!==null)for(n.queue=n.queue<<8|r,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;s(Ul[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;s(Ul[l]),n.queuedBits-=6}}function op(r,n,s){const l=Xw[r];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Uv(r){const n=[],s=h=>{n.push(String.fromCodePoint(h))},l={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},c=h=>{Iw(h,l,s)};for(let h=0;h<r.length;h+=1)op(r.charCodeAt(h),u,c);return n.join("")}function Qw(r,n){if(r<=127){n(r);return}else if(r<=2047){n(192|r>>6),n(128|r&63);return}else if(r<=65535){n(224|r>>12),n(128|r>>6&63),n(128|r&63);return}else if(r<=1114111){n(240|r>>18),n(128|r>>12&63),n(128|r>>6&63),n(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Jw(r,n){for(let s=0;s<r.length;s+=1){let l=r.charCodeAt(s);if(l>55295&&l<=56319){const u=(l-55296)*1024&65535;l=(r.charCodeAt(s+1)-56320&65535|u)+65536,s+=1}Qw(l,n)}}function Iw(r,n,s){if(n.utf8seq===0){if(r<=127){s(r);return}for(let l=1;l<6;l+=1)if((r>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=r&31;else if(n.utf8seq===3)n.codepoint=r&15;else if(n.utf8seq===4)n.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|r&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function Us(r){const n=[],s={queue:0,queuedBits:0},l=u=>{n.push(u)};for(let u=0;u<r.length;u+=1)op(r.charCodeAt(u),s,l);return new Uint8Array(n)}function Zw(r){const n=[];return Jw(r,s=>n.push(s)),new Uint8Array(n)}function Bn(r){const n=[],s={queue:0,queuedBits:0},l=u=>{n.push(u)};return r.forEach(u=>Dv(u,s,l)),Dv(null,s,l),n.join("")}function Fw(r){return Math.round(Date.now()/1e3)+r}function Ww(){return Symbol("auth-callback")}const vt=()=>typeof window<"u"&&typeof document<"u",An={tested:!1,writable:!1},up=()=>{if(!vt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(An.tested)return An.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),An.tested=!0,An.writable=!0}catch{An.tested=!0,An.writable=!1}return An.writable};function e1(r){const n={},s=new URL(r);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((u,c)=>{n[c]=u})}catch{}return s.searchParams.forEach((l,u)=>{n[u]=l}),n}const cp=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),t1=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Rs=async(r,n,s)=>{await r.setItem(n,JSON.stringify(s))},Cn=async(r,n)=>{const s=await r.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},mt=async(r,n)=>{await r.removeItem(n)};class Yl{constructor(){this.promise=new Yl.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}Yl.promiseConstructor=Promise;function bc(r){const n=r.split(".");if(n.length!==3)throw new Dl("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!Gw.test(n[l]))throw new Dl("JWT not in base64url format");return{header:JSON.parse(Uv(n[0])),payload:JSON.parse(Uv(n[1])),signature:Us(n[2]),raw:{header:n[0],payload:n[1]}}}async function a1(r){return await new Promise(n=>{setTimeout(()=>n(null),r)})}function n1(r,n){return new Promise((l,u)=>{(async()=>{for(let c=0;c<1/0;c++)try{const h=await r(c);if(!n(c,null,h)){l(h);return}}catch(h){if(!n(c,h)){u(h);return}}})()})}function s1(r){return("0"+r.toString(16)).substr(-2)}function i1(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=s.length;let u="";for(let c=0;c<56;c++)u+=s.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(n),Array.from(n,s1).join("")}async function r1(r){const s=new TextEncoder().encode(r),l=await crypto.subtle.digest("SHA-256",s),u=new Uint8Array(l);return Array.from(u).map(c=>String.fromCharCode(c)).join("")}async function l1(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const s=await r1(r);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ns(r,n,s=!1){const l=i1();let u=l;s&&(u+="/PASSWORD_RECOVERY"),await Rs(r,`${n}-code-verifier`,u);const c=await l1(l);return[c,l===c?"plain":"s256"]}const o1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function u1(r){const n=r.headers.get(Bc);if(!n||!n.match(o1))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function c1(r){if(!r)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(r<=n)throw new Error("JWT has expired")}function d1(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const h1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Os(r){if(!h1.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function _c(){const r={};return new Proxy(r,{get:(n,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function f1(r,n){return new Proxy(r,{get:(s,l,u)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const c=l.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,l,u)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(s,l,u)}})}function zv(r){return JSON.parse(JSON.stringify(r))}const kn=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),m1=[502,503,504];async function Mv(r){var n;if(!t1(r))throw new kl(kn(r),0);if(m1.includes(r.status))throw new kl(kn(r),r.status);let s;try{s=await r.json()}catch(c){throw new ln(kn(c),c)}let l;const u=u1(r);if(u&&u.getTime()>=ap["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?l=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(l=s.error_code),l){if(l==="weak_password")throw new Lc(kn(s),r.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new Tt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,h)=>c&&typeof h=="string",!0))throw new Lc(kn(s),r.status,s.weak_password.reasons);throw new np(kn(s),r.status||500,l)}const v1=(r,n,s,l)=>{const u={method:r,headers:n?.headers||{}};return r==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),s))};async function he(r,n,s,l){var u;const c=Object.assign({},l?.headers);c[Bc]||(c[Bc]=ap["2024-01-01"].name),l?.jwt&&(c.Authorization=`Bearer ${l.jwt}`);const h=(u=l?.query)!==null&&u!==void 0?u:{};l?.redirectTo&&(h.redirect_to=l.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",v=await g1(r,n,s+m,{headers:c,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(v):{data:Object.assign({},v),error:null}}async function g1(r,n,s,l,u,c){const h=v1(n,l,u,c);let m;try{m=await r(s,Object.assign({},h))}catch(v){throw console.error(v),new kl(kn(v),0)}if(m.ok||await Mv(m),l?.noResolveJson)return m;try{return await m.json()}catch(v){await Mv(v)}}function ea(r){var n;let s=null;b1(r)&&(s=Object.assign({},r),r.expires_at||(s.expires_at=Fw(r.expires_in)));const l=(n=r.user)!==null&&n!==void 0?n:r;return{data:{session:s,user:l},error:null}}function Bv(r){const n=ea(r);return!n.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0)&&(n.data.weak_password=r.weak_password),n}function on(r){var n;return{data:{user:(n=r.user)!==null&&n!==void 0?n:r},error:null}}function p1(r){return{data:r,error:null}}function y1(r){const{action_link:n,email_otp:s,hashed_token:l,redirect_to:u,verification_type:c}=r,h=Ls(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:n,email_otp:s,hashed_token:l,redirect_to:u,verification_type:c},v=Object.assign({},h);return{data:{properties:m,user:v},error:null}}function qv(r){return r}function b1(r){return r.access_token&&r.refresh_token&&r.expires_in}const Nl=["global","local","others"];class nd{constructor({url:n="",headers:s={},fetch:l}){this.url=n,this.headers=s,this.fetch=cp(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,s=Nl[0]){if(Nl.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Nl.join(", ")}`);try{return await he(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(re(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,s={}){try{return await he(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:on})}catch(l){if(re(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:s}=n,l=Ls(n,["options"]),u=Object.assign(Object.assign({},l),s);return"newEmail"in l&&(u.new_email=l?.newEmail,delete u.newEmail),await he(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:y1,redirectTo:s?.redirectTo})}catch(s){if(re(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await he(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:on})}catch(s){if(re(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,l,u,c,h,m,v;try{const p={nextPage:null,lastPage:0,total:0},y=await he(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=n?.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(c=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:qv});if(y.error)throw y.error;const _=await y.json(),w=(h=y.headers.get("x-total-count"))!==null&&h!==void 0?h:0,S=(v=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&v!==void 0?v:[];return S.length>0&&(S.forEach(j=>{const A=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(j.split(";")[1].split("=")[1]);p[`${T}Page`]=A}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(re(p))return{data:{users:[]},error:p};throw p}}async getUserById(n){Os(n);try{return await he(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:on})}catch(s){if(re(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){Os(n);try{return await he(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:on})}catch(l){if(re(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,s=!1){Os(n);try{return await he(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:on})}catch(l){if(re(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){Os(n.userId);try{const{data:s,error:l}=await he(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:s,error:l}}catch(s){if(re(s))return{data:null,error:s};throw s}}async _deleteFactor(n){Os(n.userId),Os(n.id);try{return{data:await he(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}}async _listOAuthClients(n){var s,l,u,c,h,m,v;try{const p={nextPage:null,lastPage:0,total:0},y=await he(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=n?.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(c=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:qv});if(y.error)throw y.error;const _=await y.json(),w=(h=y.headers.get("x-total-count"))!==null&&h!==void 0?h:0,S=(v=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&v!==void 0?v:[];return S.length>0&&(S.forEach(j=>{const A=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(j.split(";")[1].split("=")[1]);p[`${T}Page`]=A}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(re(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(n){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(re(s))return{data:null,error:s};throw s}}async _getOAuthClient(n){try{return await he(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(re(s))return{data:null,error:s};throw s}}async _updateOAuthClient(n,s){try{return await he(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:s,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(re(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await he(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(n){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(re(s))return{data:null,error:s};throw s}}}function Lv(r={}){return{getItem:n=>r[n]||null,setItem:(n,s)=>{r[n]=s},removeItem:n=>{delete r[n]}}}const Dn={debug:!!(globalThis&&up()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class sd extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class dp extends sd{}class _1 extends sd{}async function hp(r,n,s){Dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),Dn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async u=>{if(u){Dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,u.name);try{return await s()}finally{Dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,u.name)}}else{if(n===0)throw Dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new dp(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Dn.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}const $v={};async function w1(r,n,s){var l;const u=(l=$v[r])!==null&&l!==void 0?l:Promise.resolve(),c=Promise.race([u.catch(()=>null),n>=0?new Promise((h,m)=>{setTimeout(()=>{m(new _1(`Acquiring process lock with name "${r}" timed out`))},n)}):null].filter(h=>h)).catch(h=>{if(h&&h.isAcquireTimeout)throw h;return null}).then(async()=>await s());return $v[r]=c.catch(async h=>{if(h&&h.isAcquireTimeout)return await u,null;throw h}),await c}function S1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function fp(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function E1(r){return parseInt(r,16)}function j1(r){const n=new TextEncoder().encode(r);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function x1(r){var n;const{chainId:s,domain:l,expirationTime:u,issuedAt:c=new Date,nonce:h,notBefore:m,requestId:v,resources:p,scheme:y,uri:_,version:w}=r;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((n=r.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const S=fp(r.address),j=y?`${y}://${l}`:l,A=r.statement?`${r.statement}
`:"",T=`${j} wants you to sign in with your Ethereum account:
${S}

${A}`;let U=`URI: ${_}
Version: ${w}
Chain ID: ${s}${h?`
Nonce: ${h}`:""}
Issued At: ${c.toISOString()}`;if(u&&(U+=`
Expiration Time: ${u.toISOString()}`),m&&(U+=`
Not Before: ${m.toISOString()}`),v&&(U+=`
Request ID: ${v}`),p){let z=`
Resources:`;for(const q of p){if(!q||typeof q!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${q}`);z+=`
- ${q}`}U+=z}return`${T}
${U}`}class st extends Error{constructor({message:n,code:s,cause:l,name:u}){var c;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(c=u??(l instanceof Error?l.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=s}}class zl extends st{constructor(n,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:n}),this.name="WebAuthnUnknownError",this.originalError=s}}function T1({error:r,options:n}){var s,l,u;const{publicKey:c}=n;if(!c)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(n.signal instanceof AbortSignal)return new st({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((s=c.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new st({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(n.mediation==="conditional"&&((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new st({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((u=c.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new st({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new st({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new st({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return c.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new st({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new st({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const h=window.location.hostname;if(mp(h)){if(c.rp.id!==h)return new st({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new st({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function N1({error:r,options:n}){const{publicKey:s}=n;if(!s)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(n.signal instanceof AbortSignal)return new st({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new st({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const l=window.location.hostname;if(mp(l)){if(s.rpId!==l)return new st({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class O1{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const A1=new O1;function C1(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:n,user:s,excludeCredentials:l}=r,u=Ls(r,["challenge","user","excludeCredentials"]),c=Us(n).buffer,h=Object.assign(Object.assign({},s),{id:Us(s.id).buffer}),m=Object.assign(Object.assign({},u),{challenge:c,user:h});if(l&&l.length>0){m.excludeCredentials=new Array(l.length);for(let v=0;v<l.length;v++){const p=l[v];m.excludeCredentials[v]=Object.assign(Object.assign({},p),{id:Us(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return m}function R1(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:n,allowCredentials:s}=r,l=Ls(r,["challenge","allowCredentials"]),u=Us(n).buffer,c=Object.assign(Object.assign({},l),{challenge:u});if(s&&s.length>0){c.allowCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const m=s[h];c.allowCredentials[h]=Object.assign(Object.assign({},m),{id:Us(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return c}function k1(r){var n;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const s=r;return{id:r.id,rawId:r.id,response:{attestationObject:Bn(new Uint8Array(r.response.attestationObject)),clientDataJSON:Bn(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function D1(r){var n;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const s=r,l=r.getClientExtensionResults(),u=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Bn(new Uint8Array(u.authenticatorData)),clientDataJSON:Bn(new Uint8Array(u.clientDataJSON)),signature:Bn(new Uint8Array(u.signature)),userHandle:u.userHandle?Bn(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function mp(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function Hv(){var r,n;return!!(vt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function U1(r){try{const n=await navigator.credentials.create(r);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new zl("Browser returned unexpected credential type",n)}:{data:null,error:new zl("Empty credential response",n)}}catch(n){return{data:null,error:T1({error:n,options:r})}}}async function z1(r){try{const n=await navigator.credentials.get(r);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new zl("Browser returned unexpected credential type",n)}:{data:null,error:new zl("Empty credential response",n)}}catch(n){return{data:null,error:N1({error:n,options:r})}}}const M1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},B1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ml(...r){const n=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),s=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),l={};for(const u of r)if(u)for(const c in u){const h=u[c];if(h!==void 0)if(Array.isArray(h))l[c]=h;else if(s(h))l[c]=h;else if(n(h)){const m=l[c];n(m)?l[c]=Ml(m,h):l[c]=Ml(h)}else l[c]=h}return l}function q1(r,n){return Ml(M1,r,n||{})}function L1(r,n){return Ml(B1,r,n||{})}class $1{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:s,friendlyName:l,signal:u},c){try{const{data:h,error:m}=await this.client.mfa.challenge({factorId:n,webauthn:s});if(!h)return{data:null,error:m};const v=u??A1.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:p}=h.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${l}`),p.displayName||(p.displayName=p.name)}switch(h.webauthn.type){case"create":{const p=q1(h.webauthn.credential_options.publicKey,c?.create),{data:y,error:_}=await U1({publicKey:p,signal:v});return y?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:y}},error:null}:{data:null,error:_}}case"request":{const p=L1(h.webauthn.credential_options.publicKey,c?.request),{data:y,error:_}=await z1(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:p,signal:v}));return y?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:y}},error:null}:{data:null,error:_}}}}catch(h){return re(h)?{data:null,error:h}:{data:null,error:new ln("Unexpected error in challenge",h)}}}async _verify({challengeId:n,factorId:s,webauthn:l}){return this.client.mfa.verify({factorId:s,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},c){if(!s)return{data:null,error:new Ms("rpId is required for WebAuthn authentication")};try{if(!Hv())return{data:null,error:new ln("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this.challenge({factorId:n,webauthn:{rpId:s,rpOrigins:l},signal:u},{request:c});if(!h)return{data:null,error:m};const{webauthn:v}=h;return this._verify({factorId:n,challengeId:h.challengeId,webauthn:{type:v.type,rpId:s,rpOrigins:l,credential_response:v.credential_response}})}catch(h){return re(h)?{data:null,error:h}:{data:null,error:new ln("Unexpected error in authenticate",h)}}}async _register({friendlyName:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},c){if(!s)return{data:null,error:new Ms("rpId is required for WebAuthn registration")};try{if(!Hv())return{data:null,error:new ln("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this._enroll({friendlyName:n});if(!h)return await this.client.mfa.listFactors().then(y=>{var _;return(_=y.data)===null||_===void 0?void 0:_.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===n&&w.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:m};const{data:v,error:p}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:s,rpOrigins:l},signal:u},{create:c});return v?this._verify({factorId:h.id,challengeId:v.challengeId,webauthn:{rpId:s,rpOrigins:l,type:v.webauthn.type,credential_response:v.webauthn.credential_response}}):{data:null,error:p}}catch(h){return re(h)?{data:null,error:h}:{data:null,error:new ln("Unexpected error in register",h)}}}}S1();const H1={url:$w,storageKey:Hw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Vw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Vv(r,n,s){return await s()}const As={};class Bs{get jwks(){var n,s;return(s=(n=As[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(n){As[this.storageKey]=Object.assign(Object.assign({},As[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,s;return(s=(n=As[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){As[this.storageKey]=Object.assign(Object.assign({},As[this.storageKey]),{cachedAt:n})}constructor(n){var s,l,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},H1),n);if(this.storageKey=c.storageKey,this.instanceID=(s=Bs.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Bs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&vt()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new nd({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=cp(c.fetch),this.lock=c.lock||Vv,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:this.persistSession&&vt()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=hp:this.lock=Vv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new $1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:up()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Lv(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=Lv(this.memoryStorage)),vt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${tp}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let s={},l="none";if(vt()&&(s=e1(window.location.href),this._isImplicitGrantCallback(s)?l="implicit":await this._isPKCECallback(s)&&(l="pkce")),vt()&&this.detectSessionInUrl&&l!=="none"){const{data:u,error:c}=await this._getSessionFromURL(s,l);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),rp(c)){const v=(n=c.details)===null||n===void 0?void 0:n.code;if(v==="identity_already_exists"||v==="identity_not_found"||v==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:h,redirectType:m}=u;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return re(s)?this._returnResult({error:s}):this._returnResult({error:new ln("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,l,u;try{const c=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(s=n?.options)===null||s===void 0?void 0:s.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(u=n?.options)===null||u===void 0?void 0:u.captchaToken}},xform:ea}),{data:h,error:m}=c;if(m||!h)return this._returnResult({data:{user:null,session:null},error:m});const v=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",v)),this._returnResult({data:{user:p,session:v},error:null})}catch(c){if(re(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(n){var s,l,u;try{let c;if("email"in n){const{email:y,password:_,options:w}=n;let S=null,j=null;this.flowType==="pkce"&&([S,j]=await Ns(this.storage,this.storageKey)),c=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:y,password:_,data:(s=w?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:S,code_challenge_method:j},xform:ea})}else if("phone"in n){const{phone:y,password:_,options:w}=n;c=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:_,data:(l=w?.data)!==null&&l!==void 0?l:{},channel:(u=w?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:ea})}else throw new Vi("You must provide either an email or phone number and a password");const{data:h,error:m}=c;if(m||!h)return await mt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const v=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",v)),this._returnResult({data:{user:p,session:v},error:null})}catch(c){if(await mt(this.storage,`${this.storageKey}-code-verifier`),re(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(n){try{let s;if("email"in n){const{email:c,password:h,options:m}=n;s=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Bv})}else if("phone"in n){const{phone:c,password:h,options:m}=n;s=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Bv})}else throw new Vi("You must provide either an email or phone number and a password");const{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new Rn;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:u})}catch(s){if(re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(n){var s,l,u,c;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(c=n.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;switch(s){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(n){var s,l,u,c,h,m,v,p,y,_,w;let S,j;if("message"in n)S=n.message,j=n.signature;else{const{chain:A,wallet:T,statement:U,options:z}=n;let q;if(vt())if(typeof T=="object")q=T;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")q=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=T}const Q=new URL((s=z?.url)!==null&&s!==void 0?s:window.location.href),te=await q.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!te||te.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const J=fp(te[0]);let I=(l=z?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!I){const M=await q.request({method:"eth_chainId"});I=E1(M)}const Y={domain:Q.host,address:J,statement:U,uri:Q.href,version:"1",chainId:I,nonce:(u=z?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(h=(c=z?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(m=z?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(v=z?.signInWithEthereum)===null||v===void 0?void 0:v.notBefore,requestId:(p=z?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(y=z?.signInWithEthereum)===null||y===void 0?void 0:y.resources};S=x1(Y),j=await q.request({method:"personal_sign",params:[j1(S),J]})}try{const{data:A,error:T}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:j},!((_=n.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(w=n.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:ea});if(T)throw T;if(!A||!A.session||!A.user){const U=new Rn;return this._returnResult({data:{user:null,session:null},error:U})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:T})}catch(A){if(re(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async signInWithSolana(n){var s,l,u,c,h,m,v,p,y,_,w,S;let j,A;if("message"in n)j=n.message,A=n.signature;else{const{chain:T,wallet:U,statement:z,options:q}=n;let Q;if(vt())if(typeof U=="object")Q=U;else{const J=window;if("solana"in J&&typeof J.solana=="object"&&("signIn"in J.solana&&typeof J.solana.signIn=="function"||"signMessage"in J.solana&&typeof J.solana.signMessage=="function"))Q=J.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!q?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Q=U}const te=new URL((s=q?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in Q&&Q.signIn){const J=await Q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},q?.signInWithSolana),{version:"1",domain:te.host,uri:te.href}),z?{statement:z}:null));let I;if(Array.isArray(J)&&J[0]&&typeof J[0]=="object")I=J[0];else if(J&&typeof J=="object"&&"signedMessage"in J&&"signature"in J)I=J;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)j=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),A=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Q)||typeof Q.signMessage!="function"||!("publicKey"in Q)||typeof Q!="object"||!Q.publicKey||!("toBase58"in Q.publicKey)||typeof Q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${te.host} wants you to sign in with your Solana account:`,Q.publicKey.toBase58(),...z?["",z,""]:[""],"Version: 1",`URI: ${te.href}`,`Issued At: ${(u=(l=q?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((c=q?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${q.signInWithSolana.notBefore}`]:[],...!((h=q?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${q.signInWithSolana.expirationTime}`]:[],...!((m=q?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${q.signInWithSolana.chainId}`]:[],...!((v=q?.signInWithSolana)===null||v===void 0)&&v.nonce?[`Nonce: ${q.signInWithSolana.nonce}`]:[],...!((p=q?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${q.signInWithSolana.requestId}`]:[],...!((_=(y=q?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||_===void 0)&&_.length?["Resources",...q.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const J=await Q.signMessage(new TextEncoder().encode(j),"utf8");if(!J||!(J instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=J}}try{const{data:T,error:U}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:Bn(A)},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(S=n.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:ea});if(U)throw U;if(!T||!T.session||!T.user){const z=new Rn;return this._returnResult({data:{user:null,session:null},error:z})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:U})}catch(T){if(re(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(n){const s=await Cn(this.storage,`${this.storageKey}-code-verifier`),[l,u]=(s??"").split("/");try{if(!l&&this.flowType==="pkce")throw new lp;const{data:c,error:h}=await he(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:ea});if(await mt(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!c||!c.session||!c.user){const m=new Rn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:u??null}),error:h})}catch(c){if(await mt(this.storage,`${this.storageKey}-code-verifier`),re(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(n){try{const{options:s,provider:l,token:u,access_token:c,nonce:h}=n,m=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:c,nonce:h,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:ea}),{data:v,error:p}=m;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!v||!v.session||!v.user){const y=new Rn;return this._returnResult({data:{user:null,session:null},error:y})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:v,error:p})}catch(s){if(re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(n){var s,l,u,c,h;try{if("email"in n){const{email:m,options:v}=n;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Ns(this.storage,this.storageKey));const{error:_}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(s=v?.data)!==null&&s!==void 0?s:{},create_user:(l=v?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:v?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in n){const{phone:m,options:v}=n,{data:p,error:y}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(u=v?.data)!==null&&u!==void 0?u:{},create_user:(c=v?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:v?.captchaToken},channel:(h=v?.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:y})}throw new Vi("You must provide either an email or phone number.")}catch(m){if(await mt(this.storage,`${this.storageKey}-code-verifier`),re(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(n){var s,l;try{let u,c;"options"in n&&(u=(s=n.options)===null||s===void 0?void 0:s.redirectTo,c=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:h,error:m}=await he(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:c}}),redirectTo:u,xform:ea});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const v=h.session,p=h.user;return v?.access_token&&(await this._saveSession(v),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",v)),this._returnResult({data:{user:p,session:v},error:null})}catch(u){if(re(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(n){var s,l,u,c,h;try{let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Ns(this.storage,this.storageKey));const p=await he(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=n?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:v}),headers:this.headers,xform:p1});return!((c=p.data)===null||c===void 0)&&c.url&&vt()&&!(!((h=n.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(m){if(await mt(this.storage,`${this.storageKey}-code-verifier`),re(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:l}=n;if(l)throw l;if(!s)throw new Tt;const{error:u}=await he(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(n){if(re(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:l,type:u,options:c}=n,{error:h}=await he(this.fetch,"POST",s,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in n){const{phone:l,type:u,options:c}=n,{data:h,error:m}=await he(this.fetch,"POST",s,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:m})}throw new Vi("You must provide either an email or phone number and a type")}catch(s){if(re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await s()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=s();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await Cn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<yc:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const h=await Cn(this.userStorage,this.storageKey+"-user");h?.user?n.user=h.user:n.user=_c()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};n.user=f1(n.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:u,error:c}=await this._callRefreshToken(n.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const s=await this._acquireLock(-1,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(n){try{return n?await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:on}):await this._useSession(async s=>{var l,u,c;const{data:h,error:m}=s;if(m)throw m;return!(!((l=h.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tt}:await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0,xform:on})})}catch(s){if(re(s))return ip(s)&&(await this._removeSession(),await mt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async l=>{const{data:u,error:c}=l;if(c)throw c;if(!u.session)throw new Tt;const h=u.session;let m=null,v=null;this.flowType==="pkce"&&n.email!=null&&([m,v]=await Ns(this.storage,this.storageKey));const{data:p,error:y}=await he(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:m,code_challenge_method:v}),jwt:h.access_token,xform:on});if(y)throw y;return h.user=p.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(l){if(await mt(this.storage,`${this.storageKey}-code-verifier`),re(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Tt;const s=Date.now()/1e3;let l=s,u=!0,c=null;const{payload:h}=bc(n.access_token);if(h.exp&&(l=h.exp,u=l<=s),u){const{data:m,error:v}=await this._callRefreshToken(n.refresh_token);if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!m)return{data:{user:null,session:null},error:null};c=m}else{const{data:m,error:v}=await this._getUser(n.access_token);if(v)throw v;c={access_token:n.access_token,refresh_token:n.refresh_token,user:m.user,token_type:"bearer",expires_in:l-s,expires_at:l},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(s){if(re(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var l;if(!n){const{data:h,error:m}=s;if(m)throw m;n=(l=h.session)!==null&&l!==void 0?l:void 0}if(!n?.refresh_token)throw new Tt;const{data:u,error:c}=await this._callRefreshToken(n.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(n,s){try{if(!vt())throw new Gi("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Gi(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new qc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gi("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new qc("No code detected.");const{data:z,error:q}=await this._exchangeCodeForSession(n.code);if(q)throw q;const Q=new URL(window.location.href);return Q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Q.toString()),{data:{session:z.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:u,access_token:c,refresh_token:h,expires_in:m,expires_at:v,token_type:p}=n;if(!c||!m||!h||!p)throw new Gi("No session defined in URL");const y=Math.round(Date.now()/1e3),_=parseInt(m);let w=y+_;v&&(w=parseInt(v));const S=w-y;S*1e3<=Cs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${_}s`);const j=w-_;y-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,w,y):y-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,w,y);const{data:A,error:T}=await this._getUser(c);if(T)throw T;const U={provider_token:l,provider_refresh_token:u,access_token:c,expires_in:_,expires_at:w,refresh_token:h,token_type:p,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:U,redirectType:n.type},error:null})}catch(l){if(re(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await Cn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var l;const{data:u,error:c}=s;if(c)return this._returnResult({error:c});const h=(l=u.session)===null||l===void 0?void 0:l.access_token;if(h){const{error:m}=await this.admin.signOut(h,n);if(m&&!(sp(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return n!=="others"&&(await this._removeSession(),await mt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const s=Ww(),l={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async s=>{var l,u;try{const{data:{session:c},error:h}=s;if(h)throw h;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",n,"session",c)}catch(c){await((u=this.stateChangeEmitters.get(n))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",c),console.error(c)}})}async resetPasswordForEmail(n,s={}){let l=null,u=null;this.flowType==="pkce"&&([l,u]=await Ns(this.storage,this.storageKey,!0));try{return await he(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(await mt(this.storage,`${this.storageKey}-code-verifier`),re(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var n;try{const{data:s,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var s;try{const{data:l,error:u}=await this._useSession(async c=>{var h,m,v,p,y;const{data:_,error:w}=c;if(w)throw w;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(h=n.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=n.options)===null||m===void 0?void 0:m.scopes,queryParams:(v=n.options)===null||v===void 0?void 0:v.queryParams,skipBrowserRedirect:!0});return await he(this.fetch,"GET",S,{headers:this.headers,jwt:(y=(p=_.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(u)throw u;return vt()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:n.provider,url:l?.url},error:null})}catch(l){if(re(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async s=>{var l;try{const{error:u,data:{session:c}}=s;if(u)throw u;const{options:h,provider:m,token:v,access_token:p,nonce:y}=n,_=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=c?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:m,id_token:v,access_token:p,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:ea}),{data:w,error:S}=_;return S?this._returnResult({data:{user:null,session:null},error:S}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Rn}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:S}))}catch(u){if(await mt(this.storage,`${this.storageKey}-code-verifier`),re(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(n){try{return await this._useSession(async s=>{var l,u;const{data:c,error:h}=s;if(h)throw h;return await he(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(u=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const l=Date.now();return await n1(async u=>(u>0&&await a1(200*Math.pow(2,u-1)),this._debug(s,"refreshing attempt",u),await he(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:ea})),(u,c)=>{const h=200*Math.pow(2,u);return c&&Tl(c)&&Date.now()+h-l<Cs})}catch(l){if(this._debug(s,"error",l),re(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",l),vt()&&!s.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,s;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const u=await Cn(this.storage,this.storageKey);if(u&&this.userStorage){let h=await Cn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:u.user},await Rs(this.userStorage,this.storageKey+"-user",h)),u.user=(n=h?.user)!==null&&n!==void 0?n:_c()}else if(u&&!u.user&&!u.user){const h=await Cn(this.storage,this.storageKey+"-user");h&&h?.user?(u.user=h.user,await mt(this.storage,this.storageKey+"-user"),await Rs(this.storage,this.storageKey,u)):u.user=_c()}if(this._debug(l,"session from storage",u),!this._isValidSession(u)){this._debug(l,"session is not valid"),u!==null&&await this._removeSession();return}const c=((s=u.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<yc;if(this._debug(l,`session has${c?"":" not"} expired with margin of ${yc}s`),c){if(this.autoRefreshToken&&u.refresh_token){const{error:h}=await this._callRefreshToken(u.refresh_token);h&&(console.error(h),Tl(h)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(u.access_token);!m&&h?.user?(u.user=h.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(l,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(l,"error",u),console.error(u);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var s,l;if(!n)throw new Tt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new Yl;const{data:c,error:h}=await this._refreshAccessToken(n);if(h)throw h;if(!c.session)throw new Tt;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const m={data:c.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(c){if(this._debug(u,"error",c),re(c)){const h={data:null,error:c};return Tl(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(h),h}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(c),c}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(n,s,l=!0){const u=`#_notifyAllSubscribers(${n})`;this._debug(u,"begin",s,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:s});const c=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(n,s)}catch(v){c.push(v)}});if(await Promise.all(h),c.length>0){for(let m=0;m<c.length;m+=1)console.error(c[m]);throw c[0]}}finally{this._debug(u,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await mt(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},n),l=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&s.user&&await Rs(this.userStorage,this.storageKey+"-user",{user:s.user});const u=Object.assign({},s);delete u.user;const c=zv(u);await Rs(this.storage,this.storageKey,c)}else{const u=zv(s);await Rs(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await mt(this.storage,this.storageKey),await mt(this.storage,this.storageKey+"-code-verifier"),await mt(this.storage,this.storageKey+"-user"),this.userStorage&&await mt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&vt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Cs);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:l}}=s;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-n)/Cs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Cs}ms, refresh threshold is ${Mc} ticks`),u<=Mc&&await this._callRefreshToken(l.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof sd)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,l){const u=[`provider=${encodeURIComponent(s)}`];if(l?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&u.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[c,h]=await Ns(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(h)}`});u.push(m.toString())}if(l?.queryParams){const c=new URLSearchParams(l.queryParams);u.push(c.toString())}return l?.skipBrowserRedirect&&u.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${u.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var l;const{data:u,error:c}=s;return c?this._returnResult({data:null,error:c}):await he(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token})})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(n){try{return await this._useSession(async s=>{var l,u;const{data:c,error:h}=s;if(h)return this._returnResult({data:null,error:h});const m=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:v,error:p}=await he(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});return p?this._returnResult({data:null,error:p}):(n.factorType==="totp"&&v.type==="totp"&&(!((u=v?.totp)===null||u===void 0)&&u.qr_code)&&(v.totp.qr_code=`data:image/svg+xml;utf-8,${v.totp.qr_code}`),this._returnResult({data:v,error:null}))})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:u,error:c}=s;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?k1(n.webauthn.credential_response):D1(n.webauthn.credential_response)})}:{code:n.code}),{data:m,error:v}=await he(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:h,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return v?this._returnResult({data:null,error:v}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:v}))})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:u,error:c}=s;if(c)return this._returnResult({data:null,error:c});const h=await he(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});if(h.error)return h;const{data:m}=h;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:C1(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:R1(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(n){const{data:s,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){var n;const{data:{user:s},error:l}=await this.getUser();if(l)return{data:null,error:l};const u={all:[],phone:[],totp:[],webauthn:[]};for(const c of(n=s?.factors)!==null&&n!==void 0?n:[])u.all.push(c),c.status==="verified"&&u[c.factor_type].push(c);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){var n,s;const{data:{session:l},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=bc(l.access_token);let h=null;c.aal&&(h=c.aal);let m=h;((s=(n=l.user.factors)===null||n===void 0?void 0:n.filter(y=>y.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(m="aal2");const p=c.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async s=>{const{data:{session:l},error:u}=s;return u?this._returnResult({data:null,error:u}):l?await he(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Tt})})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(n,s){try{return await this._useSession(async l=>{const{data:{session:u},error:c}=l;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new Tt});const h=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&vt()&&!s?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(l){if(re(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,s){try{return await this._useSession(async l=>{const{data:{session:u},error:c}=l;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new Tt});const h=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&vt()&&!s?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(l){if(re(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:s},error:l}=n;return l?this._returnResult({data:null,error:l}):s?await he(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Tt})})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async s=>{const{data:{session:l},error:u}=s;return u?this._returnResult({data:null,error:u}):l?(await he(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Tt})})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(n,s={keys:[]}){let l=s.keys.find(m=>m.kid===n);if(l)return l;const u=Date.now();if(l=this.jwks.keys.find(m=>m.kid===n),l&&this.jwks_cached_at+Yw>u)return l;const{data:c,error:h}=await he(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=u,l=c.keys.find(m=>m.kid===n),!l)?null:l}async getClaims(n,s={}){try{let l=n;if(!l){const{data:S,error:j}=await this.getSession();if(j||!S.session)return this._returnResult({data:null,error:j});l=S.session.access_token}const{header:u,payload:c,signature:h,raw:{header:m,payload:v}}=bc(l);s?.allowExpired||c1(c.exp);const p=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!p){const{error:S}=await this.getUser(l);if(S)throw S;return{data:{claims:c,header:u,signature:h},error:null}}const y=d1(u.alg),_=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,_,h,Zw(`${m}.${v}`)))throw new Dl("Invalid JWT signature");return{data:{claims:c,header:u,signature:h},error:null}}catch(l){if(re(l))return this._returnResult({data:null,error:l});throw l}}}Bs.nextInstanceID={};const V1=nd,vp=Bs;class G1 extends vp{constructor(n){super(n)}}class gp{constructor(n,s,l){var u,c,h;this.supabaseUrl=n,this.supabaseKey=s;const m=Lw(n);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const v=`sb-${m.hostname.split(".")[0]}-auth-token`,p={db:Rw,realtime:Dw,auth:Object.assign(Object.assign({},kw),{storageKey:v}),global:Cw},y=qw(l??{},p);this.storageKey=(u=y.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(_,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=y.auth)!==null&&h!==void 0?h:{},this.headers,y.global.fetch),this.fetch=Mw(s,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new D_(new URL("rest/v1",m).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new Nw(this.storageUrl.href,this.headers,this.fetch,l?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new A_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,s={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,s,l)}channel(n,s={config:{}}){return this.realtime.channel(n,s)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n,s;if(this.accessToken)return await this.accessToken();const{data:l}=await this.auth.getSession();return(s=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:s,detectSessionInUrl:l,storage:u,userStorage:c,storageKey:h,flowType:m,lock:v,debug:p,throwOnError:y},_,w){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new G1({url:this.authUrl.href,headers:Object.assign(Object.assign({},S),_),storageKey:h,autoRefreshToken:n,persistSession:s,detectSessionInUrl:l,storage:u,userStorage:c,flowType:m,lock:v,debug:p,throwOnError:y,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new Ig(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,l)=>{this._handleTokenChanged(s,"CLIENT",l?.access_token)})}_handleTokenChanged(n,s,l){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==l?(this.changedAccessToken=l,this.realtime.setAuth(l)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Y1=(r,n,s)=>new gp(r,n,s);function K1(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const n=r.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}K1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const P1=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:V1,AuthApiError:np,AuthClient:vp,AuthError:Ms,AuthImplicitGrantRedirectError:Gi,AuthInvalidCredentialsError:Vi,AuthInvalidJwtError:Dl,AuthInvalidTokenResponseError:Rn,AuthPKCECodeVerifierMissingError:lp,AuthPKCEGrantCodeExchangeError:qc,AuthRetryableFetchError:kl,AuthSessionMissingError:Tt,AuthUnknownError:ln,AuthWeakPasswordError:Lc,CustomAuthError:fa,get FunctionRegion(){return Rl},FunctionsError:Vl,FunctionsFetchError:qg,FunctionsHttpError:Nc,FunctionsRelayError:Tc,GoTrueAdminApi:nd,GoTrueClient:Bs,NavigatorLockAcquireTimeoutError:dp,PostgrestError:U_,REALTIME_CHANNEL_STATES:X_,get REALTIME_LISTEN_TYPES(){return Ds},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return kc},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Rc},get REALTIME_SUBSCRIBE_STATES(){return ca},RealtimeChannel:Mn,RealtimeClient:Ig,RealtimePresence:ks,SIGN_OUT_SCOPES:Nl,SupabaseClient:gp,WebSocketFactory:Kg,createClient:Y1,isAuthApiError:sp,isAuthError:re,isAuthImplicitGrantRedirectError:rp,isAuthPKCECodeVerifierMissingError:Kw,isAuthRetryableFetchError:Tl,isAuthSessionMissingError:ip,isAuthWeakPasswordError:Pw,lockInternals:Dn,navigatorLock:hp,processLock:w1},Symbol.toStringTag,{value:"Module"})),{createClient:X1}=P1,ge=X1("https://fjgunsokakbcycuiwllg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZqZ3Vuc29rYWtiY3ljdWl3bGxnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYzMzQ4NTQsImV4cCI6MjA4MTkxMDg1NH0.9l7PVCzbN2Y7VjUfyZInFK9ooeVaGcd5SCTCT43u04k"),pp=N.createContext(null),Ln=()=>N.useContext(pp);function Q1({children:r}){const[n,s]=N.useState(null),[l,u]=N.useState(!0);N.useEffect(()=>{ge.auth.getSession().then(({data:v})=>{s(v.session?.user??null),u(!1)});const{data:{subscription:m}}=ge.auth.onAuthStateChange((v,p)=>{s(p?.user??null)});return()=>m.unsubscribe()},[]);const c=async()=>{await ge.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}})},h=async()=>{await ge.auth.signOut()};return f.jsx(pp.Provider,{value:{user:n,loading:l,signInWithGoogle:c,signOut:h},children:r})}const J1=()=>{const[r,n]=N.useState(""),[s,l]=N.useState(!1),{signInWithGoogle:u}=Ln();ha();const c=async()=>{n(""),l(!0);try{await u()}catch(h){n(h.message||"Erro ao fazer login com Google"),l(!1)}};return f.jsx("div",{className:"login-container",children:f.jsxs("div",{className:"login-box",children:[f.jsx("h1",{className:"login-title",children:"Bem-vindo"}),f.jsx("p",{children:"Entre com sua conta Gmail para continuar."}),f.jsxs("div",{className:"login-form",children:[r&&f.jsx("div",{className:"error-message",children:r}),f.jsxs("button",{onClick:c,className:"login-button google-button",disabled:s,children:[f.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",children:[f.jsx("path",{d:"M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z",fill:"#4285F4"}),f.jsx("path",{d:"M9.003 18c2.43 0 4.467-.806 5.956-2.18L12.05 13.56c-.806.54-1.836.86-3.047.86-2.344 0-4.328-1.584-5.036-3.711H.957v2.332C2.438 15.983 5.482 18 9.003 18z",fill:"#34A853"}),f.jsx("path",{d:"M3.964 10.712c-.18-.54-.282-1.117-.282-1.71 0-.593.102-1.17.282-1.71V4.96H.957C.347 6.175 0 7.55 0 9.002c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05"}),f.jsx("path",{d:"M9.003 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.464.891 11.428 0 9.002 0 5.482 0 2.438 2.017.957 4.958L3.964 7.29c.708-2.127 2.692-3.71 5.036-3.71z",fill:"#EA4335"})]}),s?"Carregando...":"Continuar com Google"]})]})]})})},na=async r=>{const{data:n,error:s}=await ge.from("users").select("*").eq("id",r).single();if(s)throw s;return n},I1=async r=>{try{const{data:n,error:s}=await ge.rpc("generate_daily_loot",{p_user_id:r});if(s)throw s;return n}catch(n){throw console.error("Erro ao gerar loot:",n),n}},Gv=async r=>{try{const{data:n,error:s}=await ge.rpc("check_daily_loot_status",{p_user_id:r});if(s)throw s;return n}catch(n){throw console.error("Erro ao verificar status do loot:",n),n}},Z1=async r=>{const{data:n,error:s}=await ge.rpc("comprar_passe_torneio",{p_user_id:r});if(s)throw s;return n},Yv=async r=>{const{data:n,error:s}=await ge.rpc("obter_status_passe",{p_user_id:r});if(s)throw s;return n},F1=async(r,n)=>{const{data:s,error:l}=await ge.rpc("inscrever_torneio",{p_user_id:r,p_tipo_torneio_id:n});if(l)throw l;return s},W1=async r=>{const{data:n,error:s}=await ge.rpc("cancelar_inscricao_torneio",{p_user_id:r});if(s)throw s;return n},Kv=async r=>{const{data:n,error:s}=await ge.functions.invoke("processar-torneio",{body:{torneio_id:r}});if(s)throw s;return n},wc=async(r,n=!1)=>{const{data:s,error:l}=await ge.rpc("obter_torneio_atual",{p_user_id:r,p_incluir_finalizados:n});if(l)throw l;return s},eS=async()=>{const{data:r,error:n}=await ge.from("tipos_torneio").select("*").eq("ativo",!0).order("taxa_inscricao");if(n)throw n;return r},tS=async r=>{const{data:n,error:s}=await ge.from("torneios").select(`
      id,
      status,
      vencedor_id,
      finalizado_em,
      log,
      created_at,
      tipo_torneio:tipo_torneio_id (
        nome,
        premio_vencedor
      ),
      jogador1:jogador1_id (
        id,
        nome,
        avatar,
        nivel
      ),
      jogador2:jogador2_id (
        id,
        nome,
        avatar,
        nivel
      )
    `).or(`jogador1_id.eq.${r},jogador2_id.eq.${r}`).eq("status","finalizado").order("finalizado_em",{ascending:!1}).limit(10);if(s)throw s;return n},aS=async()=>{const{data:r,error:n}=await ge.from("skills").select("*").order("id");if(n)throw n;return r},id=async r=>{const{data:n,error:s}=await ge.from("user_skills").select(`
      *,
      skill:skills(*)
    `).eq("user_id",r).order("created_at",{ascending:!1});if(s)throw s;return n},Pv=async r=>{const{data:n,error:s}=await ge.from("user_skills").select(`
      *,
      skill:skills(*)
    `).eq("user_id",r).not("slot","is",null).order("slot",{ascending:!0});if(s)throw s;return n},nS=async(r,n)=>{const{data:s,error:l}=await ge.rpc("equip_build_batch",{p_user_id:r,p_skill_slots:n});if(l)throw l;return s},sS=async()=>{const{data:r,error:n}=await ge.from("xp_item_definitions").select("*").order("id");if(n)throw n;return r},iS=async r=>{const{data:n,error:s}=await ge.from("user_xp_items").select(`
      *,
      item:xp_item_definitions(*)
    `).eq("user_id",r).order("created_at",{ascending:!1});if(s)throw s;return n},rS=async(r,n,s=1)=>{const{data:l,error:u}=await ge.rpc("use_xp_item",{p_user_id:r,p_item_id:n,p_quantidade:s});if(u)throw u;return l},lS=async r=>{const{data:n,error:s}=await ge.from("user_builds").select("*").eq("user_id",r).order("created_at",{ascending:!1});if(s)throw s;return n},oS=async(r,n)=>{const{data:s,error:l}=await ge.rpc("save_current_build",{p_user_id:r,p_nome:n});if(l)throw l;return s},uS=async(r,n,s)=>{const{data:l,error:u}=await ge.rpc("update_build",{p_user_id:r,p_build_id:n,p_nome:s});if(u)throw u;return l},cS=async(r,n)=>{const{data:s,error:l}=await ge.rpc("delete_build",{p_user_id:r,p_build_id:n});if(l)throw l;return s},dS=async(r,n,s,l,u)=>{const{data:c,error:h}=await ge.rpc("list_item_on_marketplace",{p_user_id:r,p_item_type:n,p_item_id:s,p_quantidade:l,p_preco:u});if(h)throw h;return c},hS=async(r=null)=>{try{let n=ge.from("marketplace_listings").select("*").eq("status","ativa").order("created_at",{ascending:!1});r&&r!=="my_listings"&&(n=n.eq("item_type",r));const{data:s,error:l}=await n;if(l)throw l;if(!s||s.length===0)return[];const u=[...new Set(s.map(A=>A.seller_id))],{data:c,error:h}=await ge.from("users").select("id, nome, avatar").in("id",u);if(h)throw h;const m={};(c||[]).forEach(A=>{m[A.id]=A});const v=s.filter(A=>A.item_type==="skill"),p=s.filter(A=>A.item_type==="xp_item"),[y,_]=await Promise.all([v.length>0?ge.from("skills").select("*").in("id",v.map(A=>A.item_id)).then(({data:A,error:T})=>{if(T)throw T;return A||[]}):Promise.resolve([]),p.length>0?ge.from("xp_item_definitions").select("*").in("id",p.map(A=>A.item_id)).then(({data:A,error:T})=>{if(T)throw T;return A||[]}):Promise.resolve([])]),w={};y.forEach(A=>{w[A.id]=A});const S={};return _.forEach(A=>{S[A.id]=A}),s.map(A=>({...A,seller:m[A.seller_id]||null,item_details:A.item_type==="skill"?w[A.item_id]:S[A.item_id]}))}catch(n){throw console.error("Erro ao buscar marketplace:",n),n}},fS=async(r,n)=>{const{data:s,error:l}=await ge.rpc("buy_from_marketplace",{p_buyer_id:r,p_listing_id:n});if(l)throw l;return s},mS=async(r,n)=>{const{data:s,error:l}=await ge.rpc("cancel_marketplace_listing",{p_user_id:r,p_listing_id:n});if(l)throw l;return s},vS=async r=>{try{const{data:n,error:s}=await ge.from("marketplace_listings").select("*").eq("seller_id",r).order("created_at",{ascending:!1});if(s)throw s;if(!n||n.length===0)return[];const l=n.filter(y=>y.item_type==="skill"),u=n.filter(y=>y.item_type==="xp_item"),[c,h]=await Promise.all([l.length>0?ge.from("skills").select("*").in("id",l.map(y=>y.item_id)).then(({data:y,error:_})=>{if(_)throw _;return y||[]}):Promise.resolve([]),u.length>0?ge.from("xp_item_definitions").select("*").in("id",u.map(y=>y.item_id)).then(({data:y,error:_})=>{if(_)throw _;return y||[]}):Promise.resolve([])]),m={};c.forEach(y=>{m[y.id]=y});const v={};return h.forEach(y=>{v[y.id]=y}),n.map(y=>({...y,item_details:y.item_type==="skill"?m[y.item_id]:v[y.item_id]}))}catch(n){throw console.error("Erro ao buscar listagens do usurio:",n),n}};const gS=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pS=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,s,l)=>l?l.toUpperCase():s.toLowerCase()),Xv=r=>{const n=pS(r);return n.charAt(0).toUpperCase()+n.slice(1)},yp=(...r)=>r.filter((n,s,l)=>!!n&&n.trim()!==""&&l.indexOf(n)===s).join(" ").trim(),yS=r=>{for(const n in r)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};var bS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const _S=N.forwardRef(({color:r="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:u="",children:c,iconNode:h,...m},v)=>N.createElement("svg",{ref:v,...bS,width:n,height:n,stroke:r,strokeWidth:l?Number(s)*24/Number(n):s,className:yp("lucide",u),...!c&&!yS(m)&&{"aria-hidden":"true"},...m},[...h.map(([p,y])=>N.createElement(p,y)),...Array.isArray(c)?c:[c]]));const Le=(r,n)=>{const s=N.forwardRef(({className:l,...u},c)=>N.createElement(_S,{ref:c,iconNode:n,className:yp(`lucide-${gS(Xv(r))}`,`lucide-${r}`,l),...u}));return s.displayName=Xv(r),s};const wS=[["path",{d:"M4 10a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z",key:"1ol0lm"}],["path",{d:"M8 10h8",key:"c7uz4u"}],["path",{d:"M8 18h8",key:"1no2b1"}],["path",{d:"M8 22v-6a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v6",key:"1fr6do"}],["path",{d:"M9 6V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2",key:"donm21"}]],$c=Le("backpack",wS);const SS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Bi=Le("chevron-down",SS);const ES=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],jS=Le("chevron-left",ES);const xS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],TS=Le("chevron-right",xS);const NS=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],qi=Le("chevron-up",NS);const OS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],AS=Le("circle-alert",OS);const CS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],bp=Le("circle-check-big",CS);const RS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],_p=Le("circle-x",RS);const kS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],DS=Le("clock",kS);const US=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],zS=Le("crown",US);const MS=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],BS=Le("dollar-sign",MS);const qS=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],LS=Le("heart",qS);const $S=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],HS=Le("house",$S);const VS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Hc=Le("info",VS);const GS=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Qv=Le("pen",GS);const YS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],KS=Le("plus",YS);const PS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],XS=Le("save",PS);const QS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Jv=Le("shield-question-mark",QS);const JS=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],El=Le("shopping-cart",JS);const IS=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],wp=Le("sparkles",IS);const ZS=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Vc=Le("star",ZS);const FS=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],WS=Le("store",FS);const eE=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],tE=Le("sword",eE);const aE=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],nE=Le("trash-2",aE);const sE=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],iE=Le("triangle-alert",sE);const rE=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],lE=Le("upload",rE);const oE=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],uE=Le("wallet",oE);const cE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qn=Le("x",cE);function Sp({isOpen:r,onClose:n}){const[s,l]=N.useState(null),[u,c]=N.useState(0),h=w=>{l(s===w?null:w)},m=[{range:"01-10",chances:[77,20,2,0,0,1]},{range:"11-20",chances:[59,29,10,1,0,1]},{range:"21-30",chances:[49,33,15,.7,.3,2]},{range:"31-40",chances:[39,36,18.5,2.5,1,3]},{range:"41-50",chances:[28,41,23,3,1.5,3.5]},{range:"51-60",chances:[20,39,29.5,5,2.5,4]}],v=[{name:"Frasco iniciante",color:"#4caf50"},{name:"Frascos iniciantes ",color:"#2196f3"},{name:"Frasco Concentrado",color:"#9c27b0"},{name:"Frasco da Evoluo",color:"#ff9800"},{name:"Frasco do Despertar",color:"#f44336"},{name:"Magias",color:"#ffd700"}],p=m[u],y=()=>{c(w=>w===0?m.length-1:w-1)},_=()=>{c(w=>w===m.length-1?0:w+1)};return r?f.jsx("div",{className:"info-modal-overlay",onClick:n,children:f.jsxs("div",{className:"info-modal-content",onClick:w=>w.stopPropagation(),children:[f.jsxs("div",{className:"info-modal-header",children:[f.jsx("h2",{children:"Informaes"}),f.jsx("button",{className:"info-modal-close",onClick:n,children:f.jsx(qn,{size:24})})]}),f.jsxs("div",{className:"info-modal-body",children:[f.jsxs("div",{className:"info-section",children:[f.jsxs("button",{className:"info-section-header",onClick:()=>h("about"),children:[f.jsx("span",{children:"Sobre o Projeto"}),s==="about"?f.jsx(qi,{size:20}):f.jsx(Bi,{size:20})]}),s==="about"&&f.jsxs("div",{className:"info-section-content",children:[f.jsx("p",{children:"Nada de Pay To Win, nada de indicados s para criadores de contedos ganharem, nem horas em frente ao pc para ganhar centavos."}),f.jsx("p",{children:"Minha ideia com esse projeto  ser algo simples, que no tome tempo. Farm fcil, torneios rpidos, preos acessveis."}),f.jsx("p",{children:'O "farm"  gratuito, e tudo pode ser listado no mercado para vender para outros jogadores. Farme frascos de experincias para subir de nvel (mximo 60) e, talvez, conseguir habilidades para poder batalhar nos duelos pvp. '})]})]}),f.jsxs("div",{className:"info-section",children:[f.jsxs("button",{className:"info-section-header",onClick:()=>h("howto"),children:[f.jsx("span",{children:"Funcionamento das batalhas"}),s==="howto"?f.jsx(qi,{size:20}):f.jsx(Bi,{size:20})]}),s==="howto"&&f.jsxs("div",{className:"info-section-content",children:[f.jsx("p",{children:" As batalhas so automticas. Cada turno um jogador usa uma habilidade previamente equipada (se no houver nenhuma disponvel o usurio realiza um auto ataque)."}),f.jsx("p",{children:"A escolha de quem ataca primeiro  aleatria (50%), em builds bem pensadas quem ataca primeiro pode ter vantagem."}),f.jsx("p",{children:"No log de batalha, o primeiro a atacar  quem estiver com bordas e cores azuis. "}),f.jsx("p",{children:"Seu Nvel influencia vida e dano de ataque, o que pode ser decisivo nas batalhas, pois magias usam dano de ataque como base para infligir dano ao oponente."})]})]}),f.jsxs("div",{className:"info-section",children:[f.jsxs("button",{className:"info-section-header",onClick:()=>h("carteira"),children:[f.jsx("span",{children:"Carteira"}),s==="carteira"?f.jsx(qi,{size:20}):f.jsx(Bi,{size:20})]}),s==="carteira"&&f.jsxs("div",{className:"info-section-content",children:[f.jsx("p",{children:" Para evitar bots e multicontas, necessrio pagamento vip de R$ 5,00. "}),f.jsx("p",{children:"Saque e depsito mnimo de R$ 5,00."})]})]}),f.jsxs("div",{className:"info-section",children:[f.jsxs("button",{className:"info-section-header",onClick:()=>h("chances"),children:[f.jsx("span",{children:"Probabilidades"}),s==="chances"?f.jsx(qi,{size:20}):f.jsx(Bi,{size:20})]}),s==="chances"&&f.jsxs("div",{className:"info-section-content",children:[f.jsxs("div",{className:"chances-navigation",children:[f.jsx("button",{onClick:y,className:"btn-nav",children:f.jsx(jS,{size:24})}),f.jsxs("div",{className:"chances-level-display",children:[f.jsx("span",{className:"level-label",children:"Nveis"}),f.jsx("span",{className:"level-range",children:p.range})]}),f.jsx("button",{onClick:_,className:"btn-nav",children:f.jsx(TS,{size:24})})]}),f.jsx("div",{className:"chances-list",children:v.map((w,S)=>{const j=p.chances[S];return f.jsxs("div",{className:"chance-item",children:[f.jsx("div",{className:"chance-item-info",children:f.jsx("span",{className:"chance-item-name",children:w.name})}),f.jsxs("div",{className:"chance-item-percentage",children:[f.jsx("div",{className:"chance-bar-container",children:f.jsx("div",{className:"chance-bar-fill",style:{width:`${j}%`,backgroundColor:w.color}})}),f.jsxs("span",{className:"chance-value",children:[j,f.jsx("span",{className:"chance-symbol",children:"%"})]})]})]},S)})}),f.jsx("div",{className:"chances-pagination",children:m.map((w,S)=>f.jsx("button",{className:`pagination-dot ${S===u?"active":""}`,onClick:()=>c(S),title:`Nveis ${w.range}`},S))}),f.jsx("div",{className:"chances-info",children:f.jsx("p",{children:" Chance de vir qualquer uma das 18 magias  a mesma."})})]})]}),f.jsxs("div",{className:"info-section",children:[f.jsxs("button",{className:"info-section-header",onClick:()=>h("contato"),children:[f.jsx("span",{children:"Contato"}),s==="contato"?f.jsx(qi,{size:20}):f.jsx(Bi,{size:20})]}),s==="contato"&&f.jsxs("div",{className:"info-section-content",children:[f.jsxs("p",{children:["Telegram: ",f.jsx("a",{className:"contato",href:"https://t.me/+0R6rVBsv6IliZDQx",target:"_blank",rel:"noopener noreferrer",children:"Entrar no grupo."})]}),f.jsx("p",{children:"E-mail: mageprotocol.jogo@gmail.com"})]})]}),f.jsx("div",{className:"info-version",children:f.jsx("p",{children:"Verso 1.00"})})]})]})}):null}const Pi=({userData:r,onLogout:n})=>{const[s,l]=N.useState(!1),[u,c]=N.useState(!1),h=()=>{l(!s)},m=r?.nivel??1,v=r?.xp??0,p=m*m*100,y=(m+1)*(m+1)*100,_=v-p,w=y-p,S=m>=60?100:Math.min(100,Math.max(0,_/w*100));return f.jsxs("header",{className:"header",children:[f.jsx("div",{className:"header-avatar",children:f.jsx("div",{className:"avatar-container",children:r?.avatar?f.jsx("img",{src:r.avatar,alt:"Avatar",className:"avatar"}):f.jsx("div",{})})}),f.jsxs("div",{className:"header-menu",children:[f.jsxs("div",{className:"header-infos",children:[f.jsxs("div",{className:"user-infos",children:[f.jsx("div",{className:"user-name",children:r?.nome||"Usurio"}),f.jsx("div",{className:"user-money",children:f.jsxs("p",{children:["R$: ",r?.saldo??0]})})]}),f.jsxs("div",{className:"header-level",children:[f.jsx("div",{className:"xp-bar",children:f.jsx("div",{className:"xp-bar-fill",style:{width:`${S}%`}})}),f.jsxs("h4",{className:"user-level",children:["Nvl ",m]})]})]}),f.jsxs("button",{className:`hamburger ${s?"active":""}`,onClick:h,"aria-label":"Menu",children:[f.jsx("span",{}),f.jsx("span",{}),f.jsx("span",{})]})]}),s&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"menu-overlay",onClick:h}),f.jsx("div",{className:"menu-dropdown",children:f.jsx("div",{className:"versao-sair",children:f.jsx("button",{onClick:n,className:"menu-item logout",children:"Sair"})})})]}),f.jsx(Sp,{isOpen:u,onClose:()=>c(!1)})]})},Xi=()=>{const r=Da();return ha(),N.useMemo(()=>r.pathname==="/"?"/":r.pathname.replace(/\/$/,""),[r.pathname]),f.jsxs("div",{className:"nav",children:[f.jsx($i,{to:"/",className:({isActive:n})=>n?"nav3 active":"nav3",children:f.jsxs("div",{className:"nav-icons",children:[f.jsx(HS,{}),"Home"]})}),f.jsx($i,{to:"/carteira",className:({isActive:n})=>n?"nav3 active":"nav3",children:f.jsxs("div",{className:"nav-icons",children:[f.jsx(uE,{}),"Carteira"]})}),f.jsx($i,{to:"/mercado",className:({isActive:n})=>n?"nav3 active":"nav3",children:f.jsxs("div",{className:"nav-icons",children:[f.jsx(WS,{}),"Mercado"]})}),f.jsx($i,{to:"/duelo",className:({isActive:n})=>n?"nav3 active":"nav3",children:f.jsxs("div",{className:"nav-icons",children:[f.jsx(zS,{}),"Duelos"]})})]})},$n=()=>{const[r,n]=N.useState([]),s=(u,c="success",h=2e3)=>{const m=Date.now(),v={id:m,message:u,type:c,duration:h};n(p=>[...p,v]),h>0&&setTimeout(()=>{l(m)},h)},l=u=>{n(c=>c.filter(h=>h.id!==u))};return{toasts:r,showToast:s,removeToast:l}};function cn({toasts:r,onRemove:n}){const s=u=>{switch(u){case"success":return f.jsx(bp,{size:20});case"error":return f.jsx(_p,{size:20});case"warning":return f.jsx(AS,{size:20});case"info":return f.jsx(Hc,{size:20});default:return f.jsx(Hc,{size:20})}},l=u=>{switch(u){case"success":return"#4caf50";case"error":return"#f44336";case"warning":return"#ff9800";case"info":return"#2196f3";default:return"#2196f3"}};return f.jsx("div",{className:"toast-container",children:r.map(u=>f.jsxs("div",{className:`toast toast-${u.type}`,style:{"--toast-color":l(u.type)},children:[f.jsx("div",{className:"toast-icon",children:s(u.type)}),f.jsx("span",{className:"toast-message",children:u.message}),f.jsx("button",{className:"toast-close",onClick:()=>n(u.id),children:f.jsx(qn,{size:16})})]},u.id))})}const Ep=()=>{const[r,n]=N.useState({isOpen:!1,title:"",message:"",confirmText:"Confirmar",cancelText:"Cancelar",type:"warning",onConfirm:null});return{confirmState:r,showConfirm:l=>new Promise(u=>{n({isOpen:!0,title:l.title||"Confirmar ao",message:l.message||"",confirmText:l.confirmText||"Confirmar",cancelText:l.cancelText||"Cancelar",type:l.type||"warning",onConfirm:()=>{n(c=>({...c,isOpen:!1})),u(!0)},onCancel:()=>{n(c=>({...c,isOpen:!1})),u(!1)}})})}};function jp({isOpen:r,onConfirm:n,onCancel:s,title:l="Confirmar ao",message:u="",confirmText:c="Confirmar",cancelText:h="Cancelar",type:m="warning"}){if(!r)return null;const v=()=>{switch(m){case"danger":return f.jsx(_p,{size:48});case"success":return f.jsx(bp,{size:48});default:return f.jsx(iE,{size:48})}},p=()=>{switch(m){case"danger":return"#f44336";case"success":return"#4caf50";default:return"#ff9800"}};return f.jsx("div",{className:"confirm-modal-overlay",onClick:s,children:f.jsxs("div",{className:"confirm-modal-content",onClick:y=>y.stopPropagation(),style:{"--confirm-color":p()},children:[f.jsx("div",{className:"confirm-icon",children:v()}),f.jsx("h2",{className:"confirm-title",children:l}),f.jsx("p",{className:"confirm-message",children:u}),f.jsxs("div",{className:"confirm-actions",children:[f.jsx("button",{className:"btn-confirm-cancel",onClick:s,children:h}),f.jsx("button",{className:`btn-confirm-action btn-confirm-${m}`,onClick:n,children:c})]})]})})}function dE({isOpen:r,onClose:n,children:s,equippedSkills:l=[],onSkillClick:u,onUpdate:c,userData:h}){const[m,v]=N.useState(!1),[p,y]=N.useState([]),[_,w]=N.useState([]),[S,j]=N.useState(""),[A,T]=N.useState(null),[U,z]=N.useState(!1),[q,Q]=N.useState([]),[te,J]=N.useState({open:!1,skill:null}),{toasts:I,showToast:Y,removeToast:M}=$n(),{confirmState:W,showConfirm:me}=Ep();N.useEffect(()=>{if(m){const X=Array(6).fill(null);l.forEach(de=>{de.slot&&de.slot>=1&&de.slot<=6&&(X[de.slot-1]=de)}),Q(X)}},[m,l]),N.useEffect(()=>{m&&h?.id&&_e()},[m,h?.id]);const _e=async()=>{z(!0);try{const[X,de]=await Promise.all([id(h.id),lS(h.id)]);y(X||[]),w(de||[])}catch(X){console.error("Erro ao carregar dados:",X)}finally{z(!1)}},Xe=async()=>{if(!S.trim()){Y("Digite um nome para a build");return}if(_.length>=3&&!A){Y("Voc j tem 3 builds salvas. Delete uma para criar nova.");return}try{z(!0),A?(await uS(h.id,A.id,S),Y("Build atualizada!")):(await oS(h.id,S),Y("Build salva com sucesso!")),j(""),T(null),await _e()}catch(X){console.error("Erro ao salvar build:",X),Y(X.message||"Erro ao salvar build")}finally{z(!1)}},oe=async X=>{const de=[X.slot_1,X.slot_2,X.slot_3,X.slot_4,X.slot_5,X.slot_6],ze=await Promise.all(de.map(async Te=>Te&&p.find(ue=>ue.skill_id===Te)||null));Q(ze),Y(`Build "${X.nome}" carregada.`,"info")},we=async X=>{if(await me({title:"Deletar Build?",message:"Essa ao no pode ser desfeita",confirmText:"Deletar",cancelText:"Voltar",type:"warning"}))try{z(!0),await cS(h.id,X),Y("Build deletada!","success"),await _e()}catch(ze){console.error("Erro ao deletar build:",ze),Y("Erro ao deletar build","error")}finally{z(!1)}},B=X=>{T(X),j(X.nome)},P=X=>{const de=q.findIndex(Te=>Te===null);if(de===-1)return;const ze=[...q];ze[de]=X,Q(ze)},Z=X=>{const de=[...q];de[X]=null,Q(de)},K=async()=>{if(await me({title:"Equipar Build?",message:"Seus slots atuais sero substitudos.",confirmText:"Equipar",cancelText:"Voltar",type:"warning"}))try{z(!0);const de=q.map((ze,Te)=>ze!==null&&Te<F?{skill_id:ze.skill_id,slot:Te+1}:null).filter(ze=>ze!==null);await nS(h.id,de),Y("Build equipada com sucesso!"),Q(Array(6).fill(null)),await _e(),c&&await c(),v(!1)}catch(de){console.error("Erro ao equipar build:",de),Y(de.message||"Erro ao equipar build")}finally{z(!1)}},ee=(X,de)=>{de.stopPropagation(),J({open:!0,skill:X.skill})},x=()=>{J({open:!1,skill:null})};if(!r)return null;const H=h?.nivel??1,F=Math.min(Math.floor(H/10),6),ae=Array(6).fill(null);l.forEach(X=>{X.slot&&X.slot>=1&&X.slot<=6&&(ae[X.slot-1]=X)});const fe=[0,1,2,3,4,5],ye=1e3,Oe=50,it=Math.floor(ye*(1+H*.2)),Ve=Math.floor(Oe*(1+H*.2));return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"character-modal",onClick:n,children:f.jsxs("div",{className:"character-modal-content",onClick:X=>X.stopPropagation(),children:[f.jsx("button",{className:"character-modal-close",onClick:n,children:f.jsx(qn,{size:20})}),f.jsxs("div",{className:"modal-infos",children:[f.jsx("div",{className:"modal-habilities",children:fe.map(X=>{const de=X>=F,ze=(X+1)*10,Te=ae[X];return f.jsx("button",{className:`skill-slot ${Te?"equipped":"empty"} ${de?"locked":""}`,onClick:de?void 0:()=>v(!0),disabled:de,title:de?`Bloqueado: Nvel ${ze}`:Te?Te.skill.name:"Clique para gerenciar",children:de?f.jsxs("div",{className:"lock-container",children:[f.jsx("span",{className:"lock-icon",children:""}),f.jsx("span",{className:"unlock-level",children:ze})]}):Te?Te.skill.image?f.jsx("img",{src:Te.skill.image,alt:Te.skill.name,className:"skill-image"}):f.jsx("span",{className:"skill-initial",children:Te.skill.name.charAt(0)}):f.jsx("span",{className:"skill-empty-icon",children:"+"})},X)})}),f.jsxs("div",{className:"modal-stats",children:[f.jsxs("p",{children:[f.jsx(tE,{size:28,color:"#ff8844",fill:"#f35900ff"}),"Ataque: ",Ve]}),f.jsxs("p",{children:[f.jsx(LS,{size:28,color:"#ff4444",fill:"red"}),"Vida: ",it]})]})]}),s]})}),m&&f.jsx("div",{className:"build-modal-overlay",onClick:()=>v(!1),children:f.jsxs("div",{className:"build-modal-content",onClick:X=>X.stopPropagation(),children:[f.jsx("button",{className:"build-modal-close",onClick:()=>v(!1),children:f.jsx(qn,{size:20})}),f.jsx("h2",{className:"build-modal-title",children:"Gerenciar Builds"}),U?f.jsx("div",{className:"build-loading",children:"Carregando..."}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"build-section",children:[f.jsx("h3",{children:" Build Atual"}),f.jsx("div",{className:"current-build-slots",children:fe.map(X=>{const de=X>=F,ze=(X+1)*10,Te=ae[X];return f.jsx("div",{className:`current-build-slot ${Te?"equipped":"empty"} ${de?"locked":""}`,onClick:Te&&!de?$t=>ee(Te,$t):void 0,title:de?`Bloqueado: Nvel ${ze}`:Te?"Clique para ver detalhes":"Vazio",style:{cursor:Te&&!de?"pointer":"default"},children:de?f.jsxs("div",{className:"lock-container",children:[f.jsx("span",{className:"lock-icon",children:""}),f.jsx("span",{className:"unlock-level",children:ze})]}):Te?Te.skill.image?f.jsx("img",{src:Te.skill.image,alt:Te.skill.name,className:"skill-image"}):f.jsx("span",{className:"skill-initial",children:Te.skill.name.charAt(0)}):f.jsx("span",{className:"skill-empty-icon",children:"-"})},X)})}),f.jsxs("div",{className:"build-save-form",children:[f.jsx("input",{type:"text",placeholder:"Nome...",value:S,onChange:X=>j(X.target.value),maxLength:30,className:"build-name-input"}),f.jsx("button",{onClick:Xe,className:"btn-save-build",children:A?f.jsx(Qv,{size:18,color:"white"}):f.jsx(XS,{size:30,color:"white"})})]}),f.jsx("div",{children:_.length===0?f.jsx("p",{className:"build-empty",children:"Nenhuma build salva."}):f.jsx("div",{className:"build-list",children:_.map(X=>f.jsxs("div",{className:`build-item ${X.is_active?"active":""}`,children:[f.jsxs("div",{className:"build-item-header",children:[f.jsx("span",{className:"build-item-name",children:X.nome}),X.is_active&&f.jsx("span",{className:"build-active-badge",children:"Ativa"})]}),f.jsxs("div",{className:"build-item-actions",children:[f.jsxs("button",{onClick:()=>oe(X),className:"btn-load-build",title:"Carregar para build temporria",children:[f.jsx(lE,{size:16})," Carregar"]}),A?.id===X.id?f.jsx("button",{onClick:()=>{T(null),j("")},className:"btn-cancel",title:"Cancelar edio",children:f.jsx(qn,{size:14})}):f.jsx("button",{onClick:()=>B(X),className:"btn-edit-build",title:"Editar nome",children:f.jsx(Qv,{size:14})}),f.jsx("button",{onClick:()=>we(X.id),className:"btn-delete-build",title:"Deletar build",children:f.jsx(nE,{size:16})})]})]},X.id))})})]}),f.jsxs("div",{className:"build-section",children:[f.jsx("h3",{children:" Montar Build"}),f.jsx("div",{className:"temp-build-slots",children:q.map((X,de)=>{const ze=de>=F,Te=(de+1)*10;return f.jsx("div",{className:`temp-build-slot ${X?"equipped":"empty"} ${ze?"locked":""}`,onClick:()=>X&&!ze?Z(de):null,title:ze?`Bloqueado: Nvel ${Te}`:X?`${X.skill.name} (Clique para remover)`:"Vazio",children:ze?f.jsxs("div",{className:"lock-container",children:[f.jsx("span",{className:"lock-icon",children:""}),f.jsx("span",{className:"unlock-level",children:Te})]}):X?X.skill.image?f.jsx("img",{src:X.skill.image,alt:X.skill.name,className:"skill-image"}):f.jsx("span",{className:"skill-initial",children:X.skill.name.charAt(0)}):f.jsx("span",{className:"skill-empty-icon",children:"+"})},de)})}),f.jsx("button",{onClick:K,className:"btn-equip-temp-build",disabled:q.every(X=>X===null),children:" Equipar"})]}),f.jsxs("div",{className:"build-section",children:[f.jsx("h3",{children:" Magias Disponveis"}),f.jsx("div",{className:"build-skills-grid",children:p.map(X=>f.jsxs("div",{className:"build-skill-item",children:[f.jsx("div",{className:"skill-image-container",onClick:de=>ee(X,de),title:"Clique para ver detalhes",children:X.skill.image?f.jsx("img",{src:X.skill.image,alt:X.skill.name}):f.jsx("span",{className:"skill-initial",children:X.skill.name.charAt(0)})}),f.jsx("button",{className:"btn-add-skill",onClick:()=>P(X),title:`Adicionar ${X.skill.name}`,children:f.jsx(KS,{color:"white",strokeWidth:3})})]},X.id))})]})]})]})}),te.open&&te.skill&&f.jsx("div",{className:"skill-detail-overlay",onClick:x,children:f.jsxs("div",{className:"skill-detail-container",onClick:X=>X.stopPropagation(),children:[f.jsx("div",{className:"skill-detail-header",children:f.jsx("h3",{className:"skill-detail-name",children:te.skill.name})}),f.jsx("div",{className:"skill-detail-description-box",children:f.jsx("p",{className:"skill-detail-description-text",children:te.skill.descricao||"Sem descrio disponvel"})}),te.skill.cooldown&&f.jsx("div",{className:"skill-detail-cooldown-badge",children:f.jsxs("span",{className:"skill-detail-cooldown-text",children:[" Recarga: ",te.skill.cooldown]})})]})}),f.jsx(cn,{toasts:I,onRemove:M}),f.jsx(jp,{...W})]})}function hE({isOpen:r,onClose:n,item:s,onConfirm:l}){const[u,c]=N.useState(1),[h,m]=N.useState("");if(!r)return null;const v=()=>{u>0&&parseFloat(h)>0&&(l(u,parseFloat(h)),c(1),m(""),n())},p=s?.quantidade||1;return f.jsx("div",{className:"modal-overlay",onClick:n,children:f.jsxs("div",{className:"modal-container",onClick:y=>y.stopPropagation(),children:[f.jsxs("div",{className:"modal-header-sell",children:[f.jsxs("h2",{className:"modal-title",children:[f.jsx(BS,{size:24,color:"green"}),"Vender Item"]}),f.jsx("button",{className:"modal-close",onClick:n,children:f.jsx(qn,{size:24})})]}),f.jsxs("div",{className:"sellmodal-item-info",children:[f.jsx("h3",{className:"sellmodal-item-name",children:s?.skill?.name||s?.item?.nome}),f.jsxs("p",{className:"sellmodal-item-quantity",children:["Disponvel: ",p]})]}),f.jsxs("div",{className:"sellmodal-form-group",children:[f.jsx("label",{className:"sellmodal-form-label",children:"Quantidade"}),f.jsx("input",{type:"number",min:"1",max:p,value:u,onChange:y=>c(Math.min(parseInt(y.target.value)||1,p)),className:"form-input"})]}),f.jsxs("div",{className:"sellmodal-form-group",children:[f.jsx("label",{className:"sellmodal-form-label",children:"Preo (R$)"}),f.jsx("input",{type:"number",step:"0.01",min:"0.01",value:h,onChange:y=>m(y.target.value),placeholder:"Taxa de 5% ser aplicado na venda.",className:"form-input"})]}),f.jsxs("div",{className:"modal-actions",children:[f.jsx("button",{className:"btn btn-sell-cancel",onClick:n,children:"Cancelar"}),f.jsx("button",{className:"btn btn-submit",onClick:v,children:"Listar no Mercado"})]})]})})}function fE({isOpen:r,onClose:n,userId:s,onUpdate:l}){const u=ha(),[c,h]=N.useState("skills"),[m,v]=N.useState([]),[p,y]=N.useState([]),[_,w]=N.useState([]),[S,j]=N.useState([]),[A,T]=N.useState(!1),{toasts:U,showToast:z,removeToast:q}=$n(),[Q,te]=N.useState(!1),[J,I]=N.useState(null),[Y,M]=N.useState(null);N.useEffect(()=>{r&&s&&W()},[r,s]);const W=async()=>{T(!0);try{const[oe,we,B,P]=await Promise.all([aS(),id(s),sS(),iS(s)]);v(oe||[]),y(we||[]),w(B||[]),j(P||[])}catch(oe){console.error("Erro ao carregar inventrio:",oe)}finally{T(!1)}},me=async(oe,we=1)=>{try{await rS(s,oe,we),W(),l&&l()}catch(B){console.error("Erro ao usar item:",B)}},_e=(oe,we)=>{I(oe),M(we),te(!0)},Xe=async(oe,we)=>{try{const B=Y==="skill"?J.skill_id:J.item_id;await dS(s,Y,B,oe,we),z("Item listado com sucesso!"),W(),l&&l()}catch(B){console.error("Erro ao listar item:",B),z("Erro ao listar item.")}};return r?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"inventory-modal-overlay",onClick:n,children:f.jsxs("div",{className:"inventory-modal-content",onClick:oe=>oe.stopPropagation(),children:[f.jsx("button",{className:"inventory-modal-close",onClick:n,children:f.jsx(qn,{size:24})}),f.jsxs("div",{className:"inventory-header",children:[f.jsx($c,{size:32}),f.jsx("h2",{children:"Inventrio"})]}),f.jsxs("div",{className:"inventory-tabs",children:[f.jsxs("button",{className:`inventory-tab ${c==="skills"?"active":""}`,onClick:()=>h("skills"),children:[f.jsx(wp,{size:20}),"Magias"]}),f.jsxs("button",{className:`inventory-tab ${c==="xp_items"?"active":""}`,onClick:()=>h("xp_items"),children:[f.jsx(Vc,{size:20}),"Frascos de XP"]})]}),f.jsx("div",{className:"inventory-body",children:A?f.jsx("div",{className:"inventory-loading",children:"Carregando..."}):f.jsxs(f.Fragment,{children:[c==="skills"&&f.jsx("div",{className:"inventory-grid",children:m.length===0?f.jsx("p",{className:"inventory-empty",children:"Nenhuma skill cadastrada"}):m.map(oe=>{const we=p.find(P=>P.skill_id===oe.id),B=!!we;return f.jsxs("div",{className:"inventory-item",children:[f.jsxs("div",{className:"inventory-item-icon",children:[oe.image&&f.jsx("img",{src:oe.image,alt:oe.name,className:"inventory-item-image"}),f.jsx("div",{className:"inventory-item-actions",children:B?f.jsxs("button",{className:"btn-sell",onClick:()=>_e(we,"skill"),title:"Vender no Mercado",children:[f.jsx(El,{size:18})," Vender"]}):f.jsxs("button",{className:"btn-convert",onClick:()=>{n(),u("/mercado")},title:"Comprar no Mercado",children:[f.jsx(El,{size:18})," Comprar"]})})]}),f.jsxs("div",{className:"inventory-item-info",children:[f.jsx("h3",{children:oe.name}),f.jsxs("div",{className:"inventory-item-desc",children:[oe.descricao||"Sem descrio",f.jsxs("div",{className:"inventory-item-stats",children:[B&&f.jsxs("span",{className:"item-quantity",children:["x",we.quantidade]}),oe.cooldown&&f.jsxs("span",{style:{display:"block",marginTop:"4px",color:"#f09124",fontWeight:"bold"},children:["Recarga: ",oe.cooldown]})]})]})]})]},oe.id)})}),c==="xp_items"&&f.jsx("div",{className:"inventory-grid",children:_.length===0?f.jsx("p",{className:"inventory-empty",children:"Nenhum frasco de XP cadastrado"}):_.map(oe=>{const we=S.find(P=>P.item_id===oe.id),B=!!we;return f.jsxs("div",{className:"inventory-item xp-item",children:[f.jsxs("div",{className:"inventory-item-icon",children:[f.jsx("img",{src:`${oe.xp_image}?v=${oe.id}`,alt:oe.nome,className:"inventory-item-image"}),f.jsx("div",{className:"inventory-item-actions",children:B?f.jsxs(f.Fragment,{children:[f.jsx("button",{className:"btn-use",onClick:()=>me(we.item_id,1),children:"Usar x1"}),f.jsx("button",{className:"btn-use",onClick:()=>me(we.item_id,10),children:"Usar x10"}),f.jsxs("button",{className:"btn-sell",onClick:()=>_e(we,"xp_item"),title:"Vender no Marketplace",children:[f.jsx(El,{size:18})," Vender"]})]}):f.jsxs("button",{className:"btn-convert",onClick:()=>{n(),u("/mercado")},title:"Comprar no Mercado",children:[f.jsx(El,{size:18})," Comprar"]})})]}),f.jsxs("div",{className:"inventory-item-info",children:[f.jsx("h3",{children:oe.nome}),f.jsxs("div",{className:"inventory-item-stats",children:[B&&f.jsxs("span",{className:"item-quantity",children:["x",we.quantidade]}),f.jsxs("span",{className:"item-xp-large",children:["+",oe.xp," XP"]})]})]})]},oe.id)})})]})})]})}),f.jsx(hE,{isOpen:Q,onClose:()=>te(!1),item:J,itemType:Y,onConfirm:Xe}),f.jsx(cn,{toasts:U,onRemove:q})]}):null}const Iv="/ProtocolMage/assets/mage-perfil-CIvmsdFK.png",mE="/ProtocolMage/assets/mage-DPjqW8wi.png",vE=()=>{const{user:r,signOut:n}=Ln(),s=ha(),[l,u]=N.useState(null),[c,h]=N.useState(!0),[m,v]=N.useState(!1),[p,y]=N.useState(!1),[_,w]=N.useState(!1),[S,j]=N.useState(!1),[A,T]=N.useState(!1),[U,z]=N.useState(null),[q,Q]=N.useState([]),[te,J]=N.useState(null),[I,Y]=N.useState(""),{toasts:M,showToast:W,removeToast:me}=$n();N.useEffect(()=>{const Z=async()=>{if(r)try{const ee=await Gv(r.id);J(ee)}catch(ee){console.error("Erro ao verificar status do loot:",ee)}};Z();const K=setInterval(Z,6e4);return()=>clearInterval(K)},[r]),N.useEffect(()=>{if(!te?.next_available_at){Y("");return}const Z=()=>{const ee=new Date,H=new Date(te.next_available_at)-ee;if(H<=0){Y("DISPONVEL");return}const F=Math.floor(H/(1e3*60*60)),ae=Math.floor(H%(1e3*60*60)/(1e3*60)),fe=Math.floor(H%(1e3*60)/1e3);Y(`${String(F).padStart(2,"0")}:${String(ae).padStart(2,"0")}:${String(fe).padStart(2,"0")}`)};Z();const K=setInterval(Z,1e3);return()=>clearInterval(K)},[te?.next_available_at]),N.useEffect(()=>{(async()=>{if(r)try{const K=await na(r.id);u(K);const ee=await Pv(r.id);Q(ee||[])}catch(K){console.error("Erro ao buscar dados do usurio:",K)}finally{h(!1)}})()},[r]);const _e=async()=>{A||!te?.can_claim||(T(!0),setTimeout(async()=>{try{const Z=await I1(r.id),K=await na(r.id);u(K);const ee=await Gv(r.id);J(ee),z(Z.items),W("Loot coletado com sucesso!","success")}catch(Z){console.error("Erro ao gerar loot:",Z),Z.message?.includes("j coletado")?W("Voc j pegou seu loot dirio!","warning"):W("Erro ao gerar loot","error")}finally{T(!1)}},100))},Xe=async()=>{try{const Z=await na(r.id);u(Z);const K=await Pv(r.id);Q(K||[])}catch(Z){console.error("Erro ao atualizar dados:",Z)}},oe=()=>{v(!1),y(!0)},we=async()=>{try{await n(),s("/login")}catch(Z){console.error("Erro ao fazer logout:",Z)}};if(c)return f.jsx("div",{className:"home-container",children:f.jsx("div",{className:"loading",children:"Carregando..."})});const B=Z=>{const K={};return Z.forEach(ee=>{const x=`${ee.item_type}_${ee.item_id}`;K[x]?K[x].quantity+=1:K[x]={...ee,quantity:1}}),Object.values(K)},P=()=>A?f.jsxs(f.Fragment,{children:[f.jsx(wp,{className:"spin-icon",size:24}),"Lutando..."]}):te?.can_claim?"Pegar Itens":f.jsx(f.Fragment,{children:f.jsxs("div",{className:"fight-button-cd",children:[f.jsx(DS,{size:20}),I||"Carregando..."]})});return f.jsxs("div",{className:"home-container",children:[f.jsx(Pi,{userData:l,onLogout:we}),f.jsx(cn,{toasts:M,onRemove:me}),f.jsxs("div",{className:"floating-buttons-container",children:[f.jsx("button",{className:"info-floating-button",onClick:()=>w(!0),title:"Informaes",children:f.jsx(Jv,{size:36,color:"#ff9800"})}),f.jsx("button",{className:"info-floating-button tutorial-button",onClick:()=>j(!0),title:"Tutorial",children:f.jsx(Hc,{size:36,color:"#2196F3"})})]}),f.jsxs("main",{className:"home-content",children:[f.jsxs("div",{className:"fight",children:[f.jsx("button",{className:"character-stats side-button",onClick:()=>v(!0),children:f.jsx("img",{src:Iv,alt:""})}),f.jsx("button",{className:"fight-button",onClick:_e,disabled:A||!te?.can_claim,children:P()}),f.jsx("button",{className:"side-button",onClick:()=>y(!0),children:f.jsx($c,{color:"#f09124",size:60})})]}),S&&f.jsx("div",{className:"tutorial-modal-overlay",onClick:()=>j(!1),children:f.jsxs("div",{className:"tutorial-modal-content",onClick:Z=>Z.stopPropagation(),children:[f.jsx("h2",{children:"Bem-vindo!"}),f.jsxs("div",{className:"tutorial-steps",children:[f.jsxs("div",{className:"tutorial-step",children:[f.jsx(Jv,{size:70,color:"#ff9800"}),f.jsxs("p",{children:["Clique em  ",f.jsx("strong",{children:"Pegar itens"})," para conseguir  magias e frascos de XP. So 15 itens por dia, reiniciando todo dias s 00:00. "]})]}),f.jsxs("div",{className:"tutorial-step",children:[f.jsx($c,{color:"#f09124",size:60}),f.jsxs("p",{children:["No ",f.jsx("strong",{children:"inventrio"})," voc encontra seus itens para usar ou vender para outros jogadores no mercado."]})]}),f.jsxs("div",{className:"tutorial-step",children:[f.jsx("img",{src:Iv,alt:"Personagem",style:{width:"3rem",height:"3rem",borderRadius:"100%",objectFit:"cover"}}),f.jsxs("p",{children:["Acesse seu ",f.jsx("strong",{children:"personagem"})," para equipar magias e salvar builds. Um slot  liberado a cada 10 nveis. 60  o nvel mximo, 6 so os slots para magias."]})]}),f.jsxs("div",{className:"tutorial-step",children:[f.jsx(Vc,{size:60,color:"#FFD700",fill:"#FFD700"}),f.jsxs("p",{children:[" Em mdia, voc chegar no nvel mximo em ",f.jsx("strong",{children:"21 dias"})," conseguindo ",f.jsx("strong",{children:"9 magias"})," aleatrias. Tambm pode comprar no mercado para acelerar seu progresso."]})]})]}),f.jsx("button",{className:"tutorial-close-btn",onClick:()=>j(!1),children:"Entendi!"})]})}),U&&f.jsx("div",{className:"loot-modal-overlay",onClick:()=>z(null),children:f.jsxs("div",{className:"loot-modal-content",onClick:Z=>Z.stopPropagation(),children:[f.jsx("div",{className:"loot-items-grid",children:B(U).map((Z,K)=>f.jsxs("div",{className:"loot-item-card",children:[Z.quantity>1&&f.jsxs("span",{className:"loot-item-quantity",children:["x",Z.quantity]}),Z.item_image||Z.item_xp_image?f.jsx("img",{src:Z.item_image||Z.item_xp_image,alt:Z.item_name,className:"loot-item-image"}):f.jsx(Vc,{size:48,color:"#FFD700",fill:"#FFD700"}),f.jsx("h3",{className:"loot-item-name",children:Z.item_name})]},K))}),f.jsx("button",{className:"loot-modal-confirm",onClick:()=>z(null),children:"Fechar"})]})}),f.jsx(dE,{isOpen:m,onClose:()=>v(!1),equippedSkills:q,onSkillClick:oe,onUpdate:Xe,userData:l,children:f.jsx("img",{src:mE,alt:"Character",className:"character-modal-image"})}),f.jsx(fE,{isOpen:p,onClose:()=>y(!1),userId:r?.id,onUpdate:Xe}),f.jsx(Sp,{isOpen:_,onClose:()=>w(!1)}),f.jsx("div",{className:"nav-menu",children:f.jsx(Xi,{})})]})]})},xp=({logTurnos:r=[],userName:n="Voc",oponenteName:s="Oponente",onClose:l,onSkillClick:u,availableSkills:c=[]})=>{const[h,m]=N.useState(0);if(!r||r.length===0)return f.jsx("div",{className:"battle-log-overlay-test",onClick:l,children:f.jsxs("div",{className:"battle-log-container-test",onClick:M=>M.stopPropagation(),children:[f.jsx("p",{className:"battle-log-error",children:"Nenhum log de batalha disponvel"}),f.jsx("button",{onClick:l,className:"battle-log-close-btn",children:"Fechar"})]})});const v=r[0]?.inicio,y=v&&v.oponente&&v.oponente.nome===n?r.map(M=>M.inicio?{...M,inicio:{user:M.inicio.oponente,oponente:M.inicio.user}}:{...M,turn:M.turn,hpUser:M.hpOponente,hpOponente:M.hpUser,actions:M.actions?.map(W=>({...W,actor:W.actor==="user"?"opponent":"user"}))||[],status_effects:M.status_effects?.map(W=>({...W,alvo:W.alvo==="user"?"opponent":"user"}))||[]}):r,_=y[0]?.inicio,w=n,S=s,j=h>0?y[h]:null,A=y.length-1,U=y[1]?.actions?.[0]?.actor||"user",z=()=>{const M=y[y.length-1];return M.hpUser>0?w:M.hpOponente>0?S:"Empate"},q=M=>{if(!M)return null;const W=[];if(M.nome)W.push(` ${M.nome}`);else if(M.tipo==="basic")W.push(" Ataque Bsico");else if(M.tipo==="stunned")return" Atordoado (perdeu o turno)";return M.dano_causado>0&&W.push(` ${M.dano_causado} de dano`),M.dano>0&&W.push(` ${M.dano} de dano`),M.dano_inicial>0&&W.push(` ${M.dano_inicial} de dano inicial`),M.bloqueado&&W.push(" BLOQUEADO"),M.cura>0&&W.push(` +${M.cura} HP`),M.hits>1&&W.push(`(${M.hits}x hits)`),M.execucao_ativa&&W.push(" EXECUO ATIVA"),M.dot_aplicado&&W.push(" DOT aplicado"),M.tipo==="dot"&&W.push(" DOT aplicado"),M.buff_permanente&&W.push(` ${M.buff_permanente}`),M.block_ativo&&W.push(" Bloqueio ativado para prximo turno"),M.delayed&&W.push(` Ativar em ${M.delayed}`),M.ignorou_armor&&W.push(" Ignorou defesa"),W.join(" | ")},Q=M=>{if(!j?.status_effects||j.status_effects.length===0)return null;const W=j.status_effects.filter(me=>me.alvo===M);return W.length===0?null:W.map((me,_e)=>f.jsx("div",{children:me.dots&&me.dots.map((Xe,oe)=>f.jsxs("div",{className:"battle-log-status-effect",children:[" ",Xe.nome,": ",Xe.dano," de dano"]},oe))},_e))},te=U==="user"?w:S,J=U==="user"?S:w,I=U,Y=U==="user"?"opponent":"user";return f.jsx("div",{className:"battle-log-overlay-test",onClick:l,children:f.jsxs("div",{className:"battle-log-container-test",onClick:M=>M.stopPropagation(),children:[f.jsxs("div",{className:"battle-log-header-test",children:[f.jsx("h2",{className:"battle-log-title",children:" Log de Batalha"}),f.jsx("button",{onClick:l,className:"battle-log-close-btn",children:""})]}),f.jsxs("div",{className:"battle-log-content",children:[h===0&&_&&f.jsxs("div",{className:"battle-log-inicio-box",children:[f.jsx("h3",{className:"battle-log-subtitle",children:" Estatsticas Iniciais"}),f.jsxs("div",{className:"battle-log-stats-grid",children:[f.jsxs("div",{className:"battle-log-stat-block",children:[f.jsx("div",{className:"battle-log-stat-label",children:w}),f.jsxs("div",{children:[" HP: ",_.user.hp]}),f.jsxs("div",{children:[" Ataque: ",_.user.attack]}),f.jsxs("div",{children:[" Nvel: ",_.user.nivel]}),_.user.skills?.length>0&&f.jsxs("div",{className:"skills-iniciais-section",children:[f.jsx("div",{className:"skills-text",children:" Magias Equipadas:"}),f.jsx("div",{className:"skills-iniciais",children:_.user.skills.map((M,W)=>{const me=c.find(_e=>_e.skill?.name===M.nome);return f.jsx("div",{onClick:()=>me&&u?.(me.skill),className:"skills-log",style:{cursor:u?"pointer":"default"},children:me?.skill?.image?f.jsx("img",{src:me.skill.image,alt:M.nome,style:{width:"100%",height:"100%",objectFit:"cover"}}):f.jsx("div",{style:{width:"100%",height:"100%",background:"rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.7rem",color:"#ffd700"},children:M.nome?.slice(0,2).toUpperCase()})},W)})})]})]}),f.jsx("div",{className:"battle-log-versus",children:"VS"}),f.jsxs("div",{className:"battle-log-stat-block",children:[f.jsx("div",{className:"battle-log-stat-label",children:S}),f.jsxs("div",{children:[" HP: ",_.oponente.hp]}),f.jsxs("div",{children:[" Ataque: ",_.oponente.attack]}),f.jsxs("div",{children:[" Nvel: ",_.oponente.nivel]}),_.oponente.skills?.length>0&&f.jsxs("div",{className:"skills-iniciais-section",children:[f.jsx("div",{className:"skills-text",children:" Magias Equipadas:"}),f.jsx("div",{className:"skills-iniciais",children:_.oponente.skills.map((M,W)=>{const me=c.find(_e=>_e.skill?.name===M.nome);return f.jsx("div",{onClick:()=>me&&u?.(me.skill),className:"skills-log",style:{cursor:u?"pointer":"default"},children:me?.skill?.image?f.jsx("img",{src:me.skill.image,alt:M.nome,style:{width:"100%",height:"100%",objectFit:"cover"}}):f.jsx("div",{style:{width:"100%",height:"100%",background:"rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.7rem",color:"#ffd700"},children:M.nome?.slice(0,2).toUpperCase()})},W)})})]})]})]})]}),j&&h>0&&f.jsxs("div",{className:"battle-log-turno-box",children:[f.jsx("div",{className:"battle-log-turno-header",children:f.jsxs("div",{className:"battle-log-hp-display",children:[f.jsxs("span",{className:"battle-log-hp-user",children:[te,": ",I==="user"?j.hpUser:j.hpOponente," HP"]}),f.jsxs("span",{className:"battle-log-hp-oponente",children:[J,": ",Y==="user"?j.hpUser:j.hpOponente," HP"]})]})}),f.jsxs("div",{className:"battle-log-combatants-grid",children:[f.jsxs("div",{className:"battle-log-combatant-column user",children:[f.jsxs("div",{className:"battle-log-combatant-header user",children:[" ",te]}),j.status_effects&&j.status_effects.some(M=>M.alvo===I)&&f.jsxs("div",{className:"battle-log-section",children:[f.jsx("div",{className:"battle-log-section-title",children:" Efeitos Ativos"}),f.jsx("div",{className:"battle-log-status-section",children:Q(I)})]}),j.actions.filter(M=>M.actor===I).length>0&&f.jsxs("div",{className:"battle-log-section",children:[f.jsx("div",{className:"battle-log-section-title",children:" Ao"}),j.actions.filter(M=>M.actor===I).map((M,W)=>f.jsx("div",{className:"battle-log-action-item user",children:f.jsx("div",{className:"battle-log-action-detail",children:q(M)})},W))]}),j.actions.filter(M=>M.actor===Y&&(M.dano>0||M.dano_causado>0||M.dano_inicial>0)).length>0&&f.jsxs("div",{className:"battle-log-section",children:[f.jsx("div",{className:"battle-log-section-title",children:" Dano Recebido"}),j.actions.filter(M=>M.actor===Y&&(M.dano>0||M.dano_causado>0||M.dano_inicial>0)).map((M,W)=>f.jsxs("div",{className:"battle-log-damage-taken",children:[" ",M.dano||M.dano_causado||M.dano_inicial," de dano de ",M.nome||"Ataque"]},W))]})]}),f.jsxs("div",{className:"battle-log-combatant-column opponent",children:[f.jsxs("div",{className:"battle-log-combatant-header opponent",children:[" ",J]}),j.status_effects&&j.status_effects.some(M=>M.alvo===Y)&&f.jsxs("div",{className:"battle-log-section",children:[f.jsx("div",{className:"battle-log-section-title",children:" Efeitos Ativos"}),f.jsx("div",{className:"battle-log-status-section",children:Q(Y)})]}),j.actions.filter(M=>M.actor===Y).length>0&&f.jsxs("div",{className:"battle-log-section",children:[f.jsx("div",{className:"battle-log-section-title",children:" Ao"}),j.actions.filter(M=>M.actor===Y).map((M,W)=>f.jsx("div",{className:"battle-log-action-item opponent",children:f.jsx("div",{className:"battle-log-action-detail",children:q(M)})},W))]}),j.actions.filter(M=>M.actor===I&&(M.dano>0||M.dano_causado>0||M.dano_inicial>0)).length>0&&f.jsxs("div",{className:"battle-log-section",children:[f.jsx("div",{className:"battle-log-section-title",children:" Dano Recebido"}),j.actions.filter(M=>M.actor===I&&(M.dano>0||M.dano_causado>0||M.dano_inicial>0)).map((M,W)=>f.jsxs("div",{className:"battle-log-damage-taken",children:[" ",M.dano||M.dano_causado||M.dano_inicial," de dano de ",M.nome||"Ataque"]},W))]})]})]})]}),h===A&&f.jsx("div",{className:"battle-log-resultado",children:f.jsx("h2",{className:"battle-log-resultado-title",children:z()===w?" VITRIA!":z()===S?" DERROTA":" EMPATE"})})]}),f.jsxs("div",{className:"battle-log-navigation",children:[f.jsx("button",{onClick:()=>m(Math.max(0,h-1)),disabled:h===0,className:"battle-log-nav-btn",children:""}),f.jsxs("span",{className:"battle-log-nav-text",children:[h===0?"Incio":`Turno ${j?.turn||h}`," / ",A," turnos"]}),f.jsx("button",{onClick:()=>m(Math.min(A,h+1)),disabled:h===A,className:"battle-log-nav-btn",children:""})]})]})})},gE=()=>{const[r,n]=N.useState(!1),[s,l]=N.useState(!1),[u,c]=N.useState(""),{toasts:h,showToast:m,removeToast:v}=$n(),{user:p,signOut:y}=Ln(),_=ha(),[w,S]=N.useState(null),[j,A]=N.useState(!0),[T,U]=N.useState(null),[z,q]=N.useState([]),[Q,te]=N.useState({}),[J,I]=N.useState({valor:"",banco:"",agencia:"",conta:"",nome_titular:""}),[Y,M]=N.useState("");N.useEffect(()=>{(async()=>{if(p)try{const ee=await na(p.id);S(ee),await W(),await me()}catch(ee){console.error("Erro ao buscar dados do usurio:",ee)}finally{A(!1)}})()},[p]);const W=async()=>{try{const{data:K,error:ee}=await ge.from("transacoes").select("*").eq("user_id",p.id).eq("status","pendente").order("created_at",{ascending:!1}).limit(1).maybeSingle();if(ee){console.error("Erro ao verificar transao pendente:",ee);return}U(K||null)}catch(K){console.error("Erro ao verificar transao pendente:",K)}},me=async()=>{try{const{data:K,error:ee}=await ge.from("transacoes").select("*").eq("user_id",p.id).order("created_at",{ascending:!1}).limit(10);if(ee)throw ee;q(K||[])}catch(K){console.error("Erro ao carregar histrico:",K)}},_e=async()=>{try{await y(),_("/login")}catch(K){console.error("Erro ao fazer logout:",K)}},Xe=K=>{c(K),l(!0),K==="saque"?I({valor:"",banco:"",agencia:"",conta:"",nome_titular:""}):M("")},oe=()=>{l(!1),c("")},we=async K=>{if(K.preventDefault(),parseFloat(Y)<5){m("Valor mnimo  R$ 5,00","error");return}try{const{data:ee,error:x}=await ge.functions.invoke("create-checkout-session",{body:{amount:parseFloat(Y),userId:p.id,userEmail:p.email}});if(x)throw x;ee.url&&(window.location.href=ee.url)}catch(ee){console.error("Erro ao criar sesso de pagamento:",ee),m(ee.message||"Erro ao processar depsito","error")}},B=async K=>{if(K.preventDefault(),parseFloat(J.valor)<5){m("Valor mnimo  R$ 5,00","error");return}if(!J.banco||!J.agencia||!J.conta||!J.nome_titular){m("Preencha todos os campos","error");return}try{const{data:ee,error:x}=await ge.rpc("solicitar_saque",{p_valor:parseFloat(J.valor),p_banco:J.banco,p_agencia:J.agencia,p_conta:J.conta,p_nome_titular:J.nome_titular});if(x)throw x;m("Solicitao de saque enviada com sucesso!","success"),oe(),await W(),await me()}catch(ee){console.error("Erro ao processar saque:",ee),m(ee.message||"Erro ao processar saque","error")}},P=K=>{const{name:ee,value:x}=K.target;I(H=>({...H,[ee]:x}))},Z=K=>{te(ee=>({...ee,[K]:!ee[K]}))};return j?f.jsx("div",{className:"carteira-container",children:f.jsx("div",{className:"loading",children:"Carregando..."})}):T?f.jsxs("div",{className:"carteira-container",children:[f.jsx(Pi,{userData:w,onLogout:_e}),f.jsxs("main",{className:"carteira-content",children:[f.jsxs("div",{className:"carteira-card",children:[f.jsx("h2",{children:" Transao em Processamento"}),f.jsxs("div",{className:"transacao-pendente",children:[f.jsxs("p",{children:["Tipo: ",f.jsx("strong",{children:T.tipo==="deposito"?"Depsito":"Saque"})]}),f.jsxs("p",{children:["Valor: ",f.jsxs("strong",{children:["R$ ",parseFloat(T.valor).toFixed(2)]})]}),f.jsxs("p",{children:["Status: ",f.jsx("strong",{children:T.status})]}),f.jsx("p",{className:"aviso-processamento",children:"Sua transao est sendo processada. A carteira ficar bloqueada at a concluso. Isso pode levar algumas horas."})]})]}),f.jsx("div",{className:"nav-menu",children:f.jsx(Xi,{})})]}),f.jsx(cn,{toasts:h,onRemove:v})]}):f.jsxs("div",{className:"carteira-container",children:[f.jsx(Pi,{userData:w,onLogout:_e}),f.jsxs("main",{className:"carteira-content",children:[f.jsxs("div",{className:"carteira-card",children:[f.jsx("h2",{children:" Carteira"}),f.jsx("span",{children:" Depsito obrigatrio antes de realizar saque."}),f.jsx("span",{children:" Saque s pode ser feito na mesma conta de depsito."}),f.jsxs("div",{className:"saldo",children:["Saldo: ",f.jsxs("span",{children:["R$ ",(w?.saldo??0).toFixed(2)]})]}),f.jsxs("div",{className:"botoes-transacao",children:[f.jsx("button",{className:"depositar-btn",onClick:()=>Xe("deposito"),children:" Depositar"}),f.jsx("button",{className:"sacar-btn",onClick:()=>Xe("saque"),children:" Sacar"})]}),z.length>0&&f.jsxs("div",{className:"historico",children:[f.jsx("h3",{children:"Histrico Recente"}),f.jsx("div",{className:"historico-lista",children:z.map(K=>f.jsxs("div",{className:`historico-item ${K.status}`,children:[f.jsxs("div",{className:"historico-item-header",onClick:()=>K.status==="negado"&&Z(K.id),style:{cursor:K.status==="negado"?"pointer":"default"},children:[f.jsxs("span",{children:[K.tipo==="deposito"?"":""," ",K.tipo]}),f.jsxs("span",{children:["R$ ",parseFloat(K.valor).toFixed(2)]}),f.jsx("span",{className:`status-badge ${K.status}`,children:K.status})]}),K.status==="negado"&&Q[K.id]&&f.jsxs("div",{className:"historico-motivo",children:[f.jsx("strong",{children:"Motivo:"}),f.jsx("p",{children:K.motivo_negacao||"Sem motivo informado"})]})]},K.id))})]})]}),f.jsx("div",{className:"nav-menu",children:f.jsx(Xi,{})})]}),s&&u==="deposito"&&f.jsx("div",{className:"modal-overlay",onClick:oe,children:f.jsxs("div",{className:"modal-content",onClick:K=>K.stopPropagation(),children:[f.jsx("h2",{children:" Depositar via Stripe"}),f.jsxs("form",{onSubmit:we,children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Valor (mn. R$ 5,00)"}),f.jsx("input",{type:"number",step:"0.01",min:"5",value:Y,onChange:K=>M(K.target.value),required:!0,placeholder:"0.00"})]}),f.jsxs("div",{className:"modal-buttons",children:[f.jsx("button",{type:"submit",className:"btn-confirmar",children:"Ir para Pagamento"}),f.jsx("button",{type:"button",className:"btn-cancelar",onClick:oe,children:"Cancelar"})]})]})]})}),s&&u==="saque"&&f.jsx("div",{className:"modal-overlay",onClick:oe,children:f.jsxs("div",{className:"modal-content",onClick:K=>K.stopPropagation(),children:[f.jsx("h2",{children:" Sacar"}),f.jsxs("form",{onSubmit:B,children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Valor (mn. R$ 5,00)"}),f.jsx("input",{type:"number",name:"valor",step:"0.01",min:"5",value:J.valor,onChange:P,required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Banco"}),f.jsx("input",{type:"text",name:"banco",value:J.banco,onChange:P,required:!0})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Agncia"}),f.jsx("input",{type:"text",name:"agencia",value:J.agencia,onChange:P,required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Conta ou Chave PIX"}),f.jsx("input",{type:"text",name:"conta",value:J.conta,onChange:P,required:!0})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Nome do Titular"}),f.jsx("input",{type:"text",name:"nome_titular",value:J.nome_titular,onChange:P,required:!0})]}),f.jsxs("div",{className:"modal-buttons",children:[f.jsx("button",{type:"submit",className:"btn-confirmar",children:"Confirmar"}),f.jsx("button",{type:"button",className:"btn-cancelar",onClick:oe,children:"Cancelar"})]})]})]})}),r&&f.jsx(xp,{userName:w?.nome??"Jogador",oponenteName:"Oponente",onClose:()=>n(!1)}),f.jsx(cn,{toasts:h,onRemove:v})]})},pE=({historico:r,userId:n,onClose:s,onVerLog:l})=>{if(!r||r.length===0)return f.jsx("div",{className:"historico-overlay-simples",onClick:s,children:f.jsxs("div",{className:"historico-modal-simples",onClick:c=>c.stopPropagation(),children:[f.jsxs("div",{className:"historico-header-simples",children:[f.jsx("h2",{children:" Histrico de Batalhas"}),f.jsx("button",{onClick:s,children:""})]}),f.jsx("p",{style:{textAlign:"center",color:"#888",padding:"2rem"},children:"Nenhuma batalha encontrada"})]})});const u=c=>new Date(c).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"});return f.jsx("div",{className:"historico-overlay-simples",onClick:s,children:f.jsxs("div",{className:"historico-modal-simples",onClick:c=>c.stopPropagation(),children:[f.jsxs("div",{className:"historico-header-simples",children:[f.jsx("h2",{children:" Histrico de Batalhas"}),f.jsx("button",{onClick:s,children:""})]}),f.jsx("div",{className:"historico-lista-simples",children:r.map(c=>{const m=c.jogador1?.id===n?c.jogador2:c.jogador1,v=c.vencedor_id===n;return f.jsxs("div",{className:`historico-item-simples ${v?"vitoria":"derrota"}`,onClick:()=>l(c.log,m),children:[f.jsx("div",{className:"historico-resultado",children:v?"":""}),f.jsxs("div",{className:"historico-detalhes",children:[f.jsxs("div",{className:"historico-oponente-nome",children:["vs ",m?.nome||"Oponente"]}),f.jsx("div",{className:"historico-data",children:u(c.finalizado_em||c.created_at)})]})]},c.id)})})]})})},yE=()=>{const{user:r,signOut:n}=Ln(),s=ha(),[l,u]=N.useState(null),[c,h]=N.useState(!0),{toasts:m,showToast:v,removeToast:p}=$n(),[y,_]=N.useState(null),[w,S]=N.useState([]),[j,A]=N.useState(!1),[T,U]=N.useState(!1),[z,q]=N.useState(!1),[Q,te]=N.useState(!1),[J,I]=N.useState(null),[Y,M]=N.useState(!1),[W,me]=N.useState(!1),[_e,Xe]=N.useState([]),[oe,we]=N.useState(null),[B,P]=N.useState(null),[Z,K]=N.useState([]),[ee,x]=N.useState({open:!1,skill:null}),H=async(ue=!1)=>{try{const Ae=await wc(r.id,!1);if(Ae.success){const Nt=Ae.torneio.status;if(_(Ae),Nt==="processando"&&!j){A(!0);try{await Kv(Ae.torneio.id)}catch(Hn){console.error("Erro ao processar torneio:",Hn),v("Erro ao processar batalha","error"),A(!1)}}}else ue||_(null)}catch(Ae){ue||(console.error("Erro ao buscar torneio:",Ae),_(null))}};N.useEffect(()=>{(async()=>{if(r)try{const[Ae,Nt,Hn,Hs]=await Promise.all([na(r.id),eS(),id(r.id),Yv(r.id)]);u(Ae),S(Nt),K(Hn||[]),I(Hs),await H(!0)}catch(Ae){console.error("Erro ao carregar dados:",Ae)}finally{h(!1)}})()},[r]),N.useEffect(()=>{if(!y||y.torneio.status==="finalizado"||!j)return;const ue=setInterval(async()=>{const Ae=await wc(r.id,!0);if(Ae.success&&Ae.torneio.status==="finalizado"){A(!1),_(Ae),te(!0);const Nt=await na(r.id);u(Nt),v("Batalha finalizada!","success")}},2e3);return()=>clearInterval(ue)},[y,j]),N.useEffect(()=>{if(!y||y.torneio.status!=="aguardando")return;const ue=setInterval(async()=>{const Ae=await wc(r.id,!1);if(Ae.success&&Ae.torneio.status==="processando"){A(!0),_(Ae);try{await Kv(Ae.torneio.id)}catch(Nt){console.error("Erro ao processar torneio:",Nt),v("Erro ao processar batalha","error"),A(!1)}}},2e3);return()=>clearInterval(ue)},[y,r.id]);const F=async()=>{if(!Y){M(!0);try{const ue=await Z1(r.id);if(ue.success){const[Ae,Nt]=await Promise.all([na(r.id),Yv(r.id)]);u(Ae),I(Nt),v("Passe adquirido com sucesso!","success")}else v(ue.message,"error")}catch(ue){console.error("Erro ao comprar passe:",ue),v("Erro ao comprar passe","error")}finally{M(!1)}}},ae=async ue=>{try{const Ae=await F1(r.id,ue);if(Ae.success){const[Nt]=await Promise.all([na(r.id)]);u(Nt),await H()}else v(Ae.message,"error")}catch(Ae){console.error("Erro ao inscrever:",Ae),v("Erro ao inscrever","error")}},fe=async()=>{if(!T){U(!0);try{const ue=await W1(r.id);if(ue.success){const Ae=await na(r.id);u(Ae),_(null),te(!1)}else v(ue.message,"error")}catch(ue){console.error("Erro ao cancelar:",ue),v("Erro ao cancelar","error")}finally{U(!1)}}},ye=()=>{_(null),te(!1),A(!1)},Oe=async()=>{try{const ue=await tS(r.id);Xe(ue),me(!0)}catch(ue){console.error("Erro ao carregar histrico:",ue),v("Erro ao carregar histrico","error")}},it=(ue,Ae)=>{we(ue),P(Ae),me(!1),q(!0)},Ve=()=>{q(!1),we(null),P(null)},X=async()=>{try{await n(),s("/login")}catch(ue){console.error("Erro ao fazer logout:",ue)}},de=ue=>ue&&(ue.startsWith("http")||ue.startsWith("/"))?f.jsx("img",{src:ue,alt:"avatar",style:{width:"100%",height:"100%",borderRadius:"50%",objectFit:"cover"}}):ue||"";if(c)return f.jsx("div",{className:"torneio-container",children:f.jsx("div",{className:"loading",children:"Carregando..."})});const ze=new Date(J.expira_em).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),Te=y&&y.torneio.status==="aguardando"&&!y.oponente,$t=Q||y&&y.torneio.status==="finalizado";return f.jsxs("div",{className:"torneio-container",children:[f.jsx(Pi,{userData:l,onLogout:X}),f.jsxs("main",{className:"torneio-content",children:[!y&&!Q&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"torneios-header",children:[f.jsx("h1",{children:"Duelos 1 Contra 1"}),f.jsx("button",{onClick:Oe,className:"btn-historico",children:""})]}),J&&!J.tem_passe&&f.jsxs("div",{className:"passe-card",children:[f.jsxs("p",{children:[" Compre o passe mensal por ",f.jsx("strong",{children:"R$ 5,00"})," e jogue por 30 dias!"]}),f.jsx("button",{onClick:F,disabled:Y||l.saldo<5,style:{background:"linear-gradient(135deg, #22c55e, #16a34a)",color:"white",padding:"0.75rem 1.5rem",borderRadius:"8px",border:"none",fontWeight:"bold",cursor:l.saldo>=5?"pointer":"not-allowed",opacity:l.saldo>=5?1:.5},children:Y?"Comprando...":"Comprar Passe"})]}),J&&J.tem_passe&&f.jsxs("div",{className:"passe-ativo",children:["Passe ativo at ",ze,"              "]}),f.jsx("div",{className:"torneios-lista",children:w.map(ue=>f.jsxs("div",{className:"torneio-card",children:[f.jsxs("div",{className:"torneio-card-header",children:[f.jsxs("h3",{children:[" Prmio: ",ue.premio_vencedor.toFixed(2)]}),f.jsxs("div",{className:"torneio-card-taxa",children:["R$ ",ue.taxa_inscricao.toFixed(2)]})]}),f.jsx("p",{className:"torneio-card-desc",children:ue.descricao}),ue.requer_passe&&!J?.tem_passe&&f.jsx("p",{style:{color:"#ef4444",fontSize:"0.85rem",marginBottom:"0.5rem"},children:" Requer passe mensal"}),f.jsx("button",{onClick:()=>ae(ue.id),className:"btn-inscrever-card",disabled:l.saldo<ue.taxa_inscricao||ue.requer_passe&&!J?.tem_passe,children:l.saldo<ue.taxa_inscricao?"Saldo Insuficiente":ue.requer_passe&&!J?.tem_passe?"Precisa de Passe":"Lutar"})]},ue.id))})]}),Te&&f.jsxs("div",{className:"torneio-aguardando",children:[f.jsx("div",{className:"aguardando-icon",children:""}),f.jsx("h2",{children:"Aguardando oponente..."}),f.jsx("p",{className:"aguardando-info",children:"Esperando outro jogador."}),y.torneio.pode_cancelar&&f.jsx("button",{onClick:fe,className:"btn-cancelar-duelo",disabled:T,children:T?"Cancelando...":"Cancelar Inscrio"})]}),j&&f.jsxs("div",{className:"torneio-batalhando",children:[f.jsx("div",{className:"batalhando-icon",children:""}),f.jsx("h2",{children:"Batalha em andamento..."}),f.jsx("p",{className:"batalhando-info",children:"Processando resultado..."})]}),$t&&y&&y.oponente&&f.jsxs("div",{className:"torneio-finalizado",children:[f.jsxs("div",{className:"versus-container",children:[f.jsxs("div",{className:`player-card ${y.torneio.vencedor_id===r.id?"vencedor":"perdedor"}`,children:[f.jsx("div",{className:"player-avatar-big",children:de(l.avatar)}),f.jsx("div",{className:"player-name",children:l.nome})]}),f.jsx("div",{className:"versus-text",children:"VS"}),f.jsxs("div",{className:`player-card ${y.torneio.vencedor_id===y.oponente.id?"vencedor":"perdedor"}`,children:[f.jsx("div",{className:"player-avatar-big",children:de(y.oponente.avatar)}),f.jsx("div",{className:"player-name",children:y.oponente.nome})]})]}),f.jsxs("div",{className:"premio-info",children:[f.jsx("div",{className:"premio-icon",children:y.torneio.vencedor_id===r.id?"":""}),f.jsx("div",{className:"premio-text",children:y.torneio.vencedor_id===r.id?f.jsxs(f.Fragment,{children:["Voc ganhou ",f.jsx("strong",{children:y.torneio.premio_vencedor.toFixed(2)}),"!"]}):f.jsx(f.Fragment,{children:"Voc perdeu"})})]}),f.jsxs("div",{className:"acoes-finalizado",children:[f.jsx("button",{onClick:()=>q(!0),className:"btn-ver-log",children:" Ver Log da Batalha"}),f.jsx("button",{onClick:ye,className:"btn-voltar",children:" Voltar"})]})]})]}),f.jsx("div",{className:"nav-menu",children:f.jsx(Xi,{})}),z&&(oe||y?.torneio?.log)&&f.jsx(xp,{logTurnos:oe||y.torneio.log,userName:l.nome,oponenteName:B?.nome||y.oponente?.nome||"Oponente",onClose:Ve,onSkillClick:ue=>x({open:!0,skill:ue}),availableSkills:Z}),W&&f.jsx(pE,{historico:_e,userId:r.id,onClose:()=>me(!1),onVerLog:it}),ee.open&&ee.skill&&f.jsx("div",{className:"skill-detail-overlay",onClick:()=>x({open:!1,skill:null}),children:f.jsxs("div",{className:"skill-detail-container",onClick:ue=>ue.stopPropagation(),children:[f.jsx("div",{className:"skill-detail-header",children:f.jsx("h3",{className:"skill-detail-name",children:ee.skill.name})}),f.jsx("div",{className:"skill-detail-description-box",children:f.jsx("p",{className:"skill-detail-description-text",children:ee.skill.descricao||"Sem descrio disponvel"})}),ee.skill.cooldown&&f.jsx("div",{className:"skill-detail-cooldown-badge",children:f.jsxs("span",{className:"skill-detail-cooldown-text",children:[" Recarga: ",ee.skill.cooldown]})})]})}),f.jsx(cn,{toasts:m,onRemove:p})]})},bE=()=>{const{user:r,signOut:n}=Ln(),s=ha(),[l,u]=N.useState(null),[c,h]=N.useState(!0),[m,v]=N.useState([]),[p,y]=N.useState([]),[_,w]=N.useState(null),{toasts:S,showToast:j,removeToast:A}=$n(),{confirmState:T,showConfirm:U}=Ep();N.useEffect(()=>{(async()=>{if(r)try{const M=await na(r.id);u(M)}catch(M){console.error("Erro ao buscar dados do usurio:",M)}finally{h(!1)}})()},[r]),N.useEffect(()=>{r&&(z(),q())},[r,_]);const z=async()=>{try{const Y=await hS(_);v(Y.slice(0,6))}catch(Y){console.error("Erro ao carregar marketplace:",Y)}},q=async()=>{try{const Y=await vS(r.id);y(Y)}catch(Y){console.error("Erro ao carregar meus anncios:",Y)}},Q=async Y=>{if(await U({title:"Confirmar compra?",confirmText:"Comprar",type:"warning"}))try{await fS(r.id,Y),j("Item comprado com sucesso!","success"),z();const W=await na(r.id);u(W)}catch(W){console.error("Erro ao comprar:",W),j(W.message||"Erro ao comprar item","error")}},te=async Y=>{if(await U({title:"Cancelar anncio?",confirmText:"Cancelar",cancelText:"Voltar",type:"danger"}))try{await mS(r.id,Y),j("Anncio cancelado com sucesso!","success"),q(),z()}catch(W){console.error("Erro ao cancelar:",W),j("Erro ao cancelar anncio","error")}},J=async()=>{try{await n(),s("/login")}catch(Y){console.error("Erro ao fazer logout:",Y)}};if(c)return f.jsx("div",{className:"mercado-container",children:f.jsx("div",{className:"loading",children:"Carregando..."})});const I=_==="my_listings"?p.filter(Y=>Y.status==="ativa"):m;return f.jsxs("div",{className:"mercado-container",children:[f.jsx(Pi,{userData:l,onLogout:J}),f.jsxs("main",{className:"mercado-content",children:[f.jsxs("div",{className:"mercado-area",children:[f.jsxs("aside",{className:"mercado-sidebar",children:[f.jsx("div",{className:"categoria",children:f.jsx("button",{onClick:()=>w("skill"),children:"Habilidades"})}),f.jsx("div",{className:"categoria",children:f.jsx("button",{onClick:()=>w("xp_item"),children:"Frascos de XP"})}),f.jsx("div",{className:"categoria",children:f.jsx("button",{onClick:()=>w("my_listings"),children:"Meus Anncios"})})]}),f.jsx("section",{className:"mercado-list",children:f.jsx("div",{className:"itens-grid",children:I.length===0?f.jsx("p",{className:"empty-message",children:_==="my_listings"?"Voc no tem anncios ativos":"Nenhum item disponvel no momento"}):I.map(Y=>f.jsxs("div",{className:"item-card",children:[f.jsxs("div",{className:"item-card-info",children:[f.jsxs("div",{className:"item-card-header",children:[Y.item_details?.image&&f.jsx("img",{src:Y.item_details.image,alt:Y.item_details?.name||Y.item_details?.nome,className:"item-card-image"}),f.jsx("h3",{className:"item-card-title",children:Y.item_details?.name||Y.item_details?.nome||`Item ID: ${Y.item_id}`})]}),_!=="my_listings"&&f.jsxs("p",{className:"item-card-seller",children:["Vendedor: ",Y.seller?.nome]}),f.jsxs("p",{className:"item-card-quantity",children:["Quantidade: ",Y.quantidade]})]}),f.jsxs("div",{className:"item-card-compra",children:[f.jsxs("strong",{children:["R$ ",parseFloat(Y.preco).toFixed(2)]}),_==="my_listings"?f.jsx("button",{onClick:()=>te(Y.id),children:"Cancelar"}):f.jsx("button",{onClick:()=>Q(Y.id),disabled:Y.seller_id===r?.id,className:Y.seller_id===r?.id?"disabled":"",children:Y.seller_id===r?.id?"Seu item":"Comprar"})]})]},Y.id))})})]}),f.jsx("div",{className:"nav-menu",children:f.jsx(Xi,{})})]}),f.jsx(cn,{toasts:S,onRemove:A}),f.jsx(jp,{...T})]})},_E=()=>{const{user:r}=Ln(),n=ha(),[s,l]=N.useState(!1),[u,c]=N.useState([]),[h,m]=N.useState("pendente"),[v,p]=N.useState({}),{toasts:y,showToast:_,removeToast:w}=$n();N.useEffect(()=>{r&&S()},[r]),N.useEffect(()=>{s&&j()},[s,h]);const S=async()=>{try{const{data:T,error:U}=await ge.rpc("is_admin",{user_uuid:r.id});if(U)throw U;if(!T){n("/");return}l(!0)}catch(T){console.error("Erro ao verificar admin:",T),n("/")}},j=async()=>{try{let T=ge.from("transacoes").select(`
          *,
          users:user_id (
            id,
            nome,
            email,
            saldo
          )
        `).order("created_at",{ascending:!1});h!=="todas"&&(T=T.eq("status",h));const{data:U,error:z}=await T;if(z)throw z;c(U||[])}catch(T){console.error("Erro ao carregar transaes:",T),_("Erro ao carregar transaes","error")}},A=async(T,U)=>{if(!U&&!v[T]){_("Informe o motivo da negao","warning");return}if(confirm(`Tem certeza que deseja ${U?"aprovar":"negar"} esta transao?`))try{const{error:z}=await ge.rpc("processar_transacao",{p_transacao_id:T,p_aprovar:U,p_motivo_negacao:U?null:v[T]});if(z)throw z;_(`Transao ${U?"aprovada":"negada"} com sucesso!`,"success"),await j(),p(q=>{const Q={...q};return delete Q[T],Q})}catch(z){console.error("Erro ao processar transao:",z),_(z.message||"Erro ao processar transao","error")}};return!r||!s?f.jsx("div",{className:"admin-loading",children:f.jsx("div",{children:"Verificando permisses..."})}):f.jsxs("div",{className:"admin-panel",children:[f.jsxs("div",{className:"admin-header",children:[f.jsx("h1",{children:" Painel Administrativo"}),f.jsx("button",{onClick:()=>n("/"),className:"btn-voltar",children:"Voltar ao Site"})]}),f.jsxs("div",{className:"admin-filtros",children:[f.jsx("button",{className:h==="pendente"?"active":"",onClick:()=>m("pendente"),children:"Pendentes"}),f.jsx("button",{className:h==="aprovado"?"active":"",onClick:()=>m("aprovado"),children:"Aprovados"}),f.jsx("button",{className:h==="negado"?"active":"",onClick:()=>m("negado"),children:"Negados"}),f.jsx("button",{className:h==="todas"?"active":"",onClick:()=>m("todas"),children:"Todas"})]}),f.jsx("div",{className:"transacoes-lista",children:u.length===0?f.jsx("div",{className:"nenhuma-transacao",children:"Nenhuma transao encontrada"}):u.map(T=>f.jsxs("div",{className:`transacao-card ${T.tipo}`,children:[f.jsxs("div",{className:"transacao-header",children:[f.jsx("div",{className:"transacao-tipo",children:T.tipo==="deposito"?" DEPSITO":" SAQUE"}),f.jsx("div",{className:`transacao-status ${T.status}`,children:T.status.toUpperCase()})]}),f.jsxs("div",{className:"transacao-info",children:[f.jsxs("div",{className:"info-row",children:[f.jsx("span",{className:"label",children:"Usurio:"}),f.jsxs("span",{className:"value",children:[T.users?.nome," (",T.users?.email,")"]})]}),f.jsxs("div",{className:"info-row",children:[f.jsx("span",{className:"label",children:"Saldo Atual:"}),f.jsxs("span",{className:"value",children:["R$ ",parseFloat(T.users?.saldo||0).toFixed(2)]})]}),f.jsxs("div",{className:"info-row",children:[f.jsx("span",{className:"label",children:"Valor:"}),f.jsxs("span",{className:"value valor-destaque",children:["R$ ",parseFloat(T.valor).toFixed(2)]})]}),f.jsxs("div",{className:"info-row",children:[f.jsx("span",{className:"label",children:"Data:"}),f.jsx("span",{className:"value",children:new Date(T.created_at).toLocaleString("pt-BR")})]})]}),f.jsxs("div",{className:"transacao-dados-bancarios",children:[f.jsxs("div",{className:"info-row",children:[f.jsx("span",{className:"label",children:"Banco:"}),f.jsx("span",{className:"value",children:T.banco})]}),f.jsxs("div",{className:"info-row",children:[f.jsx("span",{className:"label",children:"Agncia:"}),f.jsx("span",{className:"value",children:T.agencia})]}),f.jsxs("div",{className:"info-row",children:[f.jsx("span",{className:"label",children:"Conta/Pix:"}),f.jsx("span",{className:"value",children:T.conta})]}),f.jsxs("div",{className:"info-row",children:[f.jsx("span",{className:"label",children:"Titular:"}),f.jsx("span",{className:"value",children:T.nome_titular})]})]}),T.motivo_negacao&&f.jsxs("div",{className:"motivo-negacao",children:[f.jsx("strong",{children:"Motivo da Negao:"}),f.jsx("p",{children:T.motivo_negacao})]}),T.status==="pendente"&&f.jsxs("div",{className:"transacao-acoes",children:[f.jsx("textarea",{placeholder:"Motivo da negao (obrigatrio se negar)",value:v[T.id]||"",onChange:U=>p(z=>({...z,[T.id]:U.target.value})),className:"textarea-motivo"}),f.jsxs("div",{className:"botoes-acao",children:[f.jsx("button",{className:"btn-aprovar",onClick:()=>A(T.id,!0),children:" Aprovar"}),f.jsx("button",{className:"btn-negar",onClick:()=>A(T.id,!1),children:" Negar"})]})]}),T.processado_em&&f.jsx("div",{className:"transacao-processamento",children:f.jsxs("small",{children:["Processado em: ",new Date(T.processado_em).toLocaleString("pt-BR")]})})]},T.id))}),f.jsx(cn,{toasts:y,onRemove:w})]})};function Li({children:r}){const{user:n,loading:s}=Ln();return s?f.jsx("div",{children:"Carregando..."}):n?r:f.jsx(rg,{to:"/login",replace:!0})}function wE(){return f.jsx(Q1,{children:f.jsx(HashRouter,{children:f.jsxs(Xb,{children:[f.jsx(rn,{path:"/login",element:f.jsx(J1,{})}),f.jsx(rn,{path:"/",element:f.jsx(Li,{children:f.jsx(vE,{})})}),f.jsx(rn,{path:"/admin",element:f.jsx(Li,{children:f.jsx(_E,{})})}),f.jsx(rn,{path:"/carteira",element:f.jsx(Li,{children:f.jsx(gE,{})})}),f.jsx(rn,{path:"/mercado",element:f.jsx(Li,{children:f.jsx(bE,{})})}),f.jsx(rn,{path:"/duelo",element:f.jsx(Li,{children:f.jsx(yE,{})})}),f.jsx(rn,{path:"*",element:f.jsx(rg,{to:"/",replace:!0})})]})})})}rb.createRoot(document.getElementById("root")).render(f.jsx(N.StrictMode,{children:f.jsx(wE,{})}));
